if(typeof window!="undefined"&&typeof window.nhn=="undefined"){window.nhn={};}
if(typeof window!="undefined"){if(typeof window.jindo=="undefined"){window.jindo={};}}else{if(!jindo){jindo={};}}
jindo.$Jindo=function(){var cl=arguments.callee;var cc=cl._cached;if(cc)return cc;if(!(this instanceof cl))return new cl();if(!cc)cl._cached=this;this.version="1.5.3";}
jindo.$=function(sID){var ret=[],arg=arguments,nArgLeng=arg.length,lastArgument=arg[nArgLeng-1],doc=document,el=null;var reg=/^<([a-z]+|h[1-5])>$/i;var reg2=/^<([a-z]+|h[1-5])(\s+[^>]+)?>/i;if(nArgLeng>1&&typeof lastArgument!="string"&&lastArgument.body){arg=Array.prototype.slice.apply(arg,[0,nArgLeng-1]);doc=lastArgument;}
for(var i=0;i<nArgLeng;i++){el=arg[i];if(typeof el=="string"){el=el.replace(/^\s+|\s+$/g,"");if(el.indexOf("<")>-1){if(reg.test(el)){el=doc.createElement(RegExp.$1);}else if(reg2.test(el)){var p={thead:'table',tbody:'table',tr:'tbody',td:'tr',dt:'dl',dd:'dl',li:'ul',legend:'fieldset',option:"select"};var tag=RegExp.$1.toLowerCase();var ele=jindo._createEle(p[tag],el,doc);for(var i=0,leng=ele.length;i<leng;i++){ret.push(ele[i]);};el=null;}}else{el=doc.getElementById(el);}}
if(el)ret[ret.length]=el;}
return ret.length>1?ret:(ret[0]||null);}
jindo._createEle=function(sParentTag,sHTML,oDoc,bWantParent){var sId='R'+new Date().getTime()+parseInt(Math.random()*100000,10);var oDummy=oDoc.createElement("div");switch(sParentTag){case'select':case'table':case'dl':case'ul':case'fieldset':oDummy.innerHTML='<'+sParentTag+' class="'+sId+'">'+sHTML+'</'+sParentTag+'>';break;case'thead':case'tbody':case'col':oDummy.innerHTML='<table><'+sParentTag+' class="'+sId+'">'+sHTML+'</'+sParentTag+'></table>';break;case'tr':oDummy.innerHTML='<table><tbody><tr class="'+sId+'">'+sHTML+'</tr></tbody></table>';break;default:oDummy.innerHTML='<div class="'+sId+'">'+sHTML+'</div>';break;}
var oFound;for(oFound=oDummy.firstChild;oFound;oFound=oFound.firstChild){if(oFound.className==sId)break;}
return bWantParent?oFound:oFound.childNodes;}
jindo.$Class=function(oDef){function typeClass(){var t=this;var a=[];var superFunc=function(m,superClass,func){if(m!='constructor'&&func.toString().indexOf("$super")>-1){var funcArg=func.toString().replace(/function\s*\(([^\)]*)[\w\W]*/g,"$1").split(",");var funcStr=func.toString().replace(/function[^{]*{/,"").replace(/(\w|\.?)(this\.\$super|this)/g,function(m,m2,m3){if(!m2){return m3+".$super"}
return m;});funcStr=funcStr.substr(0,funcStr.length-1);func=superClass[m]=eval("false||function("+funcArg.join(",")+"){"+funcStr+"}");}
return function(){var f=this.$this[m];var t=this.$this;var r=(t[m]=func).apply(t,arguments);t[m]=f;return r;};}
while(typeof t._$superClass!="undefined"){t.$super=new Object;t.$super.$this=this;for(var x in t._$superClass.prototype){if(t._$superClass.prototype.hasOwnProperty(x)){if(typeof this[x]=="undefined"&&x!="$init")this[x]=t._$superClass.prototype[x];if(x!='constructor'&&x!='_$superClass'&&typeof t._$superClass.prototype[x]=="function"){t.$super[x]=superFunc(x,t._$superClass,t._$superClass.prototype[x]);}else{t.$super[x]=t._$superClass.prototype[x];}}}
if(typeof t.$super.$init=="function")a[a.length]=t;t=t.$super;}
for(var i=a.length-1;i>-1;i--)a[i].$super.$init.apply(a[i].$super,arguments);if(typeof this.$init=="function")this.$init.apply(this,arguments);}
if(typeof oDef.$static!="undefined"){var i=0,x;for(x in oDef){if(oDef.hasOwnProperty(x)){x=="$static"||i++;}}
for(x in oDef.$static){if(oDef.$static.hasOwnProperty(x)){typeClass[x]=oDef.$static[x];}}
if(!i)return oDef.$static;delete oDef.$static;}
typeClass.prototype=oDef;typeClass.prototype.constructor=typeClass;typeClass.extend=jindo.$Class.extend;return typeClass;}
jindo.$Class.extend=function(superClass){if(typeof superClass=="undefined"||superClass===null||!superClass.extend){throw new Error("extend시 슈퍼 클래스는 Class여야 합니다.");}
this.prototype._$superClass=superClass;for(var x in superClass){if(superClass.hasOwnProperty(x)){if(x=="prototype")continue;this[x]=superClass[x];}}
return this;};jindo.$$=jindo.cssquery=(function(){var sVersion='3.0';var debugOption={repeat:1};var UID=1;var cost=0;var validUID={};var bSupportByClassName=document.getElementsByClassName?true:false;var safeHTML=false;var getUID4HTML=function(oEl){var nUID=safeHTML?(oEl._cssquery_UID&&oEl._cssquery_UID[0]):oEl._cssquery_UID;if(nUID&&validUID[nUID]==oEl)return nUID;nUID=UID++;oEl._cssquery_UID=safeHTML?[nUID]:nUID;validUID[nUID]=oEl;return nUID;};var getUID4XML=function(oEl){var oAttr=oEl.getAttribute('_cssquery_UID');var nUID=safeHTML?(oAttr&&oAttr[0]):oAttr;if(!nUID){nUID=UID++;oEl.setAttribute('_cssquery_UID',safeHTML?[nUID]:nUID);}
return nUID;};var getUID=getUID4HTML;var uniqid=function(sPrefix){return(sPrefix||'')+new Date().getTime()+parseInt(Math.random()*100000000,10);};function getElementsByClass(searchClass,node,tag){var classElements=new Array();if(node==null)
node=document;if(tag==null)
tag='*';var els=node.getElementsByTagName(tag);var elsLen=els.length;var pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");for(i=0,j=0;i<elsLen;i++){if(pattern.test(els[i].className)){classElements[j]=els[i];j++;}}
return classElements;}
var getChilds_dontShrink=function(oEl,sTagName,sClassName){if(bSupportByClassName&&sClassName){if(oEl.getElementsByClassName)
return oEl.getElementsByClassName(sClassName);if(oEl.querySelectorAll)
return oEl.querySelectorAll(sClassName);return getElementsByClass(sClassName,oEl,sTagName);}else if(sTagName=='*'){return oEl.all||oEl.getElementsByTagName(sTagName);}
return oEl.getElementsByTagName(sTagName);};var clearKeys=function(){backupKeys._keys={};};var oDocument_dontShrink=document;var bXMLDocument=false;var backupKeys=function(sQuery){var oKeys=backupKeys._keys;sQuery=sQuery.replace(/'(\\'|[^'])*'/g,function(sAll){var uid=uniqid('QUOT');oKeys[uid]=sAll;return uid;});sQuery=sQuery.replace(/"(\\"|[^"])*"/g,function(sAll){var uid=uniqid('QUOT');oKeys[uid]=sAll;return uid;});sQuery=sQuery.replace(/\[(.*?)\]/g,function(sAll,sBody){if(sBody.indexOf('ATTR')==0)return sAll;var uid='['+uniqid('ATTR')+']';oKeys[uid]=sAll;return uid;});var bChanged;do{bChanged=false;sQuery=sQuery.replace(/\(((\\\)|[^)|^(])*)\)/g,function(sAll,sBody){if(sBody.indexOf('BRCE')==0)return sAll;var uid='_'+uniqid('BRCE');oKeys[uid]=sAll;bChanged=true;return uid;});}while(bChanged);return sQuery;};var restoreKeys=function(sQuery,bOnlyAttrBrace){var oKeys=backupKeys._keys;var bChanged;var rRegex=bOnlyAttrBrace?/(\[ATTR[0-9]+\])/g:/(QUOT[0-9]+|\[ATTR[0-9]+\])/g;do{bChanged=false;sQuery=sQuery.replace(rRegex,function(sKey){if(oKeys[sKey]){bChanged=true;return oKeys[sKey];}
return sKey;});}while(bChanged);sQuery=sQuery.replace(/_BRCE[0-9]+/g,function(sKey){return oKeys[sKey]?oKeys[sKey]:sKey;});return sQuery;};var restoreString=function(sKey){var oKeys=backupKeys._keys;var sOrg=oKeys[sKey];if(!sOrg)return sKey;return eval(sOrg);};var wrapQuot=function(sStr){return'"'+sStr.replace(/"/g,'\\"')+'"';};var getStyleKey=function(sKey){if(/^@/.test(sKey))return sKey.substr(1);return null;};var getCSS=function(oEl,sKey){if(oEl.currentStyle){if(sKey=="float")sKey="styleFloat";return oEl.currentStyle[sKey]||oEl.style[sKey];}else if(window.getComputedStyle){return oDocument_dontShrink.defaultView.getComputedStyle(oEl,null).getPropertyValue(sKey.replace(/([A-Z])/g,"-$1").toLowerCase())||oEl.style[sKey];}
if(sKey=="float"&&/MSIE/.test(window.navigator.userAgent))sKey="styleFloat";return oEl.style[sKey];};var oCamels={'accesskey':'accessKey','cellspacing':'cellSpacing','cellpadding':'cellPadding','class':'className','colspan':'colSpan','for':'htmlFor','maxlength':'maxLength','readonly':'readOnly','rowspan':'rowSpan','tabindex':'tabIndex','valign':'vAlign'};var getDefineCode=function(sKey){var sVal;var sStyleKey;if(bXMLDocument){sVal='oEl.getAttribute("'+sKey+'",2)';}else{if(sStyleKey=getStyleKey(sKey)){sKey='$$'+sStyleKey;sVal='getCSS(oEl, "'+sStyleKey+'")';}else{switch(sKey){case'checked':sVal='oEl.checked + ""';break;case'disabled':sVal='oEl.disabled + ""';break;case'enabled':sVal='!oEl.disabled + ""';break;case'readonly':sVal='oEl.readOnly + ""';break;case'selected':sVal='oEl.selected + ""';break;default:if(oCamels[sKey]){sVal='oEl.'+oCamels[sKey];}else{sVal='oEl.getAttribute("'+sKey+'",2)';}}}}
return'_'+sKey+' = '+sVal;};var getReturnCode=function(oExpr){var sStyleKey=getStyleKey(oExpr.key);var sVar='_'+(sStyleKey?'$$'+sStyleKey:oExpr.key);var sVal=oExpr.val?wrapQuot(oExpr.val):'';switch(oExpr.op){case'~=':return'('+sVar+' && (" " + '+sVar+' + " ").indexOf(" " + '+sVal+' + " ") > -1)';case'^=':return'('+sVar+' && '+sVar+'.indexOf('+sVal+') == 0)';case'$=':return'('+sVar+' && '+sVar+'.substr('+sVar+'.length - '+oExpr.val.length+') == '+sVal+')';case'*=':return'('+sVar+' && '+sVar+'.indexOf('+sVal+') > -1)';case'!=':return'('+sVar+' != '+sVal+')';case'=':return'('+sVar+' == '+sVal+')';}
return'('+sVar+')';};var getNodeIndex=function(oEl){var nUID=getUID(oEl);var nIndex=oNodeIndexes[nUID]||0;if(nIndex==0){for(var oSib=(oEl.parentNode||oEl._IE5_parentNode).firstChild;oSib;oSib=oSib.nextSibling){if(oSib.nodeType!=1){continue;}
nIndex++;setNodeIndex(oSib,nIndex);}
nIndex=oNodeIndexes[nUID];}
return nIndex;};var oNodeIndexes={};var setNodeIndex=function(oEl,nIndex){var nUID=getUID(oEl);oNodeIndexes[nUID]=nIndex;};var unsetNodeIndexes=function(){setTimeout(function(){oNodeIndexes={};},0);};var oPseudoes_dontShrink={'contains':function(oEl,sOption){return(oEl.innerText||oEl.textContent||'').indexOf(sOption)>-1;},'last-child':function(oEl,sOption){for(oEl=oEl.nextSibling;oEl;oEl=oEl.nextSibling){if(oEl.nodeType==1)
return false;}
return true;},'first-child':function(oEl,sOption){for(oEl=oEl.previousSibling;oEl;oEl=oEl.previousSibling){if(oEl.nodeType==1)
return false;}
return true;},'only-child':function(oEl,sOption){var nChild=0;for(var oChild=(oEl.parentNode||oEl._IE5_parentNode).firstChild;oChild;oChild=oChild.nextSibling){if(oChild.nodeType==1)nChild++;if(nChild>1)return false;}
return nChild?true:false;},'empty':function(oEl,_){return oEl.firstChild?false:true;},'nth-child':function(oEl,nMul,nAdd){var nIndex=getNodeIndex(oEl);return nIndex%nMul==nAdd;},'nth-last-child':function(oEl,nMul,nAdd){var oLast=(oEl.parentNode||oEl._IE5_parentNode).lastChild;for(;oLast;oLast=oLast.previousSibling){if(oLast.nodeType==1)break;}
var nTotal=getNodeIndex(oLast);var nIndex=getNodeIndex(oEl);var nLastIndex=nTotal-nIndex+1;return nLastIndex%nMul==nAdd;},'checked':function(oEl){return!!oEl.checked;},'selected':function(oEl){return!!oEl.selected;},'enabled':function(oEl){return!oEl.disabled;},'disabled':function(oEl){return!!oEl.disabled;}};var getExpression=function(sBody){var oRet={defines:'',returns:'true'};var sBody=restoreKeys(sBody,true);var aExprs=[];var aDefineCode=[],aReturnCode=[];var sId,sTagName;var sBody=sBody.replace(/:([\w-]+)(\(([^)]*)\))?/g,function(_1,sType,_2,sOption){switch(sType){case'not':var oInner=getExpression(sOption);var sFuncDefines=oInner.defines;var sFuncReturns=oInner.returnsID+oInner.returnsTAG+oInner.returns;aReturnCode.push('!(function() { '+sFuncDefines+' return '+sFuncReturns+' })()');break;case'nth-child':case'nth-last-child':sOption=restoreString(sOption);if(sOption=='even'){sOption='2n';}else if(sOption=='odd'){sOption='2n+1';}
var nMul,nAdd;var matchstr=sOption.match(/([0-9]*)n([+-][0-9]+)*/);if(matchstr){nMul=matchstr[1]||1;nAdd=matchstr[2]||0;}else{nMul=Infinity;nAdd=parseInt(sOption,10);}
aReturnCode.push('oPseudoes_dontShrink['+wrapQuot(sType)+'](oEl, '+nMul+', '+nAdd+')');break;case'first-of-type':case'last-of-type':sType=(sType=='first-of-type'?'nth-of-type':'nth-last-of-type');sOption=1;case'nth-of-type':case'nth-last-of-type':sOption=restoreString(sOption);if(sOption=='even'){sOption='2n';}else if(sOption=='odd'){sOption='2n+1';}
var nMul,nAdd;if(/([0-9]*)n([+-][0-9]+)*/.test(sOption)){nMul=parseInt(RegExp.$1,10)||1;nAdd=parseInt(RegExp.$2,20)||0;}else{nMul=Infinity;nAdd=parseInt(sOption,10);}
oRet.nth=[nMul,nAdd,sType];break;default:sOption=sOption?restoreString(sOption):'';aReturnCode.push('oPseudoes_dontShrink['+wrapQuot(sType)+'](oEl, '+wrapQuot(sOption)+')');break;}
return'';});var sBody=sBody.replace(/\[(@?[\w-]+)(([!^~$*]?=)([^\]]*))?\]/g,function(_1,sKey,_2,sOp,sVal){sKey=restoreString(sKey);sVal=restoreString(sVal);if(sKey=='checked'||sKey=='disabled'||sKey=='enabled'||sKey=='readonly'||sKey=='selected'){if(!sVal){sOp='=';sVal='true';}}
aExprs.push({key:sKey,op:sOp,val:sVal});return'';});var sClassName=null;var sBody=sBody.replace(/\.([\w-]+)/g,function(_,sClass){aExprs.push({key:'class',op:'~=',val:sClass});if(!sClassName)sClassName=sClass;return'';});var sBody=sBody.replace(/#([\w-]+)/g,function(_,sIdValue){if(bXMLDocument){aExprs.push({key:'id',op:'=',val:sIdValue});}else{sId=sIdValue;}
return'';});sTagName=sBody=='*'?'':sBody;var oVars={};for(var i=0,oExpr;oExpr=aExprs[i];i++){var sKey=oExpr.key;if(!oVars[sKey])aDefineCode.push(getDefineCode(sKey));aReturnCode.unshift(getReturnCode(oExpr));oVars[sKey]=true;}
if(aDefineCode.length)oRet.defines='var '+aDefineCode.join(',')+';';if(aReturnCode.length)oRet.returns=aReturnCode.join('&&');oRet.quotID=sId?wrapQuot(sId):'';oRet.quotTAG=sTagName?wrapQuot(bXMLDocument?sTagName:sTagName.toUpperCase()):'';if(bSupportByClassName)oRet.quotCLASS=sClassName?wrapQuot(sClassName):'';oRet.returnsID=sId?'oEl.id == '+oRet.quotID+' && ':'';oRet.returnsTAG=sTagName&&sTagName!='*'?'oEl.tagName == '+oRet.quotTAG+' && ':'';return oRet;};var splitToParts=function(sQuery){var aParts=[];var sRel=' ';var sBody=sQuery.replace(/(.*?)\s*(!?[+>~ ]|!)\s*/g,function(_,sBody,sRelative){if(sBody)aParts.push({rel:sRel,body:sBody});sRel=sRelative.replace(/\s+$/g,'')||' ';return'';});if(sBody)aParts.push({rel:sRel,body:sBody});return aParts;};var isNth_dontShrink=function(oEl,sTagName,nMul,nAdd,sDirection){var nIndex=0;for(var oSib=oEl;oSib;oSib=oSib[sDirection]){if(oSib.nodeType==1&&(!sTagName||sTagName==oSib.tagName))
nIndex++;}
return nIndex%nMul==nAdd;};var compileParts=function(aParts){var aPartExprs=[];for(var i=0,oPart;oPart=aParts[i];i++)
aPartExprs.push(getExpression(oPart.body));var sFunc='';var sPushCode='aRet.push(oEl); if (oOptions.single) { bStop = true; }';for(var i=aParts.length-1,oPart;oPart=aParts[i];i--){var oExpr=aPartExprs[i];var sPush=(debugOption.callback?'cost++;':'')+oExpr.defines;var sReturn='if (bStop) {'+(i==0?'return aRet;':'return;')+'}';if(oExpr.returns=='true'){sPush+=(sFunc?sFunc+'(oEl);':sPushCode)+sReturn;}else{sPush+='if ('+oExpr.returns+') {'+(sFunc?sFunc+'(oEl);':sPushCode)+sReturn+'}';}
var sCheckTag='oEl.nodeType != 1';if(oExpr.quotTAG)sCheckTag='oEl.tagName != '+oExpr.quotTAG;var sTmpFunc='(function(oBase'+
(i==0?', oOptions) { var bStop = false; var aRet = [];':') {');if(oExpr.nth){sPush='if (isNth_dontShrink(oEl, '+
(oExpr.quotTAG?oExpr.quotTAG:'false')+','+
oExpr.nth[0]+','+
oExpr.nth[1]+','+'"'+(oExpr.nth[2]=='nth-of-type'?'previousSibling':'nextSibling')+'")) {'+sPush+'}';}
switch(oPart.rel){case' ':if(oExpr.quotID){sTmpFunc+='var oEl = oDocument_dontShrink.getElementById('+oExpr.quotID+');'+'var oCandi = oEl;'+'for (; oCandi; oCandi = (oCandi.parentNode || oCandi._IE5_parentNode)) {'+'if (oCandi == oBase) break;'+'}'+'if (!oCandi || '+sCheckTag+') return aRet;'+
sPush;}else{sTmpFunc+='var aCandi = getChilds_dontShrink(oBase, '+(oExpr.quotTAG||'"*"')+', '+(oExpr.quotCLASS||'null')+');'+'for (var i = 0, oEl; oEl = aCandi[i]; i++) {'+
(oExpr.quotCLASS?'if ('+sCheckTag+') continue;':'')+
sPush+'}';}
break;case'>':if(oExpr.quotID){sTmpFunc+='var oEl = oDocument_dontShrink.getElementById('+oExpr.quotID+');'+'if ((oEl.parentNode || oEl._IE5_parentNode) != oBase || '+sCheckTag+') return aRet;'+
sPush;}else{sTmpFunc+='for (var oEl = oBase.firstChild; oEl; oEl = oEl.nextSibling) {'+'if ('+sCheckTag+') { continue; }'+
sPush+'}';}
break;case'+':if(oExpr.quotID){sTmpFunc+='var oEl = oDocument_dontShrink.getElementById('+oExpr.quotID+');'+'var oPrev;'+'for (oPrev = oEl.previousSibling; oPrev; oPrev = oPrev.previousSibling) { if (oPrev.nodeType == 1) break; }'+'if (!oPrev || oPrev != oBase || '+sCheckTag+') return aRet;'+
sPush;}else{sTmpFunc+='for (var oEl = oBase.nextSibling; oEl; oEl = oEl.nextSibling) { if (oEl.nodeType == 1) break; }'+'if (!oEl || '+sCheckTag+') { return aRet; }'+
sPush;}
break;case'~':if(oExpr.quotID){sTmpFunc+='var oEl = oDocument_dontShrink.getElementById('+oExpr.quotID+');'+'var oCandi = oEl;'+'for (; oCandi; oCandi = oCandi.previousSibling) { if (oCandi == oBase) break; }'+'if (!oCandi || '+sCheckTag+') return aRet;'+
sPush;}else{sTmpFunc+='for (var oEl = oBase.nextSibling; oEl; oEl = oEl.nextSibling) {'+'if ('+sCheckTag+') { continue; }'+'if (!markElement_dontShrink(oEl, '+i+')) { break; }'+
sPush+'}';}
break;case'!':if(oExpr.quotID){sTmpFunc+='var oEl = oDocument_dontShrink.getElementById('+oExpr.quotID+');'+'for (; oBase; oBase = (oBase.parentNode || oBase._IE5_parentNode)) { if (oBase == oEl) break; }'+'if (!oBase || '+sCheckTag+') return aRet;'+
sPush;}else{sTmpFunc+='for (var oEl = (oBase.parentNode || oBase._IE5_parentNode); oEl; oEl = (oEl.parentNode || oEl._IE5_parentNode)) {'+'if ('+sCheckTag+') { continue; }'+
sPush+'}';}
break;case'!>':if(oExpr.quotID){sTmpFunc+='var oEl = oDocument_dontShrink.getElementById('+oExpr.quotID+');'+'var oRel = (oBase.parentNode || oBase._IE5_parentNode);'+'if (!oRel || oEl != oRel || ('+sCheckTag+')) return aRet;'+
sPush;}else{sTmpFunc+='var oEl = (oBase.parentNode || oBase._IE5_parentNode);'+'if (!oEl || '+sCheckTag+') { return aRet; }'+
sPush;}
break;case'!+':if(oExpr.quotID){sTmpFunc+='var oEl = oDocument_dontShrink.getElementById('+oExpr.quotID+');'+'var oRel;'+'for (oRel = oBase.previousSibling; oRel; oRel = oRel.previousSibling) { if (oRel.nodeType == 1) break; }'+'if (!oRel || oEl != oRel || ('+sCheckTag+')) return aRet;'+
sPush;}else{sTmpFunc+='for (oEl = oBase.previousSibling; oEl; oEl = oEl.previousSibling) { if (oEl.nodeType == 1) break; }'+'if (!oEl || '+sCheckTag+') { return aRet; }'+
sPush;}
break;case'!~':if(oExpr.quotID){sTmpFunc+='var oEl = oDocument_dontShrink.getElementById('+oExpr.quotID+');'+'var oRel;'+'for (oRel = oBase.previousSibling; oRel; oRel = oRel.previousSibling) { '+'if (oRel.nodeType != 1) { continue; }'+'if (oRel == oEl) { break; }'+'}'+'if (!oRel || ('+sCheckTag+')) return aRet;'+
sPush;}else{sTmpFunc+='for (oEl = oBase.previousSibling; oEl; oEl = oEl.previousSibling) {'+'if ('+sCheckTag+') { continue; }'+'if (!markElement_dontShrink(oEl, '+i+')) { break; }'+
sPush+'}';}
break;}
sTmpFunc+=(i==0?'return aRet;':'')+'})';sFunc=sTmpFunc;}
eval('var fpCompiled = '+sFunc+';');return fpCompiled;};var parseQuery=function(sQuery){var sCacheKey=sQuery;var fpSelf=arguments.callee;var fpFunction=fpSelf._cache[sCacheKey];if(!fpFunction){sQuery=backupKeys(sQuery);var aParts=splitToParts(sQuery);fpFunction=fpSelf._cache[sCacheKey]=compileParts(aParts);fpFunction.depth=aParts.length;}
return fpFunction;};parseQuery._cache={};var parseTestQuery=function(sQuery){var fpSelf=arguments.callee;var aSplitQuery=backupKeys(sQuery).split(/\s*,\s*/);var aResult=[];var nLen=aSplitQuery.length;var aFunc=[];for(var i=0;i<nLen;i++){aFunc.push((function(sQuery){var sCacheKey=sQuery;var fpFunction=fpSelf._cache[sCacheKey];if(!fpFunction){sQuery=backupKeys(sQuery);var oExpr=getExpression(sQuery);eval('fpFunction = function(oEl) { '+oExpr.defines+'return ('+oExpr.returnsID+oExpr.returnsTAG+oExpr.returns+'); };');}
return fpFunction;})(restoreKeys(aSplitQuery[i])));}
return aFunc;};parseTestQuery._cache={};var distinct=function(aList){var aDistinct=[];var oDummy={};for(var i=0,oEl;oEl=aList[i];i++){var nUID=getUID(oEl);if(oDummy[nUID])continue;aDistinct.push(oEl);oDummy[nUID]=true;}
return aDistinct;};var markElement_dontShrink=function(oEl,nDepth){var nUID=getUID(oEl);if(cssquery._marked[nDepth][nUID])return false;cssquery._marked[nDepth][nUID]=true;return true;};var oResultCache=null;var bUseResultCache=false;var bExtremeMode=false;var old_cssquery=function(sQuery,oParent,oOptions){if(typeof sQuery=='object'){var oResult={};for(var k in sQuery){if(sQuery.hasOwnProperty(k))
oResult[k]=arguments.callee(sQuery[k],oParent,oOptions);}
return oResult;}
cost=0;var executeTime=new Date().getTime();var aRet;for(var r=0,rp=debugOption.repeat;r<rp;r++){aRet=(function(sQuery,oParent,oOptions){if(oOptions){if(!oOptions.oneTimeOffCache){oOptions.oneTimeOffCache=false;}}else{oOptions={oneTimeOffCache:false};}
cssquery.safeHTML(oOptions.oneTimeOffCache);if(!oParent)oParent=document;oDocument_dontShrink=oParent.ownerDocument||oParent.document||oParent;if(/\bMSIE\s([0-9]+(\.[0-9]+)*);/.test(navigator.userAgent)&&parseFloat(RegExp.$1)<6){try{oDocument_dontShrink.location;}catch(e){oDocument_dontShrink=document;}
oDocument_dontShrink.firstChild=oDocument_dontShrink.getElementsByTagName('html')[0];oDocument_dontShrink.firstChild._IE5_parentNode=oDocument_dontShrink;}
bXMLDocument=(typeof XMLDocument!='undefined')?(oDocument_dontShrink.constructor===XMLDocument):(!oDocument_dontShrink.location);getUID=bXMLDocument?getUID4XML:getUID4HTML;clearKeys();var aSplitQuery=backupKeys(sQuery).split(/\s*,\s*/);var aResult=[];var nLen=aSplitQuery.length;for(var i=0;i<nLen;i++)
aSplitQuery[i]=restoreKeys(aSplitQuery[i]);for(var i=0;i<nLen;i++){var sSingleQuery=aSplitQuery[i];var aSingleQueryResult=null;var sResultCacheKey=sSingleQuery+(oOptions.single?'_single':'');var aCache=bUseResultCache?oResultCache[sResultCacheKey]:null;if(aCache){for(var j=0,oCache;oCache=aCache[j];j++){if(oCache.parent==oParent){aSingleQueryResult=oCache.result;break;}}}
if(!aSingleQueryResult){var fpFunction=parseQuery(sSingleQuery);cssquery._marked=[];for(var j=0,nDepth=fpFunction.depth;j<nDepth;j++)
cssquery._marked.push({});aSingleQueryResult=distinct(fpFunction(oParent,oOptions));if(bUseResultCache&&!oOptions.oneTimeOffCache){if(!(oResultCache[sResultCacheKey]instanceof Array))oResultCache[sResultCacheKey]=[];oResultCache[sResultCacheKey].push({parent:oParent,result:aSingleQueryResult});}}
aResult=aResult.concat(aSingleQueryResult);}
unsetNodeIndexes();return aResult;})(sQuery,oParent,oOptions);}
executeTime=new Date().getTime()-executeTime;if(debugOption.callback)debugOption.callback(sQuery,cost,executeTime);return aRet;};var cssquery;if(document.querySelectorAll){function _isNonStandardQueryButNotException(sQuery){return/\[\s*(?:checked|selected|disabled)/.test(sQuery)}
function _commaRevise(sQuery,sChange){return sQuery.replace(/\,/gi,sChange);}
var protoSlice=Array.prototype.slice;var _toArray=function(aArray){return protoSlice.apply(aArray);}
try{protoSlice.apply(document.documentElement.childNodes);}catch(e){_toArray=function(aArray){var returnArray=[];var leng=aArray.length;for(var i=0;i<leng;i++){returnArray.push(aArray[i]);}
return returnArray;}}
cssquery=function(sQuery,oParent,oOptions){oParent=oParent||document;try{if(_isNonStandardQueryButNotException(sQuery)){throw Error("None Standard Query");}else{var sReviseQuery=sQuery;var oReviseParent=oParent;if(oParent.nodeType!=9){if(bExtremeMode){if(!oParent.id)oParent.id="p"+new Date().getTime()+parseInt(Math.random()*100000000,10);}else{throw Error("Parent Element has not ID.or It is not document.or None Extreme Mode.");}
sReviseQuery=_commaRevise("#"+oParent.id+" "+sQuery,", #"+oParent.id);oReviseParent=oParent.ownerDocument||oParent.document||document;}
if(oOptions&&oOptions.single){return[oReviseParent.querySelector(sReviseQuery)];}else{return _toArray(oReviseParent.querySelectorAll(sReviseQuery));}}}catch(e){return old_cssquery(sQuery,oParent,oOptions);}}}else{cssquery=old_cssquery;}
cssquery.test=function(oEl,sQuery){clearKeys();var aFunc=parseTestQuery(sQuery);for(var i=0,nLen=aFunc.length;i<nLen;i++){if(aFunc[i](oEl))return true;}
return false;};cssquery.useCache=function(bFlag){if(typeof bFlag!='undefined'){bUseResultCache=bFlag;cssquery.clearCache();}
return bUseResultCache;};cssquery.clearCache=function(){oResultCache={};};cssquery.getSingle=function(sQuery,oParent,oOptions){return cssquery(sQuery,oParent,{single:true,oneTimeOffCache:oOptions?(!!oOptions.oneTimeOffCache):false})[0]||null;};cssquery.xpath=function(sXPath,oParent){var sXPath=sXPath.replace(/\/(\w+)(\[([0-9]+)\])?/g,function(_1,sTag,_2,sTh){sTh=sTh||'1';return'>'+sTag+':nth-of-type('+sTh+')';});return old_cssquery(sXPath,oParent);};cssquery.debug=function(fpCallback,nRepeat){debugOption.callback=fpCallback;debugOption.repeat=nRepeat||1;};cssquery.safeHTML=function(bFlag){var bIE=/MSIE/.test(window.navigator.userAgent);if(arguments.length>0)
safeHTML=bFlag&&bIE;return safeHTML||!bIE;};cssquery.version=sVersion;cssquery.release=function(){if(/MSIE/.test(window.navigator.userAgent)){delete validUID;validUID={};if(bUseResultCache){cssquery.clearCache();}}};cssquery._getCacheInfo=function(){return{uidCache:validUID,eleCache:oResultCache}}
cssquery._resetUID=function(){UID=0}
cssquery.extreme=function(bExtreme){if(arguments.length==0){bExtreme=true;}
bExtremeMode=bExtreme;}
return cssquery;})();jindo.$Agent=function(){var cl=arguments.callee;var cc=cl._cached;if(cc)return cc;if(!(this instanceof cl))return new cl;if(!cc)cl._cached=this;this._navigator=navigator;}
jindo.$Agent.prototype.navigator=function(){var info=new Object;var ver=-1;var nativeVersion=-1;var u=this._navigator.userAgent;var v=this._navigator.vendor||"";function f(s,h){return((h||"").indexOf(s)>-1)};info.getName=function(){var name="";for(x in info){if(typeof info[x]=="boolean"&&info[x]&&info.hasOwnProperty(x))
name=x;}
return name;}
info.webkit=f("WebKit",u);info.opera=(typeof window.opera!="undefined")||f("Opera",u);info.ie=!info.opera&&f("MSIE",u);info.chrome=info.webkit&&f("Chrome",u);info.safari=info.webkit&&!info.chrome&&f("Apple",v);info.firefox=f("Firefox",u);info.mozilla=f("Gecko",u)&&!info.safari&&!info.chrome&&!info.firefox;info.camino=f("Camino",v);info.netscape=f("Netscape",u);info.omniweb=f("OmniWeb",u);info.icab=f("iCab",v);info.konqueror=f("KDE",v);info.mobile=(f("Mobile",u)||f("Android",u)||f("Nokia",u)||f("webOS",u)||f("Opera Mini",u)||f("BlackBerry",u)||(f("Windows",u)&&f("PPC",u))||f("Smartphone",u)||f("IEMobile",u))&&!f("iPad",u);info.msafari=(!f("IEMobile",u)&&f("Mobile",u))||(f("iPad",u)&&f("Safari",u));info.mopera=f("Opera Mini",u);info.mie=f("PPC",u)||f("Smartphone",u)||f("IEMobile",u);try{if(info.ie){ver=u.match(/(?:MSIE) ([0-9.]+)/)[1];if(u.match(/(?:Trident)\/([0-9.]+)/)){var nTridentNum=parseInt(RegExp.$1,10);if(nTridentNum>3){nativeVersion=nTridentNum+4;}}}else if(info.safari||info.msafari){ver=parseFloat(u.match(/Safari\/([0-9.]+)/)[1]);if(ver==100){ver=1.1;}else{if(u.match(/Version\/([0-9.]+)/)){ver=RegExp.$1;}else{ver=[1.0,1.2,-1,1.3,2.0,3.0][Math.floor(ver/100)];}}}else if(info.mopera){ver=u.match(/(?:Opera\sMini)\/([0-9.]+)/)[1];}else if(info.firefox||info.opera||info.omniweb){ver=u.match(/(?:Firefox|Opera|OmniWeb)\/([0-9.]+)/)[1];}else if(info.mozilla){ver=u.match(/rv:([0-9.]+)/)[1];}else if(info.icab){ver=u.match(/iCab[ \/]([0-9.]+)/)[1];}else if(info.chrome){ver=u.match(/Chrome[ \/]([0-9.]+)/)[1];}
info.version=parseFloat(ver);info.nativeVersion=parseFloat(nativeVersion);if(isNaN(info.version))info.version=-1;}catch(e){info.version=-1;}
this.navigator=function(){return info;};return info;};jindo.$Agent.prototype.os=function(){var info=new Object;var u=this._navigator.userAgent;var p=this._navigator.platform;var f=function(s,h){return(h.indexOf(s)>-1)};info.getName=function(){var name="";for(x in info){if(typeof info[x]=="boolean"&&info[x]&&info.hasOwnProperty(x))
name=x;}
return name;}
info.win=f("Win",p)
info.mac=f("Mac",p);info.linux=f("Linux",p);info.win2000=info.win&&(f("NT 5.0",u)||f("2000",u));info.winxp=info.win&&f("NT 5.1",u);info.xpsp2=info.winxp&&f("SV1",u);info.vista=info.win&&f("NT 6.0",u);info.win7=info.win&&f("NT 6.1",u);info.ipad=f("iPad",u);info.iphone=f("iPhone",u)&&!info.ipad;info.android=f("Android",u);info.nokia=f("Nokia",u);info.webos=f("webOS",u);info.blackberry=f("BlackBerry",u);info.mwin=f("PPC",u)||f("Smartphone",u)||f("IEMobile",u);this.os=function(){return info;};return info;};jindo.$Agent.prototype.flash=function(){var info=new Object;var p=this._navigator.plugins;var m=this._navigator.mimeTypes;var f=null;info.installed=false;info.version=-1;if(typeof p!="undefined"&&p.length){f=p["Shockwave Flash"];if(f){info.installed=true;if(f.description){info.version=parseFloat(f.description.match(/[0-9.]+/)[0]);}}
if(p["Shockwave Flash 2.0"]){info.installed=true;info.version=2;}}else if(typeof m!="undefined"&&m.length){f=m["application/x-shockwave-flash"];info.installed=(f&&f.enabledPlugin);}else{for(var i=10;i>1;i--){try{f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i);info.installed=true;info.version=i;break;}catch(e){}}}
this.flash=function(){return info;};this.info=this.flash;return info;};jindo.$Agent.prototype.silverlight=function(){var info=new Object;var p=this._navigator.plugins;var s=null;info.installed=false;info.version=-1;if(typeof p!="undefined"&&p.length){s=p["Silverlight Plug-In"];if(s){info.installed=true;info.version=parseInt(s.description.split(".")[0],10);if(s.description=="1.0.30226.2")info.version=2;}}else{try{s=new ActiveXObject("AgControl.AgControl");info.installed=true;if(s.isVersionSupported("3.0")){info.version=3;}else if(s.isVersionSupported("2.0")){info.version=2;}else if(s.isVersionSupported("1.0")){info.version=1;}}catch(e){}}
this.silverlight=function(){return info;};return info;};jindo.$A=function(array){var cl=arguments.callee;if(typeof array=="undefined"||array==null)array=[];if(array instanceof cl)return array;if(!(this instanceof cl))return new cl(array);this._array=[]
if(array.constructor!=String){this._array=[];for(var i=0;i<array.length;i++){this._array[this._array.length]=array[i];}}};jindo.$A.prototype.toString=function(){return this._array.toString();};jindo.$A.prototype.get=function(nIndex){return this._array[nIndex];};jindo.$A.prototype.length=function(nLen,oValue){if(typeof nLen=="number"){var l=this._array.length;this._array.length=nLen;if(typeof oValue!="undefined"){for(var i=l;i<nLen;i++){this._array[i]=oValue;}}
return this;}else{return this._array.length;}};jindo.$A.prototype.has=function(oValue){return(this.indexOf(oValue)>-1);};jindo.$A.prototype.indexOf=function(oValue){if(typeof this._array.indexOf!='undefined'){jindo.$A.prototype.indexOf=function(oValue){return this._array.indexOf(oValue);}}else{jindo.$A.prototype.indexOf=function(oValue){for(var i=0;i<this._array.length;i++){if(this._array[i]==oValue)return i;}
return-1;}}
return this.indexOf(oValue);};jindo.$A.prototype.$value=function(){return this._array;};jindo.$A.prototype.push=function(oValue1){return this._array.push.apply(this._array,Array.prototype.slice.apply(arguments));};jindo.$A.prototype.pop=function(){return this._array.pop();};jindo.$A.prototype.shift=function(){return this._array.shift();};jindo.$A.prototype.unshift=function(oValue1){this._array.unshift.apply(this._array,Array.prototype.slice.apply(arguments));return this._array.length;};jindo.$A.prototype.forEach=function(fCallback,oThis){if(typeof this._array.forEach=="function"){jindo.$A.prototype.forEach=function(fCallback,oThis){var arr=this._array;var errBreak=this.constructor.Break;var errContinue=this.constructor.Continue;function f(v,i,a){try{fCallback.call(oThis,v,i,a);}catch(e){if(!(e instanceof errContinue))throw e;}};try{this._array.forEach(f);}catch(e){if(!(e instanceof errBreak))throw e;}
return this;}}else{jindo.$A.prototype.forEach=function(fCallback,oThis){var arr=this._array;var errBreak=this.constructor.Break;var errContinue=this.constructor.Continue;function f(v,i,a){try{fCallback.call(oThis,v,i,a);}catch(e){if(!(e instanceof errContinue))throw e;}};for(var i=0;i<arr.length;i++){try{f(arr[i],i,arr);}catch(e){if(e instanceof errBreak)break;throw e;}}
return this;}}
return this.forEach(fCallback,oThis);};jindo.$A.prototype.slice=function(nStart,nEnd){var a=this._array.slice.call(this._array,nStart,nEnd);return jindo.$A(a);};jindo.$A.prototype.splice=function(nIndex,nHowMany){var a=this._array.splice.apply(this._array,Array.prototype.slice.apply(arguments));return jindo.$A(a);};jindo.$A.prototype.shuffle=function(){this._array.sort(function(a,b){return Math.random()>Math.random()?1:-1});return this;};jindo.$A.prototype.reverse=function(){this._array.reverse();return this;};jindo.$A.prototype.empty=function(){return this.length(0);};jindo.$A.Break=function(){if(!(this instanceof arguments.callee))throw new arguments.callee;};jindo.$A.Continue=function(){if(!(this instanceof arguments.callee))throw new arguments.callee;};jindo.$A.prototype.map=function(fCallback,oThis){if(typeof this._array.map=="function"){jindo.$A.prototype.map=function(fCallback,oThis){var arr=this._array;var errBreak=this.constructor.Break;var errContinue=this.constructor.Continue;function f(v,i,a){try{return fCallback.call(oThis,v,i,a);}catch(e){if(e instanceof errContinue){return v;}else{throw e;}}};try{this._array=this._array.map(f);}catch(e){if(!(e instanceof errBreak))throw e;}
return this;}}else{jindo.$A.prototype.map=function(fCallback,oThis){var arr=this._array;var returnArr=[];var errBreak=this.constructor.Break;var errContinue=this.constructor.Continue;function f(v,i,a){try{return fCallback.call(oThis,v,i,a);}catch(e){if(e instanceof errContinue){return v;}else{throw e;}}};for(var i=0;i<this._array.length;i++){try{returnArr[i]=f(arr[i],i,arr);}catch(e){if(e instanceof errBreak){return this;}else{throw e;}}}
this._array=returnArr;return this;}}
return this.map(fCallback,oThis);};jindo.$A.prototype.filter=function(fCallback,oThis){if(typeof this._array.filter!="undefined"){jindo.$A.prototype.filter=function(fCallback,oThis){return jindo.$A(this._array.filter(fCallback,oThis));}}else{jindo.$A.prototype.filter=function(fCallback,oThis){var ar=[];this.forEach(function(v,i,a){if(fCallback.call(oThis,v,i,a)===true){ar[ar.length]=v;}});return jindo.$A(ar);}}
return this.filter(fCallback,oThis);};jindo.$A.prototype.every=function(fCallback,oThis){if(typeof this._array.every!="undefined"){jindo.$A.prototype.every=function(fCallback,oThis){return this._array.every(fCallback,oThis);}}else{jindo.$A.prototype.every=function(fCallback,oThis){var result=true;this.forEach(function(v,i,a){if(fCallback.call(oThis,v,i,a)===false){result=false;jindo.$A.Break();}});return result;}}
return this.every(fCallback,oThis);};jindo.$A.prototype.some=function(fCallback,oThis){if(typeof this._array.some!="undefined"){jindo.$A.prototype.some=function(fCallback,oThis){return this._array.some(fCallback,oThis);}}else{jindo.$A.prototype.some=function(fCallback,oThis){var result=false;this.forEach(function(v,i,a){if(fCallback.call(oThis,v,i,a)===true){result=true;jindo.$A.Break();}});return result;}}
return this.some(fCallback,oThis);};jindo.$A.prototype.refuse=function(oValue1){var a=jindo.$A(Array.prototype.slice.apply(arguments));return this.filter(function(v,i){return!a.has(v)});};jindo.$A.prototype.unique=function(){var a=this._array,b=[],l=a.length;var i,j;for(i=0;i<l;i++){for(j=0;j<b.length;j++){if(a[i]==b[j])break;}
if(j>=b.length)b[j]=a[i];}
this._array=b;return this;};jindo.$Ajax=function(url,option){var cl=arguments.callee;if(!(this instanceof cl))return new cl(url,option);function _getXHR(){if(window.XMLHttpRequest){return new XMLHttpRequest();}else if(ActiveXObject){try{return new ActiveXObject('MSXML2.XMLHTTP');}catch(e){return new ActiveXObject('Microsoft.XMLHTTP');}
return null;}}
var loc=location.toString();var domain='';try{domain=loc.match(/^https?:\/\/([a-z0-9_\-\.]+)/i)[1];}catch(e){}
this._status=0;this._url=url;this._options=new Object;this._headers=new Object;this._options={type:"xhr",method:"post",proxy:"",timeout:0,onload:function(req){},onerror:null,ontimeout:function(req){},jsonp_charset:"utf-8",callbackid:"",callbackname:"",sendheader:true,async:true,decode:true,postBody:false};this.option(option);if(jindo.$Ajax.CONFIG){this.option(jindo.$Ajax.CONFIG);}
var _opt=this._options;_opt.type=_opt.type.toLowerCase();_opt.method=_opt.method.toLowerCase();if(typeof window.__jindo2_callback=="undefined"){window.__jindo2_callback=new Array();}
switch(_opt.type){case"put":case"delete":case"get":case"post":_opt.method=_opt.type;_opt.type="xhr";case"xhr":this._request=_getXHR();break;case"flash":if(!jindo.$Ajax.SWFRequest)throw Error('Require jindo.$Ajax.SWFRequest');this._request=new jindo.$Ajax.SWFRequest(jindo.$Fn(this.option,this).bind());break;case"jsonp":if(!jindo.$Ajax.JSONPRequest)throw Error('Require jindo.$Ajax.JSONPRequest');_opt.method="get";this._request=new jindo.$Ajax.JSONPRequest(jindo.$Fn(this.option,this).bind());break;case"iframe":if(!jindo.$Ajax.FrameRequest)throw Error('Require jindo.$Ajax.FrameRequest');this._request=new jindo.$Ajax.FrameRequest(jindo.$Fn(this.option,this).bind());break;}};jindo.$Ajax.prototype._onload=(function(isIE){if(isIE){return function(){var bSuccess=this._request.readyState==4&&this._request.status==200;var oResult;if(this._request.readyState==4){try{if(this._request.status!=200&&typeof this._options.onerror=='function'){if(!this._request.status==0){this._options.onerror(jindo.$Ajax.Response(this._request));}}else{if(!this._is_abort){oResult=this._options.onload(jindo.$Ajax.Response(this._request));}}}finally{if(typeof this._oncompleted=='function'){this._oncompleted(bSuccess,oResult);}
if(this._options.type=="xhr"){this.abort();try{delete this._request.onload;}catch(e){this._request.onload=undefined;}}
delete this._request.onreadystatechange;}}}}else{return function(){var bSuccess=this._request.readyState==4&&this._request.status==200;var oResult;if(this._request.readyState==4){try{if(this._request.status!=200&&typeof this._options.onerror=='function'){this._options.onerror(jindo.$Ajax.Response(this._request));}else{oResult=this._options.onload(jindo.$Ajax.Response(this._request));}}finally{this._status--;if(typeof this._oncompleted=='function'){this._oncompleted(bSuccess,oResult);}}}}}})(/MSIE/.test(window.navigator.userAgent));jindo.$Ajax.prototype.request=function(oData){this._status++;var t=this;var req=this._request;var opt=this._options;var data,v,a=[],data="";var _timer=null;var url=this._url;this._is_abort=false;if(opt.postBody&&opt.type.toUpperCase()=="XHR"&&opt.method.toUpperCase()!="GET"){if(typeof oData=='string'){data=oData;}else{data=jindo.$Json(oData).toString();}}else if(typeof oData=="undefined"||!oData){data=null;}else{for(var k in oData){if(oData.hasOwnProperty(k)){v=oData[k];if(typeof v=="function")v=v();if(v instanceof Array||v instanceof jindo.$A){jindo.$A(v).forEach(function(value,index,array){a[a.length]=k+"="+encodeURIComponent(value);});}else{a[a.length]=k+"="+encodeURIComponent(v);}}}
data=a.join("&");}
if(data&&opt.type.toUpperCase()=="XHR"&&opt.method.toUpperCase()=="GET"){if(url.indexOf('?')==-1){url+="?";}else{url+="&";}
url+=data;data=null;}
req.open(opt.method.toUpperCase(),url,opt.async);if(opt.type.toUpperCase()=="XHR"&&opt.method.toUpperCase()=="GET"&&/MSIE/.test(window.navigator.userAgent)){req.setRequestHeader("If-Modified-Since","Thu, 1 Jan 1970 00:00:00 GMT");}
if(opt.sendheader){if(!this._headers["Content-Type"]){req.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8");}
req.setRequestHeader("charset","utf-8");for(var x in this._headers){if(this._headers.hasOwnProperty(x)){if(typeof this._headers[x]=="function")
continue;req.setRequestHeader(x,String(this._headers[x]));}}}
var navi=navigator.userAgent;if(req.addEventListener&&!(navi.indexOf("Opera")>-1)&&!(navi.indexOf("MSIE")>-1)){if(this._loadFunc){req.removeEventListener("load",this._loadFunc,false);}
this._loadFunc=function(rq){clearTimeout(_timer);_timer=undefined;t._onload(rq);}
req.addEventListener("load",this._loadFunc,false);}else{if(typeof req.onload!="undefined"){req.onload=function(rq){if(req.readyState==4&&!t._is_abort){clearTimeout(_timer);_timer=undefined;t._onload(rq);}};}else{if(window.navigator.userAgent.match(/(?:MSIE) ([0-9.]+)/)[1]==6&&opt.async){var onreadystatechange=function(rq){if(req.readyState==4&&!t._is_abort){if(_timer){clearTimeout(_timer);_timer=undefined;}
t._onload(rq);clearInterval(t._interval);t._interval=undefined;}};this._interval=setInterval(onreadystatechange,300);}else{req.onreadystatechange=function(rq){if(req.readyState==4){clearTimeout(_timer);_timer=undefined;t._onload(rq);}};}}}
if(opt.timeout>0){if(this._timer)clearTimeout(this._timer);_timer=setTimeout(function(){t._is_abort=true;if(t._interval){clearInterval(t._interval);t._interval=undefined;}
try{req.abort();}catch(e){};opt.ontimeout(req);if(typeof t._oncompleted=='function')t._oncompleted(false);},opt.timeout*1000);this._timer=_timer;}
this._test_url=url;req.send(data);return this;};jindo.$Ajax.prototype.isIdle=function(){return this._status==0;}
jindo.$Ajax.prototype.abort=function(){try{if(this._interval)clearInterval(this._interval);if(this._timer)clearTimeout(this._timer);this._interval=undefined;this._timer=undefined;this._is_abort=true;this._request.abort();}finally{this._status--;}
return this;};jindo.$Ajax.prototype.option=function(name,value){if(typeof name=="undefined")return"";if(typeof name=="string"){if(typeof value=="undefined")return this._options[name];this._options[name]=value;return this;}
try{for(var x in name){if(name.hasOwnProperty(x))
this._options[x]=name[x]}}catch(e){};return this;};jindo.$Ajax.prototype.header=function(name,value){if(typeof name=="undefined")return"";if(typeof name=="string"){if(typeof value=="undefined")return this._headers[name];this._headers[name]=value;return this;}
try{for(var x in name){if(name.hasOwnProperty(x))
this._headers[x]=name[x]}}catch(e){};return this;};jindo.$Ajax.Response=function(req){if(this===jindo.$Ajax)return new jindo.$Ajax.Response(req);this._response=req;};jindo.$Ajax.Response.prototype.xml=function(){return this._response.responseXML;};jindo.$Ajax.Response.prototype.text=function(){return this._response.responseText;};jindo.$Ajax.Response.prototype.status=function(){return this._response.status;};jindo.$Ajax.Response.prototype.readyState=function(){return this._response.readyState;};jindo.$Ajax.Response.prototype.json=function(){if(this._response.responseJSON){return this._response.responseJSON;}else if(this._response.responseText){try{return eval("("+this._response.responseText+")");}catch(e){return{};}}
return{};};jindo.$Ajax.Response.prototype.header=function(name){if(typeof name=="string")return this._response.getResponseHeader(name);return this._response.getAllResponseHeaders();};jindo.$Ajax.RequestBase=jindo.$Class({_respHeaderString:"",callbackid:"",callbackname:"",responseXML:null,responseJSON:null,responseText:"",status:404,readyState:0,$init:function(fpOption){},onload:function(){},abort:function(){},open:function(){},send:function(){},setRequestHeader:function(sName,sValue){this._headers[sName]=sValue;},getResponseHeader:function(sName){return this._respHeaders[sName]||"";},getAllResponseHeaders:function(){return this._respHeaderString;},_getCallbackInfo:function(){var id="";if(this.option("callbackid")!=""){var idx=0;do{id="_"+this.option("callbackid")+"_"+idx;idx++;}while(window.__jindo2_callback[id]);}else{do{id="_"+Math.floor(Math.random()*10000);}while(window.__jindo2_callback[id]);}
if(this.option("callbackname")==""){this.option("callbackname","_callback");}
return{callbackname:this.option("callbackname"),id:id,name:"window.__jindo2_callback."+id};}});jindo.$Ajax.JSONPRequest=jindo.$Class({_headers:{},_respHeaders:{},_script:null,_onerror:null,$init:function(fpOption){this.option=fpOption;},_callback:function(data){if(this._onerror){clearTimeout(this._onerror);this._onerror=null;}
var self=this;this.responseJSON=data;this.onload(this);setTimeout(function(){self.abort()},10);},abort:function(){if(this._script){try{this._script.parentNode.removeChild(this._script);}catch(e){};}},open:function(method,url){this.responseJSON=null;this._url=url;},send:function(data){var t=this;var info=this._getCallbackInfo();var head=document.getElementsByTagName("head")[0];this._script=jindo.$("<script>");this._script.type="text/javascript";this._script.charset=this.option("jsonp_charset");if(head){head.appendChild(this._script);}else if(document.body){document.body.appendChild(this._script);}
window.__jindo2_callback[info.id]=function(data){try{t.readyState=4;t.status=200;t._callback(data);}finally{delete window.__jindo2_callback[info.id];}};var agent=jindo.$Agent(navigator);if(agent.navigator().ie||agent.navigator().opera){this._script.onreadystatechange=function(){if(this.readyState=='loaded'){if(!t.responseJSON){t.readyState=4;t.status=500;t._onerror=setTimeout(function(){t._callback(null);},200);}
this.onreadystatechange=null;}};}else{this._script.onload=function(){if(!t.responseJSON){t.readyState=4;t.status=500;t._onerror=setTimeout(function(){t._callback(null);},200);}
this.onload=null;this.onerror=null;};this._script.onerror=function(){if(!t.responseJSON){t.readyState=4;t.status=404;t._onerror=setTimeout(function(){t._callback(null);},200);}
this.onerror=null;this.onload=null;};}
var delimiter="&";if(this._url.indexOf('?')==-1){delimiter="?";}
if(data){data="&"+data;}else{data="";}
this._test_url=this._url+delimiter+info.callbackname+"="+info.name+data;this._script.src=this._url+delimiter+info.callbackname+"="+info.name+data;}}).extend(jindo.$Ajax.RequestBase);jindo.$Ajax.SWFRequest=jindo.$Class({$init:function(fpOption){this.option=fpOption;},_headers:{},_respHeaders:{},_getFlashObj:function(){var navi=jindo.$Agent(window.navigator).navigator();var obj;if(navi.ie&&navi.version==9){obj=document.getElementById(jindo.$Ajax.SWFRequest._tmpId);}else{obj=window.document[jindo.$Ajax.SWFRequest._tmpId];}
return(this._getFlashObj=function(){return obj;})();},_callback:function(status,data,headers){this.readyState=4;if((typeof status).toLowerCase()=='number'){this.status=status;}else{if(status==true)this.status=200;}
if(this.status==200){if(typeof data=="string"){try{this.responseText=this.option("decode")?decodeURIComponent(data):data;if(!this.responseText||this.responseText==""){this.responseText=data;}}catch(e){if(e.name=="URIError"){this.responseText=data;if(!this.responseText||this.responseText==""){this.responseText=data;}}}}
if(typeof headers=="object"){this._respHeaders=headers;}}
this.onload(this);},open:function(method,url){var re=/https?:\/\/([a-z0-9_\-\.]+)/i;this._url=url;this._method=method;},send:function(data){this.responseXML=false;this.responseText="";var t=this;var dat={};var info=this._getCallbackInfo();var swf=this._getFlashObj()
function f(arg){switch(typeof arg){case"string":return'"'+arg.replace(/\"/g,'\\"')+'"';break;case"number":return arg;break;case"object":var ret="",arr=[];if(arg instanceof Array){for(var i=0;i<arg.length;i++){arr[i]=f(arg[i]);}
ret="["+arr.join(",")+"]";}else{for(var x in arg){if(arg.hasOwnProperty(x)){arr[arr.length]=f(x)+":"+f(arg[x]);}}
ret="{"+arr.join(",")+"}";}
return ret;default:return'""';}}
data=(data||"").split("&");for(var i=0;i<data.length;i++){pos=data[i].indexOf("=");key=data[i].substring(0,pos);val=data[i].substring(pos+1);dat[key]=decodeURIComponent(val);}
this._current_callback_id=info.id
window.__jindo2_callback[info.id]=function(success,data){try{t._callback(success,data);}finally{delete window.__jindo2_callback[info.id];}};var oData={url:this._url,type:this._method,data:dat,charset:"UTF-8",callback:info.name,header_json:this._headers};swf.requestViaFlash(f(oData));},abort:function(){if(this._current_callback_id){window.__jindo2_callback[this._current_callback_id]=function(){delete window.__jindo2_callback[info.id];}}}}).extend(jindo.$Ajax.RequestBase);jindo.$Ajax.SWFRequest.write=function(swf_path){if(typeof swf_path=="undefined")swf_path="./ajax.swf";jindo.$Ajax.SWFRequest._tmpId='tmpSwf'+(new Date()).getMilliseconds()+Math.floor(Math.random()*100000);var activeCallback="jindo.$Ajax.SWFRequest.loaded";jindo.$Ajax._checkFlashLoad();document.write('<div style="position:absolute;top:-1000px;left:-1000px"><object id="'+jindo.$Ajax.SWFRequest._tmpId+'" width="1" height="1" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"><param name="movie" value="'+swf_path+'"><param name = "FlashVars" value = "activeCallback='+activeCallback+'" /><param name = "allowScriptAccess" value = "always" /><embed name="'+jindo.$Ajax.SWFRequest._tmpId+'" src="'+swf_path+'" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" width="1" height="1" allowScriptAccess="always" swLiveConnect="true" FlashVars="activeCallback='+activeCallback+'"></embed></object></div>');};jindo.$Ajax._checkFlashLoad=function(){jindo.$Ajax._checkFlashKey=setTimeout(function(){},5000);jindo.$Ajax._checkFlashLoad=function(){}}
jindo.$Ajax.SWFRequest.activeFlash=false;jindo.$Ajax.SWFRequest.loaded=function(){clearTimeout(jindo.$Ajax._checkFlashKey);jindo.$Ajax.SWFRequest.activeFlash=true;}
jindo.$Ajax.FrameRequest=jindo.$Class({_headers:{},_respHeaders:{},_frame:null,_domain:"",$init:function(fpOption){this.option=fpOption;},_callback:function(id,data,header){var self=this;this.readyState=4;this.status=200;this.responseText=data;this._respHeaderString=header;header.replace(/^([\w\-]+)\s*:\s*(.+)$/m,function($0,$1,$2){self._respHeaders[$1]=$2;});this.onload(this);setTimeout(function(){self.abort()},10);},abort:function(){if(this._frame){try{this._frame.parentNode.removeChild(this._frame);}catch(e){}}},open:function(method,url){var re=/https?:\/\/([a-z0-9_\-\.]+)/i;var dom=document.location.toString().match(re);this._method=method;this._url=url;this._remote=String(url).match(/(https?:\/\/[a-z0-9_\-\.]+)(:[0-9]+)?/i)[0];this._frame=null;this._domain=(dom[1]!=document.domain)?document.domain:"";},send:function(data){this.responseXML="";this.responseText="";var t=this;var re=/https?:\/\/([a-z0-9_\-\.]+)/i;var info=this._getCallbackInfo();var url;var _aStr=[];_aStr.push(this._remote+"/ajax_remote_callback.html?method="+this._method);var header=new Array;window.__jindo2_callback[info.id]=function(id,data,header){try{t._callback(id,data,header);}finally{delete window.__jindo2_callback[info.id];}};for(var x in this._headers){if(this._headers.hasOwnProperty(x)){header[header.length]="'"+x+"':'"+this._headers[x]+"'";}}
header="{"+header.join(",")+"}";_aStr.push("&id="+info.id);_aStr.push("&header="+encodeURIComponent(header));_aStr.push("&proxy="+encodeURIComponent(this.option("proxy")));_aStr.push("&domain="+this._domain);_aStr.push("&url="+encodeURIComponent(this._url.replace(re,"")));_aStr.push("#"+encodeURIComponent(data));var fr=this._frame=jindo.$("<iframe>");fr.style.position="absolute";fr.style.visibility="hidden";fr.style.width="1px";fr.style.height="1px";var body=document.body||document.documentElement;if(body.firstChild){body.insertBefore(fr,body.firstChild);}else{body.appendChild(fr);}
fr.src=_aStr.join("");}}).extend(jindo.$Ajax.RequestBase);jindo.$Ajax.Queue=function(option){var cl=arguments.callee;if(!(this instanceof cl)){return new cl(option);}
this._options={async:false,useResultAsParam:false,stopOnFailure:false};this.option(option);this._queue=[];}
jindo.$Ajax.Queue.prototype.option=function(name,value){if(typeof name=="undefined"){return"";}
if(typeof name=="string"){if(typeof value=="undefined"){return this._options[name];}
this._options[name]=value;return this;}
try{for(var x in name){if(name.hasOwnProperty(x))
this._options[x]=name[x]}}catch(e){};return this;};jindo.$Ajax.Queue.prototype.add=function(oAjax,oParam){this._queue.push({obj:oAjax,param:oParam});}
jindo.$Ajax.Queue.prototype.request=function(){if(this.option('async')){this._requestAsync();}else{this._requestSync(0);}}
jindo.$Ajax.Queue.prototype._requestSync=function(nIdx,oParam){var t=this;if(this._queue.length>nIdx+1){this._queue[nIdx].obj._oncompleted=function(bSuccess,oResult){if(!t.option('stopOnFailure')||bSuccess)t._requestSync(nIdx+1,oResult);};}
var _oParam=this._queue[nIdx].param||{};if(this.option('useResultAsParam')&&oParam){try{for(var x in oParam)if(typeof _oParam[x]=='undefined'&&oParam.hasOwnProperty(x))_oParam[x]=oParam[x]}catch(e){};}
this._queue[nIdx].obj.request(_oParam);}
jindo.$Ajax.Queue.prototype._requestAsync=function(){for(var i=0;i<this._queue.length;i++)
this._queue[i].obj.request(this._queue[i].param);}
jindo.$H=function(hashObject){var cl=arguments.callee;if(typeof hashObject=="undefined")hashObject=new Object;if(hashObject instanceof cl)return hashObject;if(!(this instanceof cl))return new cl(hashObject);this._table={};for(var k in hashObject){if(hashObject.hasOwnProperty(k)){this._table[k]=hashObject[k];}}};jindo.$H.prototype.$value=function(){return this._table;};jindo.$H.prototype.$=function(key,value){if(typeof value=="undefined"){return this._table[key];}
this._table[key]=value;return this;};jindo.$H.prototype.length=function(){var i=0;for(var k in this._table){if(this._table.hasOwnProperty(k)){if(typeof Object.prototype[k]!="undeifned"&&Object.prototype[k]===this._table[k])continue;i++;}}
return i;};jindo.$H.prototype.forEach=function(callback,thisObject){var t=this._table;var h=this.constructor;for(var k in t){if(t.hasOwnProperty(k)){if(!t.propertyIsEnumerable(k))continue;try{callback.call(thisObject,t[k],k,t);}catch(e){if(e instanceof h.Break)break;if(e instanceof h.Continue)continue;throw e;}}}
return this;};jindo.$H.prototype.filter=function(callback,thisObject){var h=jindo.$H();this.forEach(function(v,k,o){if(callback.call(thisObject,v,k,o)===true){h.add(k,v);}});return h;};jindo.$H.prototype.map=function(callback,thisObject){var t=this._table;this.forEach(function(v,k,o){t[k]=callback.call(thisObject,v,k,o);});return this;};jindo.$H.prototype.add=function(key,value){this._table[key]=value;return this;};jindo.$H.prototype.remove=function(key){if(typeof this._table[key]=="undefined")return null;var val=this._table[key];delete this._table[key];return val;};jindo.$H.prototype.search=function(value){var result=false;this.forEach(function(v,k,o){if(v===value){result=k;jindo.$H.Break();}});return result;};jindo.$H.prototype.hasKey=function(key){var result=false;return(typeof this._table[key]!="undefined");};jindo.$H.prototype.hasValue=function(value){return(this.search(value)!==false);};jindo.$H.prototype.sort=function(){var o=new Object;var a=this.values();var k=false;a.sort();for(var i=0;i<a.length;i++){k=this.search(a[i]);o[k]=a[i];delete this._table[k];}
this._table=o;return this;};jindo.$H.prototype.ksort=function(){var o=new Object;var a=this.keys();a.sort();for(var i=0;i<a.length;i++){o[a[i]]=this._table[a[i]];}
this._table=o;return this;};jindo.$H.prototype.keys=function(){var keys=new Array;for(var k in this._table){if(this._table.hasOwnProperty(k))
keys.push(k);}
return keys;};jindo.$H.prototype.values=function(){var values=[];for(var k in this._table){if(this._table.hasOwnProperty(k))
values[values.length]=this._table[k];}
return values;};jindo.$H.prototype.toQueryString=function(){var buf=[],val=null,idx=0;for(var k in this._table){if(this._table.hasOwnProperty(k)){if(typeof(val=this._table[k])=="object"&&val.constructor==Array){for(i=0;i<val.length;i++){buf[buf.length]=encodeURIComponent(k)+"[]="+encodeURIComponent(val[i]+"");}}else{buf[buf.length]=encodeURIComponent(k)+"="+encodeURIComponent(this._table[k]+"");}}}
return buf.join("&");};jindo.$H.prototype.empty=function(){var keys=this.keys();for(var i=0;i<keys.length;i++){delete this._table[keys[i]];}
return this;};jindo.$H.Break=function(){if(!(this instanceof arguments.callee))throw new arguments.callee;};jindo.$H.Continue=function(){if(!(this instanceof arguments.callee))throw new arguments.callee;};jindo.$Json=function(sObject){var cl=arguments.callee;if(typeof sObject=="undefined")sObject={};if(sObject instanceof cl)return sObject;if(!(this instanceof cl))return new cl(sObject);if(typeof sObject=="string"){this._object=jindo.$Json._oldMakeJSON(sObject);}else{this._object=sObject;}}
jindo.$Json._oldMakeJSON=function(sObject){try{if(/^(?:\s*)[\{\[]/.test(sObject)){sObject=eval("("+sObject+")");}else{sObject=sObject;}}catch(e){sObject={};}
return sObject;}
jindo.$Json.fromXML=function(sXML){var o={};var re=/\s*<(\/?[\w:\-]+)((?:\s+[\w:\-]+\s*=\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'))*)\s*((?:\/>)|(?:><\/\1>|\s*))|\s*<!\[CDATA\[([\w\W]*?)\]\]>\s*|\s*>?([^<]*)/ig;var re2=/^[0-9]+(?:\.[0-9]+)?$/;var ec={"&amp;":"&","&nbsp;":" ","&quot;":"\"","&lt;":"<","&gt;":">"};var fg={tags:["/"],stack:[o]};var es=function(s){if(typeof s=="undefined")return"";return s.replace(/&[a-z]+;/g,function(m){return(typeof ec[m]=="string")?ec[m]:m;})};var at=function(s,c){s.replace(/([\w\:\-]+)\s*=\s*(?:"((?:\\"|[^"])*)"|'((?:\\'|[^'])*)')/g,function($0,$1,$2,$3){c[$1]=es(($2?$2.replace(/\\"/g,'"'):undefined)||($3?$3.replace(/\\'/g,"'"):undefined));})};var em=function(o){for(var x in o){if(o.hasOwnProperty(x)){if(Object.prototype[x])
continue;return false;}};return true};var cb=function($0,$1,$2,$3,$4,$5){var cur,cdata="";var idx=fg.stack.length-1;if(typeof $1=="string"&&$1){if($1.substr(0,1)!="/"){var has_attr=(typeof $2=="string"&&$2);var closed=(typeof $3=="string"&&$3);var newobj=(!has_attr&&closed)?"":{};cur=fg.stack[idx];if(typeof cur[$1]=="undefined"){cur[$1]=newobj;cur=fg.stack[idx+1]=cur[$1];}else if(cur[$1]instanceof Array){var len=cur[$1].length;cur[$1][len]=newobj;cur=fg.stack[idx+1]=cur[$1][len];}else{cur[$1]=[cur[$1],newobj];cur=fg.stack[idx+1]=cur[$1][1];}
if(has_attr)at($2,cur);fg.tags[idx+1]=$1;if(closed){fg.tags.length--;fg.stack.length--;}}else{fg.tags.length--;fg.stack.length--;}}else if(typeof $4=="string"&&$4){cdata=$4;}else if(typeof $5=="string"&&$5){cdata=es($5);}
if(cdata.replace(/^\s+/g,"").length>0){var par=fg.stack[idx-1];var tag=fg.tags[idx];if(re2.test(cdata)){cdata=parseFloat(cdata);}else if(cdata=="true"){cdata=true;}else if(cdata=="false"){cdata=false;}
if(typeof par=='undefined')return;if(par[tag]instanceof Array){var o=par[tag];if(typeof o[o.length-1]=="object"&&!em(o[o.length-1])){o[o.length-1].$cdata=cdata;o[o.length-1].toString=function(){return cdata;}}else{o[o.length-1]=cdata;}}else{if(typeof par[tag]=="object"&&!em(par[tag])){par[tag].$cdata=cdata;par[tag].toString=function(){return cdata;}}else{par[tag]=cdata;}}}};sXML=sXML.replace(/<(\?|\!-)[^>]*>/g,"");sXML.replace(re,cb);return jindo.$Json(o);};jindo.$Json.prototype.get=function(sPath){var o=this._object;var p=sPath.split("/");var re=/^([\w:\-]+)\[([0-9]+)\]$/;var stack=[[o]],cur=stack[0];var len=p.length,c_len,idx,buf,j,e;for(var i=0;i<len;i++){if(p[i]=="."||p[i]=="")continue;if(p[i]==".."){stack.length--;}else{buf=[];idx=-1;c_len=cur.length;if(c_len==0)return[];if(re.test(p[i]))idx=+RegExp.$2;for(j=0;j<c_len;j++){e=cur[j][p[i]];if(typeof e=="undefined")continue;if(e instanceof Array){if(idx>-1){if(idx<e.length)buf[buf.length]=e[idx];}else{buf=buf.concat(e);}}else if(idx==-1){buf[buf.length]=e;}}
stack[stack.length]=buf;}
cur=stack[stack.length-1];}
return cur;};jindo.$Json.prototype.toString=function(){if(window.JSON&&window.JSON.stringify){jindo.$Json.prototype.toString=function(){try{return window.JSON.stringify(this._object);}catch(e){return jindo.$Json._oldToString(this._object);}}}else{jindo.$Json.prototype.toString=function(){return jindo.$Json._oldToString(this._object);}}
return this.toString();};jindo.$Json._oldToString=function(oObj){var func={$:function($){if(typeof $=="object"&&$==null)return'null';if(typeof $=="undefined")return'""';if(typeof $=="boolean")return $?"true":"false";if(typeof $=="string")return this.s($);if(typeof $=="number")return $;if($ instanceof Array)return this.a($);if($ instanceof Object)return this.o($);},s:function(s){var e={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t"};var c=function(m){return(typeof e[m]!="undefined")?e[m]:m};return'"'+s.replace(/[\\"'\n\r\t]/g,c)+'"';},a:function(a){var s="[",c="",n=a.length;for(var i=0;i<n;i++){if(typeof a[i]=="function")continue;s+=c+this.$(a[i]);if(!c)c=",";}
return s+"]";},o:function(o){o=jindo.$H(o).ksort().$value();var s="{",c="";for(var x in o){if(o.hasOwnProperty(x)){if(typeof o[x]=="function")continue;s+=c+this.s(x)+":"+this.$(o[x]);if(!c)c=",";}}
return s+"}";}}
return func.$(oObj);}
jindo.$Json.prototype.toXML=function(){var f=function($,tag){var t=function(s,at){return"<"+tag+(at||"")+">"+s+"</"+tag+">"};switch(typeof $){case"undefined":case"null":return t("");case"number":return t($);case"string":if($.indexOf("<")<0){return t($.replace(/&/g,"&amp;"));}else{return t("<![CDATA["+$+"]]>");}
case"boolean":return t(String($));case"object":var ret="";if($ instanceof Array){var len=$.length;for(var i=0;i<len;i++){ret+=f($[i],tag);};}else{var at="";for(var x in $){if($.hasOwnProperty(x)){if(x=="$cdata"||typeof $[x]=="function")continue;ret+=f($[x],x);}}
if(tag)ret=t(ret,at);}
return ret;}};return f(this._object,"");};jindo.$Json.prototype.toObject=function(){return this._object;};jindo.$Json.prototype.compare=function(oData){return jindo.$Json._oldToString(this._object).toString()==jindo.$Json._oldToString(jindo.$Json(oData).$value()).toString();}
jindo.$Json.prototype.$value=jindo.$Json.prototype.toObject;jindo.$Cookie=function(){var cl=arguments.callee;var cached=cl._cached;if(cl._cached)return cl._cached;if(!(this instanceof cl))return new cl;if(typeof cl._cached=="undefined")cl._cached=this;};jindo.$Cookie.prototype.keys=function(){var ca=document.cookie.split(";");var re=/^\s+|\s+$/g;var a=new Array;for(var i=0;i<ca.length;i++){a[a.length]=ca[i].substr(0,ca[i].indexOf("=")).replace(re,"");}
return a;};jindo.$Cookie.prototype.get=function(sName){var ca=document.cookie.split(/\s*;\s*/);var re=new RegExp("^(\\s*"+sName+"\\s*=)");for(var i=0;i<ca.length;i++){if(re.test(ca[i]))return unescape(ca[i].substr(RegExp.$1.length));}
return null;};jindo.$Cookie.prototype.set=function(sName,sValue,nDays,sDomain,sPath){var sExpire="";if(typeof nDays=="number"){sExpire=";expires="+(new Date((new Date()).getTime()+nDays*1000*60*60*24)).toGMTString();}
if(typeof sDomain=="undefined")sDomain="";if(typeof sPath=="undefined")sPath="/";document.cookie=sName+"="+escape(sValue)+sExpire+"; path="+sPath+(sDomain?"; domain="+sDomain:"");return this;};jindo.$Cookie.prototype.remove=function(sName,sDomain,sPath){if(this.get(sName)!=null)this.set(sName,"",-1,sDomain,sPath);return this;};jindo.$Element=function(el){var cl=arguments.callee;if(el&&el instanceof cl)return el;if(el===null||typeof el=="undefined"){return null;}else{el=jindo.$(el);if(el===null){return null;};}
if(!(this instanceof cl))return new cl(el);this._element=(typeof el=="string")?jindo.$(el):el;var tag=this._element.tagName;this.tag=(typeof tag!='undefined')?tag.toLowerCase():'';}
var _j_ag=navigator.userAgent;var IS_IE=_j_ag.indexOf("MSIE")>-1;var IS_FF=_j_ag.indexOf("Firefox")>-1;var IS_OP=_j_ag.indexOf("Opera")>-1;var IS_SF=_j_ag.indexOf("Apple")>-1;var IS_CH=_j_ag.indexOf("Chrome")>-1;jindo.$Element.prototype.$value=function(){return this._element;};jindo.$Element.prototype.visible=function(bVisible,sDisplay){if(typeof bVisible!="undefined"){this[bVisible?"show":"hide"](sDisplay);return this;}
return(this.css("display")!="none");};jindo.$Element.prototype.show=function(sDisplay){var s=this._element.style;var b="block";var c={p:b,div:b,form:b,h1:b,h2:b,h3:b,h4:b,ol:b,ul:b,fieldset:b,td:"table-cell",th:"table-cell",li:"list-item",table:"table",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",col:"table-column",colgroup:"table-column-group",caption:"table-caption",dl:b,dt:b,dd:b};try{if(sDisplay){s.display=sDisplay;}else{var type=c[this.tag];s.display=type||"inline";}}catch(e){s.display="block";}
return this;};jindo.$Element.prototype.hide=function(){this._element.style.display="none";return this;};jindo.$Element.prototype.toggle=function(sDisplay){this[this.visible()?"hide":"show"](sDisplay);return this;};jindo.$Element.prototype.opacity=function(value){var v,e=this._element,b=(this._getCss(e,"display")!="none");value=parseFloat(value);e.style.zoom=1;if(!isNaN(value)){value=Math.max(Math.min(value,1),0);if(typeof e.filters!="undefined"){value=Math.ceil(value*100);if(typeof e.filters!='unknown'&&typeof e.filters.alpha!="undefined"){e.filters.alpha.opacity=value;}else{e.style.filter=(e.style.filter+" alpha(opacity="+value+")");}}else{e.style.opacity=value;}
return value;}
if(typeof e.filters!="undefined"){v=(typeof e.filters.alpha=="undefined")?(b?100:0):e.filters.alpha.opacity;v=v/100;}else{v=parseFloat(e.style.opacity);if(isNaN(v))v=b?1:0;}
return v;};jindo.$Element.prototype.css=function(sName,sValue){var e=this._element;var type_v=(typeof sValue);if(sName=='opacity')return type_v=='undefined'?this.opacity():this.opacity(sValue);var type_n=(typeof sName);if(type_n=="string"){var view;if(type_v=="string"||type_v=="number"){var obj={};obj[sName]=sValue;sName=obj;}else{var _getCss=this._getCss;if((IS_FF||IS_OP)&&(sName=="backgroundPositionX"||sName=="backgroundPositionY")){var bp=_getCss(e,"backgroundPosition").split(/\s+/);return(sName=="backgroundPositionX")?bp[0]:bp[1];}
if(IS_IE&&sName=="backgroundPosition"){return _getCss(e,"backgroundPositionX")+" "+_getCss(e,"backgroundPositionY")}
if((IS_FF||IS_SF||IS_CH)&&(sName=="padding"||sName=="margin")){var top=_getCss(e,sName+"Top");var right=_getCss(e,sName+"Right");var bottom=_getCss(e,sName+"Bottom");var left=_getCss(e,sName+"Left");if((top==right)&&(bottom==left)){return top;}else if(top==bottom){if(right==left){return top+" "+right;}else{return top+" "+right+" "+bottom+" "+left;}}else{return top+" "+right+" "+bottom+" "+left;}}
return _getCss(e,sName);}}
var h=jindo.$H;if(typeof h!="undefined"&&sName instanceof h){sName=sName._table;}
if(typeof sName=="object"){var v,type;for(var k in sName){if(sName.hasOwnProperty(k)){v=sName[k];type=(typeof v);if(type!="string"&&type!="number")continue;if(k=='opacity'){type=='undefined'?this.opacity():this.opacity(v);continue;}
if(k=="cssFloat"&&IS_IE)k="styleFloat";if((IS_FF||IS_OP)&&(k=="backgroundPositionX"||k=="backgroundPositionY")){var bp=this.css("backgroundPosition").split(/\s+/);v=k=="backgroundPositionX"?v+" "+bp[1]:bp[0]+" "+v;this._setCss(e,"backgroundPosition",v);}else{this._setCss(e,k,v);}}}}
return this;};jindo.$Element.prototype._getCss=function(e,sName){var fpGetCss;if(e.currentStyle){fpGetCss=function(e,sName){try{if(sName=="cssFloat")sName="styleFloat";var sStyle=e.style[sName];if(sStyle){return sStyle;}else{var oCurrentStyle=e.currentStyle;if(oCurrentStyle){return oCurrentStyle[sName];}}
return sStyle;}catch(ex){throw new Error((e.tagName||"document")+"는 css를 사용 할수 없습니다.");}}}else if(window.getComputedStyle){fpGetCss=function(e,sName){try{if(sName=="cssFloat")sName="float";var d=e.ownerDocument||e.document||document;var sVal=(e.style[sName]||d.defaultView.getComputedStyle(e,null).getPropertyValue(sName.replace(/([A-Z])/g,"-$1").toLowerCase()));if(sName=="textDecoration")sVal=sVal.replace(",","");return sVal;}catch(ex){throw new Error((e.tagName||"document")+"는 css를 사용 할수 없습니다.");}}}else{fpGetCss=function(e,sName){try{if(sName=="cssFloat"&&IS_IE)sName="styleFloat";return e.style[sName];}catch(ex){throw new Error((e.tagName||"document")+"는 css를 사용 할수 없습니다.");}}}
jindo.$Element.prototype._getCss=fpGetCss;return fpGetCss(e,sName);}
jindo.$Element.prototype._setCss=function(e,k,v){if(("#top#left#right#bottom#").indexOf(k+"#")>0&&(typeof v=="number"||(/\d$/.test(v)))){e.style[k]=parseInt(v,10)+"px";}else{e.style[k]=v;}}
jindo.$Element.prototype.attr=function(sName,sValue){var e=this._element;if(typeof sName=="string"){if(typeof sValue!="undefined"){var obj={};obj[sName]=sValue;sName=obj;}else{if(sName=="class"||sName=="className"){return e.className;}else if(sName=="style"){return e.style.cssText;}else if(sName=="checked"||sName=="disabled"){return!!e[sName];}else if(sName=="value"){return e.value;}else if(sName=="href"){return e.getAttribute(sName,2);}
return e.getAttribute(sName);}}
if(typeof jindo.$H!="undefined"&&sName instanceof jindo.$H){sName=sName.$value();}
if(typeof sName=="object"){for(var k in sName){if(sName.hasOwnProperty(k)){if(typeof(sValue)!="undefined"&&sValue===null){e.removeAttribute(k);}else{if(k=="class"||k=="className"){e.className=sName[k];}else if(k=="style"){e.style.cssText=sName[k];}else if(k=="checked"||k=="disabled"){e[k]=sName[k];}else if(k=="value"){e.value=sName[k];}else{e.setAttribute(k,sName[k]);}}}}}
return this;};jindo.$Element.prototype.width=function(width){if(typeof width=="number"){var e=this._element;e.style.width=width+"px";var off=e.offsetWidth;if(off!=width&&off!==0){var w=(width*2-off);if(w>0)
e.style.width=w+"px";}
return this;}
return this._element.offsetWidth;};jindo.$Element.prototype.height=function(height){if(typeof height=="number"){var e=this._element;e.style.height=height+"px";var off=e.offsetHeight;if(off!=height&&off!==0){var height=(height*2-off);if(height>0)
e.style.height=height+"px";}
return this;}
return this._element.offsetHeight;};jindo.$Element.prototype.className=function(sClass){var e=this._element;if(typeof sClass=="undefined")return e.className;e.className=sClass;return this;};jindo.$Element.prototype.hasClass=function(sClass){if(this._element.classList){jindo.$Element.prototype.hasClass=function(sClass){return this._element.classList.contains(sClass);}}else{jindo.$Element.prototype.hasClass=function(sClass){return(" "+this._element.className+" ").indexOf(" "+sClass+" ")>-1;}}
return this.hasClass(sClass);};jindo.$Element.prototype.addClass=function(sClass){if(this._element.classList){jindo.$Element.prototype.addClass=function(sClass){var aClass=sClass.split(/\s+/);var flistApi=this._element.classList;for(var i=aClass.length;i--;){flistApi.add(aClass[i]);}
return this;}}else{jindo.$Element.prototype.addClass=function(sClass){var e=this._element;var aClass=sClass.split(/\s+/);var eachClass;for(var i=aClass.length-1;i>=0;i--){eachClass=aClass[i];if(!this.hasClass(eachClass)){e.className=(e.className+" "+eachClass).replace(/^\s+/,"");};};return this;}}
return this.addClass(sClass);};jindo.$Element.prototype.removeClass=function(sClass){if(this._element.classList){jindo.$Element.prototype.removeClass=function(sClass){var flistApi=this._element.classList;var aClass=sClass.split(" ");for(var i=aClass.length;i--;){flistApi.remove(aClass[i]);}
return this;}}else{jindo.$Element.prototype.removeClass=function(sClass){var e=this._element;var aClass=sClass.split(/\s+/);var eachClass;for(var i=aClass.length-1;i>=0;i--){eachClass=aClass[i];if(this.hasClass(eachClass)){e.className=(" "+e.className.replace(/\s+$/,"").replace(/^\s+/,"")+" ").replace(" "+eachClass+" "," ").replace(/\s+$/,"").replace(/^\s+/,"");};};return this;}}
return this.removeClass(sClass);};jindo.$Element.prototype.toggleClass=function(sClass,sClass2){if(this._element.classList){jindo.$Element.prototype.toggleClass=function(sClass,sClass2){if(typeof sClass2=="undefined"){this._element.classList.toggle(sClass);}else{if(this.hasClass(sClass)){this.removeClass(sClass);this.addClass(sClass2);}else{this.addClass(sClass);this.removeClass(sClass2);}}
return this;}}else{jindo.$Element.prototype.toggleClass=function(sClass,sClass2){sClass2=sClass2||"";if(this.hasClass(sClass)){this.removeClass(sClass);if(sClass2)this.addClass(sClass2);}else{this.addClass(sClass);if(sClass2)this.removeClass(sClass2);}
return this;}}
return this.toggleClass(sClass,sClass2);};jindo.$Element.prototype.text=function(sText){var ele=this._element;var tag=this.tag;var prop=(typeof ele.innerText!="undefined")?"innerText":"textContent";if(tag=="textarea"||tag=="input")prop="value";var type=(typeof sText);if(type!="undefined"&&(type=="string"||type=="number"||type=="boolean")){sText+="";try{if(prop!="value")prop=(typeof ele.textContent!="undefined")?"textContent":"innerText";ele[prop]=sText;}catch(e){return this.html(sText.replace(/&/g,'&amp;').replace(/</g,'&lt;'));}
return this;}
return ele[prop];};jindo.$Element.prototype.html=function(sHTML){var isIe=IS_IE;var isFF=IS_FF;if(isIe){jindo.$Element.prototype.html=function(sHTML){if(typeof sHTML!="undefined"&&arguments.length){sHTML+="";jindo.$$.release();var oEl=this._element;while(oEl.firstChild){oEl.removeChild(oEl.firstChild);}
var sId='R'+new Date().getTime()+parseInt(Math.random()*100000,10);var oDoc=oEl.ownerDocument||oEl.document||document;var oDummy;var sTag=oEl.tagName.toLowerCase();switch(sTag){case'select':case'table':oDummy=oDoc.createElement("div");oDummy.innerHTML='<'+sTag+' class="'+sId+'">'+sHTML+'</'+sTag+'>';break;case'tr':case'thead':case'tbody':case'colgroup':oDummy=oDoc.createElement("div");oDummy.innerHTML='<table><'+sTag+' class="'+sId+'">'+sHTML+'</'+sTag+'></table>';break;default:oEl.innerHTML=sHTML;break;}
if(oDummy){var oFound;for(oFound=oDummy.firstChild;oFound;oFound=oFound.firstChild)
if(oFound.className==sId)break;if(oFound){var notYetSelected=true;for(var oChild;oChild=oEl.firstChild;)oChild.removeNode(true);for(var oChild=oFound.firstChild;oChild;oChild=oFound.firstChild){if(sTag=='select'){var cloneNode=oChild.cloneNode(true);if(oChild.selected&&notYetSelected){notYetSelected=false;cloneNode.selected=true;}
oEl.appendChild(cloneNode);oChild.removeNode(true);}else{oEl.appendChild(oChild);}}
oDummy.removeNode&&oDummy.removeNode(true);}
oDummy=null;}
return this;}
return this._element.innerHTML;}}else if(isFF){jindo.$Element.prototype.html=function(sHTML){if(typeof sHTML!="undefined"&&arguments.length){sHTML+="";var oEl=this._element;if(!oEl.parentNode){var sId='R'+new Date().getTime()+parseInt(Math.random()*100000,10);var oDoc=oEl.ownerDocument||oEl.document||document;var oDummy;var sTag=oEl.tagName.toLowerCase();switch(sTag){case'select':case'table':oDummy=oDoc.createElement("div");oDummy.innerHTML='<'+sTag+' class="'+sId+'">'+sHTML+'</'+sTag+'>';break;case'tr':case'thead':case'tbody':case'colgroup':oDummy=oDoc.createElement("div");oDummy.innerHTML='<table><'+sTag+' class="'+sId+'">'+sHTML+'</'+sTag+'></table>';break;default:oEl.innerHTML=sHTML;break;}
if(oDummy){var oFound;for(oFound=oDummy.firstChild;oFound;oFound=oFound.firstChild)
if(oFound.className==sId)break;if(oFound){for(var oChild;oChild=oEl.firstChild;)oChild.removeNode(true);for(var oChild=oFound.firstChild;oChild;oChild=oFound.firstChild){oEl.appendChild(oChild);}
oDummy.removeNode&&oDummy.removeNode(true);}
oDummy=null;}}else{oEl.innerHTML=sHTML;}
return this;}
return this._element.innerHTML;}}else{jindo.$Element.prototype.html=function(sHTML){if(typeof sHTML!="undefined"&&arguments.length){sHTML+="";var oEl=this._element;oEl.innerHTML=sHTML;return this;}
return this._element.innerHTML;}}
return this.html(sHTML);};jindo.$Element.prototype.outerHTML=function(){var e=this._element;if(typeof e.outerHTML!="undefined")return e.outerHTML;var oDoc=e.ownerDocument||e.document||document;var div=oDoc.createElement("div");var par=e.parentNode;if(!par)return e.innerHTML;par.insertBefore(div,e);div.style.display="none";div.appendChild(e);var s=div.innerHTML;par.insertBefore(e,div);par.removeChild(div);return s;};jindo.$Element.prototype.toString=jindo.$Element.prototype.outerHTML;jindo.$Element._getTransition=function(){var hasTransition=false,sTransitionName="";if(typeof document.body.style.trasition!="undefined"){hasTransition=true;sTransitionName="trasition";}
else if(typeof document.body.style.webkitTransition!=="undefined"){hasTransition=true;sTransitionName="webkitTransition";}else if(typeof document.body.style.OTransition!=="undefined"){hasTransition=true;sTransitionName="OTransition";}
return(jindo.$Element._getTransition=function(){return{"hasTransition":hasTransition,"name":sTransitionName};})();}
jindo.$Element.prototype.appear=function(duration,callback){var oTransition=jindo.$Element._getTransition();if(oTransition.hasTransition){jindo.$Element.prototype.appear=function(duration,callback){duration=duration||0.3;callback=callback||function(){};var bindFunc=function(){callback();this.show();this.removeEventListener(oTransition.name+"End",arguments.callee,false);};var ele=this._element;var self=this;if(!this.visible()){ele.style.opacity=ele.style.opacity||0;self.show();}
ele.addEventListener(oTransition.name+"End",bindFunc,false);ele.style[oTransition.name+'Property']='opacity';ele.style[oTransition.name+'Duration']=duration+'s';ele.style[oTransition.name+'TimingFunction']='linear';setTimeout(function(){ele.style.opacity='1';},1);return this;}}else{jindo.$Element.prototype.appear=function(duration,callback){var self=this;var op=this.opacity();if(!this.visible())op=0;if(op==1)return this;try{clearTimeout(this._fade_timer);}catch(e){};callback=callback||function(){};var step=(1-op)/((duration||0.3)*100);var func=function(){op+=step;self.opacity(op);if(op>=1){callback(self);}else{self._fade_timer=setTimeout(func,10);}};this.show();func();return this;}}
return this.appear(duration,callback);};jindo.$Element.prototype.disappear=function(duration,callback){var oTransition=jindo.$Element._getTransition();if(oTransition.hasTransition){jindo.$Element.prototype.disappear=function(duration,callback){duration=duration||0.3
var self=this;callback=callback||function(){};var bindFunc=function(){callback();this.removeEventListener(oTransition.name+"End",arguments.callee,false);self.hide();};var ele=this._element;ele.addEventListener(oTransition.name+"End",bindFunc,false);ele.style[oTransition.name+'Property']='opacity';ele.style[oTransition.name+'Duration']=duration+'s';ele.style[oTransition.name+'TimingFunction']='linear';setTimeout(function(){ele.style.opacity='0';},1);return this;}}else{jindo.$Element.prototype.disappear=function(duration,callback){var self=this;var op=this.opacity();if(op==0)return this;try{clearTimeout(this._fade_timer);}catch(e){};callback=callback||function(){};var step=op/((duration||0.3)*100);var func=function(){op-=step;self.opacity(op);if(op<=0){self.hide();self.opacity(1);callback(self);}else{self._fade_timer=setTimeout(func,10);}};func();return this;}}
return this.disappear(duration,callback);};jindo.$Element.prototype.offset=function(nTop,nLeft){var oEl=this._element;var oPhantom=null;if(typeof nTop=='number'&&typeof nLeft=='number'){if(isNaN(parseInt(this.css('top'),10)))this.css('top',0);if(isNaN(parseInt(this.css('left'),10)))this.css('left',0);var oPos=this.offset();var oGap={top:nTop-oPos.top,left:nLeft-oPos.left};oEl.style.top=parseInt(this.css('top'),10)+oGap.top+'px';oEl.style.left=parseInt(this.css('left'),10)+oGap.left+'px';return this;}
var bSafari=/Safari/.test(navigator.userAgent);var bIE=/MSIE/.test(navigator.userAgent);var nVer=bIE?navigator.userAgent.match(/(?:MSIE) ([0-9.]+)/)[1]:0;var fpSafari=function(oEl){var oPos={left:0,top:0};for(var oParent=oEl,oOffsetParent=oParent.offsetParent;oParent=oParent.parentNode;){if(oParent.offsetParent){oPos.left-=oParent.scrollLeft;oPos.top-=oParent.scrollTop;}
if(oParent==oOffsetParent){oPos.left+=oEl.offsetLeft+oParent.clientLeft;oPos.top+=oEl.offsetTop+oParent.clientTop;if(!oParent.offsetParent){oPos.left+=oParent.offsetLeft;oPos.top+=oParent.offsetTop;}
oOffsetParent=oParent.offsetParent;oEl=oParent;}}
return oPos;};var fpOthers=function(oEl){var oPos={left:0,top:0};var oDoc=oEl.ownerDocument||oEl.document||document;var oHtml=oDoc.documentElement;var oBody=oDoc.body;if(oEl.getBoundingClientRect){if(!oPhantom){var bHasFrameBorder=(window==top);if(!bHasFrameBorder){try{bHasFrameBorder=(window.frameElement&&window.frameElement.frameBorder==1);}catch(e){}}
if((bIE&&nVer<8&&window.external)&&bHasFrameBorder){oPhantom={left:2,top:2};oBase=null;}else{oPhantom={left:0,top:0};}}
var box=oEl.getBoundingClientRect();if(oEl!==oHtml&&oEl!==oBody){oPos.left=box.left-oPhantom.left;oPos.top=box.top-oPhantom.top;oPos.left+=oHtml.scrollLeft||oBody.scrollLeft;oPos.top+=oHtml.scrollTop||oBody.scrollTop;}}else if(oDoc.getBoxObjectFor){var box=oDoc.getBoxObjectFor(oEl);var vpBox=oDoc.getBoxObjectFor(oHtml||oBody);oPos.left=box.screenX-vpBox.screenX;oPos.top=box.screenY-vpBox.screenY;}else{for(var o=oEl;o;o=o.offsetParent){oPos.left+=o.offsetLeft;oPos.top+=o.offsetTop;}
for(var o=oEl.parentNode;o;o=o.parentNode){if(o.tagName=='BODY')break;if(o.tagName=='TR')oPos.top+=2;oPos.left-=o.scrollLeft;oPos.top-=o.scrollTop;}}
return oPos;};return(bSafari?fpSafari:fpOthers)(oEl);};jindo.$Element.prototype.evalScripts=function(sHTML){var aJS=[];sHTML=sHTML.replace(new RegExp('<script(\\s[^>]+)*>(.*?)</'+'script>','gi'),function(_1,_2,sPart){aJS.push(sPart);return'';});eval(aJS.join('\n'));return this;};jindo.$Element._append=function(oParent,oChild){if(typeof oChild=="string"){oChild=jindo.$(oChild);}else if(oChild instanceof jindo.$Element){oChild=oChild.$value();}
oParent._element.appendChild(oChild);return oParent;}
jindo.$Element._prepend=function(oParent,oChild){if(typeof oParent=="string"){oParent=jindo.$(oParent);}else if(oParent instanceof jindo.$Element){oParent=oParent.$value();}
var nodes=oParent.childNodes;if(nodes.length>0){oParent.insertBefore(oChild._element,nodes[0]);}else{oParent.appendChild(oChild._element);}
return oChild;}
jindo.$Element.prototype.append=function(oElement){return jindo.$Element._append(this,oElement);};jindo.$Element.prototype.prepend=function(oElement){return jindo.$Element._prepend(this._element,jindo.$Element(oElement));};jindo.$Element.prototype.replace=function(oElement){jindo.$$.release();var e=this._element;var oParentNode=e.parentNode;var o=jindo.$Element(oElement);if(oParentNode&&oParentNode.replaceChild){oParentNode.replaceChild(o.$value(),e);return o;}
var o=o.$value();oParentNode.insertBefore(o,e);oParentNode.removeChild(e);return o;};jindo.$Element.prototype.appendTo=function(oElement){var ele=jindo.$Element(oElement);jindo.$Element._append(ele,this._element);return ele;};jindo.$Element.prototype.prependTo=function(oElement){jindo.$Element._prepend(oElement,this);return jindo.$Element(oElement);};jindo.$Element.prototype.before=function(oElement){var oRich=jindo.$Element(oElement);var o=oRich.$value();this._element.parentNode.insertBefore(o,this._element);return oRich;};jindo.$Element.prototype.after=function(oElement){var o=this.before(oElement);o.before(this);return o;};jindo.$Element.prototype.parent=function(pFunc,limit){var e=this._element;var a=[],p=null;if(typeof pFunc=="undefined")return jindo.$Element(e.parentNode);if(typeof limit=="undefined"||limit==0)limit=-1;while(e.parentNode&&limit--!=0){p=jindo.$Element(e.parentNode);if(e.parentNode==document.documentElement)break;if(!pFunc||(pFunc&&pFunc(p)))a[a.length]=p;e=e.parentNode;}
return a;};jindo.$Element.prototype.child=function(pFunc,limit){var e=this._element;var a=[],c=null,f=null;if(typeof pFunc=="undefined")return jindo.$A(e.childNodes).filter(function(v){return v.nodeType==1}).map(function(v){return jindo.$Element(v)}).$value();if(typeof limit=="undefined"||limit==0)limit=-1;(f=function(el,lim){var ch=null,o=null;for(var i=0;i<el.childNodes.length;i++){ch=el.childNodes[i];if(ch.nodeType!=1)continue;o=jindo.$Element(el.childNodes[i]);if(!pFunc||(pFunc&&pFunc(o)))a[a.length]=o;if(lim!=0)f(el.childNodes[i],lim-1);}})(e,limit-1);return a;};jindo.$Element.prototype.prev=function(pFunc){var e=this._element;var a=[];var b=(typeof pFunc=="undefined");if(!e)return b?jindo.$Element(null):a;do{e=e.previousSibling;if(!e||e.nodeType!=1)continue;if(b)return jindo.$Element(e);if(!pFunc||pFunc(e))a[a.length]=jindo.$Element(e);}while(e);return b?jindo.$Element(e):a;};jindo.$Element.prototype.next=function(pFunc){var e=this._element;var a=[];var b=(typeof pFunc=="undefined");if(!e)return b?jindo.$Element(null):a;do{e=e.nextSibling;if(!e||e.nodeType!=1)continue;if(b)return jindo.$Element(e);if(!pFunc||pFunc(e))a[a.length]=jindo.$Element(e);}while(e);return b?jindo.$Element(e):a;};jindo.$Element.prototype.first=function(){var el=this._element.firstElementChild||this._element.firstChild;if(!el)return null;while(el&&el.nodeType!=1)el=el.nextSibling;return el?jindo.$Element(el):null;}
jindo.$Element.prototype.last=function(){var el=this._element.lastElementChild||this._element.lastChild;if(!el)return null;while(el&&el.nodeType!=1)el=el.previousSibling;return el?jindo.$Element(el):null;}
jindo.$Element.prototype.isChildOf=function(element){return jindo.$Element._contain(jindo.$Element(element).$value(),this._element);};jindo.$Element.prototype.isParentOf=function(element){return jindo.$Element._contain(this._element,jindo.$Element(element).$value());};jindo.$Element._contain=function(eParent,eChild){if(document.compareDocumentPosition){jindo.$Element._contain=function(eParent,eChild){return!!(eParent.compareDocumentPosition(eChild)&16);}}else if(document.body.contains){jindo.$Element._contain=function(eParent,eChild){return(eParent!==eChild)&&(eParent.contains?eParent.contains(eChild):true);}}else{jindo.$Element._contain=function(eParent,eChild){var e=eParent;var el=eChild;while(e&&e.parentNode){e=e.parentNode;if(e==el)return true;}
return false;}}
return jindo.$Element._contain(eParent,eChild);}
jindo.$Element.prototype.isEqual=function(element){try{return(this._element===jindo.$Element(element).$value());}catch(e){return false;}};jindo.$Element.prototype.fireEvent=function(sEvent,oProps){function IE(sEvent,oProps){sEvent=(sEvent+"").toLowerCase();var oEvent=document.createEventObject();if(oProps){for(k in oProps){if(oProps.hasOwnProperty(k))
oEvent[k]=oProps[k];}
oEvent.button=(oProps.left?1:0)+(oProps.middle?4:0)+(oProps.right?2:0);oEvent.relatedTarget=oProps.relatedElement||null;}
this._element.fireEvent("on"+sEvent,oEvent);return this;};function DOM2(sEvent,oProps){var sType="HTMLEvents";sEvent=(sEvent+"").toLowerCase();if(sEvent=="click"||sEvent.indexOf("mouse")==0){sType="MouseEvent";if(sEvent=="mousewheel")sEvent="dommousescroll";}else if(sEvent.indexOf("key")==0){sType="KeyboardEvent";}
var evt;if(oProps){oProps.button=0+(oProps.middle?1:0)+(oProps.right?2:0);oProps.ctrl=oProps.ctrl||false;oProps.alt=oProps.alt||false;oProps.shift=oProps.shift||false;oProps.meta=oProps.meta||false;switch(sType){case'MouseEvent':evt=document.createEvent(sType);evt.initMouseEvent(sEvent,true,true,null,oProps.detail||0,oProps.screenX||0,oProps.screenY||0,oProps.clientX||0,oProps.clientY||0,oProps.ctrl,oProps.alt,oProps.shift,oProps.meta,oProps.button,oProps.relatedElement||null);break;case'KeyboardEvent':if(window.KeyEvent){evt=document.createEvent('KeyEvents');evt.initKeyEvent(sEvent,true,true,window,oProps.ctrl,oProps.alt,oProps.shift,oProps.meta,oProps.keyCode,oProps.keyCode);}else{try{evt=document.createEvent("Events");}catch(e){evt=document.createEvent("UIEvents");}finally{evt.initEvent(sEvent,true,true);evt.ctrlKey=oProps.ctrl;evt.altKey=oProps.alt;evt.shiftKey=oProps.shift;evt.metaKey=oProps.meta;evt.keyCode=oProps.keyCode;evt.which=oProps.keyCode;}}
break;default:evt=document.createEvent(sType);evt.initEvent(sEvent,true,true);}}else{evt=document.createEvent(sType);evt.initEvent(sEvent,true,true);}
this._element.dispatchEvent(evt);return this;};jindo.$Element.prototype.fireEvent=(typeof this._element.dispatchEvent!="undefined")?DOM2:IE;return this.fireEvent(sEvent,oProps);};jindo.$Element.prototype.empty=function(){jindo.$$.release();this.html("");return this;};jindo.$Element.prototype.remove=function(oChild){jindo.$$.release();jindo.$Element(oChild).leave();return this;}
jindo.$Element.prototype.leave=function(){var e=this._element;if(e.parentNode){jindo.$$.release();e.parentNode.removeChild(e);}
jindo.$Fn.freeElement(this._element);return this;};jindo.$Element.prototype.wrap=function(wrapper){var e=this._element;wrapper=jindo.$Element(wrapper).$value();if(e.parentNode){e.parentNode.insertBefore(wrapper,e);}
wrapper.appendChild(e);return this;};jindo.$Element.prototype.ellipsis=function(stringTail){stringTail=stringTail||"...";var txt=this.text();var len=txt.length;var padding=parseInt(this.css("paddingTop"),10)+parseInt(this.css("paddingBottom"),10);var cur_h=this.height()-padding;var i=0;var h=this.text('A').height()-padding;if(cur_h<h*1.5)return this.text(txt);cur_h=h;while(cur_h<h*1.5){i+=Math.max(Math.ceil((len-i)/2),1);cur_h=this.text(txt.substring(0,i)+stringTail).height()-padding;}
while(cur_h>h*1.5){i--;cur_h=this.text(txt.substring(0,i)+stringTail).height()-padding;}};jindo.$Element.prototype.indexOf=function(element){try{var e=jindo.$Element(element).$value();var n=this._element.childNodes;var c=0;var l=n.length;for(var i=0;i<l;i++){if(n[i].nodeType!=1)continue;if(n[i]===e)return c;c++;}}catch(e){}
return-1;};jindo.$Element.prototype.queryAll=function(sSelector){return jindo.$$(sSelector,this._element);};jindo.$Element.prototype.query=function(sSelector){return jindo.$$.getSingle(sSelector,this._element);};jindo.$Element.prototype.test=function(sSelector){return jindo.$$.test(this._element,sSelector);};jindo.$Element.prototype.xpathAll=function(sXPath){return jindo.$$.xpath(sXPath,this._element);};jindo.$Element.insertAdjacentHTML=function(ins,html,insertType,type,fn){var _ele=ins._element;if(_ele.insertAdjacentHTML&&!(/^<(option|tr|td|th|col)(?:.*?)>/.test(html.replace(/^(\s|　)+|(\s|　)+$/g,"").toLowerCase()))){_ele.insertAdjacentHTML(insertType,html);}else{var oDoc=_ele.ownerDocument||_ele.document||document;var fragment=oDoc.createDocumentFragment();var defaultElement;var sTag=html.replace(/^(\s|　)+|(\s|　)+$/g,"");var oParentTag={"option":"select","tr":"tbody","thead":"table","tbody":"table","col":"table","td":"tr","th":"tr","div":"div"}
var aMatch=/^\<(option|tr|thead|tbody|td|th|col)(?:.*?)\>/i.exec(sTag);var sChild=aMatch===null?"div":aMatch[1].toLowerCase();var sParent=oParentTag[sChild];defaultElement=jindo._createEle(sParent,sTag,oDoc,true);var scripts=defaultElement.getElementsByTagName("script");for(var i=0,l=scripts.length;i<l;i++){scripts[i].parentNode.removeChild(scripts[i]);}
while(defaultElement[type]){fragment.appendChild(defaultElement[type]);}
fn(fragment.cloneNode(true));}
return ins;}
jindo.$Element.prototype.appendHTML=function(sHTML){return jindo.$Element.insertAdjacentHTML(this,sHTML,"beforeEnd","firstChild",jindo.$Fn(function(oEle){this.append(oEle);},this).bind());};jindo.$Element.prototype.prependHTML=function(sHTML){return jindo.$Element.insertAdjacentHTML(this,sHTML,"afterBegin","lastChild",jindo.$Fn(function(oEle){this.prepend(oEle);},this).bind());};jindo.$Element.prototype.beforeHTML=function(sHTML){return jindo.$Element.insertAdjacentHTML(this,sHTML,"beforeBegin","firstChild",jindo.$Fn(function(oEle){this.before(oEle);},this).bind());};jindo.$Element.prototype.afterHTML=function(sHTML){return jindo.$Element.insertAdjacentHTML(this,sHTML,"afterEnd","lastChild",jindo.$Fn(function(oEle){this._element.parentNode.insertBefore(oEle,this._element.nextSibling);},this).bind());};jindo.$Element.prototype.delegate=function(sEvent,vFilter,fpCallback){if(!this._element["_delegate_"+sEvent]){this._element["_delegate_"+sEvent]={};var fAroundFunc=jindo.$Fn(function(sEvent,wEvent){wEvent=wEvent||window.event;if(typeof wEvent.currentTarget=="undefined"){wEvent.currentTarget=this._element;}
var oEle=wEvent.target||wEvent.srcElement;var aData=this._element["_delegate_"+sEvent];var data,func,event,resultFilter;for(var i in aData){data=aData[i];resultFilter=data.checker(oEle);if(resultFilter[0]){func=data.func;event=jindo.$Event(wEvent);event.element=resultFilter[1];for(var j=0,l=func.length;j<l;j++){func[j](event);}}}},this).bind(sEvent);jindo.$Element._eventBind(this._element,sEvent,fAroundFunc);var oEle=this._element;oEle["_delegate_"+sEvent+"_func"]=fAroundFunc;if(this._element["_delegate_events"]){this._element["_delegate_events"].push(sEvent);}else{this._element["_delegate_events"]=[sEvent];}
oEle=null;}
this._bind(sEvent,vFilter,fpCallback);return this;}
jindo.$Element._eventBind=function(oEle,sEvent,fAroundFunc){if(oEle.addEventListener){jindo.$Element._eventBind=function(oEle,sEvent,fAroundFunc){oEle.addEventListener(sEvent,fAroundFunc,false);}}else{jindo.$Element._eventBind=function(oEle,sEvent,fAroundFunc){oEle.attachEvent("on"+sEvent,fAroundFunc);}}
jindo.$Element._eventBind(oEle,sEvent,fAroundFunc);}
jindo.$Element.prototype.undelegate=function(sEvent,vFilter,fpCallback){this._unbind(sEvent,vFilter,fpCallback);return this;}
jindo.$Element.prototype._bind=function(sEvent,vFilter,fpCallback){var _aDataOfEvent=this._element["_delegate_"+sEvent];if(_aDataOfEvent){var fpCheck;if(typeof vFilter=="string"){fpCheck=jindo.$Fn(function(sCssquery,oEle){var eIncludeEle=oEle;var isIncludeEle=jindo.$$.test(oEle,sCssquery);if(!isIncludeEle){var aPropagationElements=this._getParent(oEle);for(var i=0,leng=aPropagationElements.length;i<leng;i++){eIncludeEle=aPropagationElements[i];if(jindo.$$.test(eIncludeEle,sCssquery)){isIncludeEle=true;break;}}}
return[isIncludeEle,eIncludeEle];},this).bind(vFilter);}else if(typeof vFilter=="function"){fpCheck=jindo.$Fn(function(fpFilter,oEle){var eIncludeEle=oEle;var isIncludeEle=fpFilter(this._element,oEle);if(!isIncludeEle){var aPropagationElements=this._getParent(oEle);for(var i=0,leng=aPropagationElements.length;i<leng;i++){eIncludeEle=aPropagationElements[i];if(fpFilter(this._element,eIncludeEle)){isIncludeEle=true;break;}}}
return[isIncludeEle,eIncludeEle];},this).bind(vFilter);}
this._element["_delegate_"+sEvent]=jindo.$Element._addBind(_aDataOfEvent,vFilter,fpCallback,fpCheck);}else{alert("check your delegate event.");}}
jindo.$Element.prototype._getParent=function(oEle){var e=this._element;var a=[],p=null;while(oEle.parentNode&&p!=e){p=oEle.parentNode;if(p==document.documentElement)break;a[a.length]=p;oEle=p;}
return a;};jindo.$Element._addBind=function(aDataOfEvent,vFilter,fpCallback,fpCheck){var aEvent=aDataOfEvent[vFilter];if(aEvent){var fpFuncs=aEvent.func;fpFuncs.push(fpCallback);aEvent.func=fpFuncs;}else{aEvent={checker:fpCheck,func:[fpCallback]};}
aDataOfEvent[vFilter]=aEvent
return aDataOfEvent;}
jindo.$Element.prototype._unbind=function(sEvent,vFilter,fpCallback){var oEle=this._element;if(sEvent&&vFilter&&fpCallback){var oEventInfo=oEle["_delegate_"+sEvent];if(oEventInfo&&oEventInfo[vFilter]){var fpFuncs=oEventInfo[vFilter].func;fpFuncs=oEventInfo[vFilter].func=jindo.$A(fpFuncs).refuse(fpCallback).$value();if(!fpFuncs.length){jindo.$Element._deleteFilter(oEle,sEvent,vFilter);}}}else if(sEvent&&vFilter){jindo.$Element._deleteFilter(oEle,sEvent,vFilter);}else if(sEvent){jindo.$Element._deleteEvent(oEle,sEvent,vFilter);}else{var aEvents=oEle['_delegate_events'];var sEachEvent;for(var i=0,l=aEvents.length;i<l;i++){sEachEvent=aEvents[i];jindo.$Element._unEventBind(oEle,sEachEvent,oEle["_delegate_"+sEachEvent+"_func"]);jindo.$Element._delDelegateInfo(oEle,"_delegate_"+sEachEvent);jindo.$Element._delDelegateInfo(oEle,"_delegate_"+sEachEvent+"_func");}
jindo.$Element._delDelegateInfo(oEle,"_delegate_events");}
return this;}
jindo.$Element._delDelegateInfo=function(oObj,sType){try{oObj[sType]=null;delete oObj[sType];}catch(e){}
return oObj}
jindo.$Element._deleteFilter=function(oEle,sEvent,vFilter){var oEventInfo=oEle["_delegate_"+sEvent];if(oEventInfo&&oEventInfo[vFilter]){if(jindo.$H(oEventInfo).keys().length==1){jindo.$Element._deleteEvent(oEle,sEvent,vFilter);}else{jindo.$Element._delDelegateInfo(oEventInfo,vFilter);}}}
jindo.$Element._deleteEvent=function(oEle,sEvent,vFilter){var aEvents=oEle['_delegate_events'];jindo.$Element._unEventBind(oEle,sEvent,oEle["_delegate_"+sEvent+"_func"]);jindo.$Element._delDelegateInfo(oEle,"_delegate_"+sEvent);jindo.$Element._delDelegateInfo(oEle,"_delegate_"+sEvent+"_func");aEvents=jindo.$A(aEvents).refuse(sEvent).$value();if(!aEvents.length){jindo.$Element._delDelegateInfo(oEle,"_delegate_events");}else{oEle['_delegate_events']=jindo.$A(aEvents).refuse(sEvent).$value();}}
jindo.$Element._unEventBind=function(oEle,sType,fAroundFunc){if(oEle.removeEventListener){jindo.$Element._unEventBind=function(oEle,sType,fAroundFunc){oEle.removeEventListener(sType,fAroundFunc,false);}}else{jindo.$Element._unEventBind=function(oEle,sType,fAroundFunc){oEle.detachEvent("on"+sType,fAroundFunc);}}
jindo.$Element._unEventBind(oEle,sType,fAroundFunc);}
jindo.$Fn=function(func,thisObject){var cl=arguments.callee;if(func instanceof cl)return func;if(!(this instanceof cl))return new cl(func,thisObject);this._events=[];this._tmpElm=null;this._key=null;if(typeof func=="function"){this._func=func;this._this=thisObject;}else if(typeof func=="string"&&typeof thisObject=="string"){this._func=eval("false||function("+func+"){"+thisObject+"}")}}
var _ua=navigator.userAgent;jindo.$Fn.prototype.$value=function(){return this._func;};jindo.$Fn.prototype.bind=function(){var a=jindo.$A(arguments).$value();var f=this._func;var t=this._this;var b=function(){var args=jindo.$A(arguments).$value();if(a.length)args=a.concat(args);return f.apply(t,args);};return b;};jindo.$Fn.prototype.bindForEvent=function(){var a=arguments;var f=this._func;var t=this._this;var m=this._tmpElm||null;var b=function(e){var args=Array.prototype.slice.apply(a);if(typeof e=="undefined")e=window.event;if(typeof e.currentTarget=="undefined"){e.currentTarget=m;}
var oEvent=jindo.$Event(e);args.unshift(oEvent);var returnValue=f.apply(t,args);if(typeof returnValue!="undefined"&&oEvent.type=="beforeunload"){e.returnValue=returnValue;}
return returnValue;};return b;};jindo.$Fn.prototype.attach=function(oElement,sEvent,bUseCapture){var fn=null,l,ev=sEvent,el=oElement,ua=_ua;if(typeof bUseCapture=="undefined"){bUseCapture=false;};this._bUseCapture=bUseCapture;if((el instanceof Array)||(jindo.$A&&(el instanceof jindo.$A)&&(el=el.$value()))){for(var i=0;i<el.length;i++)this.attach(el[i],ev,bUseCapture);return this;}
if(!el||!ev)return this;if(typeof el.$value=="function")el=el.$value();el=jindo.$(el);ev=ev.toLowerCase();this._tmpElm=el;fn=this.bindForEvent();this._tmpElm=null;var bIsIE=ua.indexOf("MSIE")>-1;if(typeof el.addEventListener!="undefined"){if(ev=="domready"){ev="DOMContentLoaded";}else if(ev=="mousewheel"&&ua.indexOf("WebKit")<0&&!/Opera/.test(ua)&&!bIsIE){ev="DOMMouseScroll";}else if(ev=="mouseenter"&&!bIsIE){ev="mouseover";fn=jindo.$Fn._fireWhenElementBoundary(el,fn);}else if(ev=="mouseleave"&&!bIsIE){ev="mouseout";fn=jindo.$Fn._fireWhenElementBoundary(el,fn);}else if(ev=="transitionend"||ev=="transitionstart"){var sPrefix,sPostfix=ev.replace("transition","");sPostfix=sPostfix.substr(0,1).toUpperCase()+sPostfix.substr(1);if(typeof document.body.style.WebkitTransition!=="undefined"){sPrefix="webkit";}else if(typeof document.body.style.OTransition!=="undefined"){sPrefix="o";}else if(typeof document.body.style.MsTransition!=="undefined"){sPrefix="ms";}
ev=(sPrefix?sPrefix+"Transition":"transition")+sPostfix;this._for_test_attach=ev;this._for_test_detach="";}else if(ev=="animationstart"||ev=="animationend"||ev=="animationiteration"){var sPrefix,sPostfix=ev.replace("animation","");sPostfix=sPostfix.substr(0,1).toUpperCase()+sPostfix.substr(1);if(typeof document.body.style.WebkitAnimationName!=="undefined"){sPrefix="webkit";}else if(typeof document.body.style.OAnimationName!=="undefined"){sPrefix="o";}else if(typeof document.body.style.MsTransitionName!=="undefined"){sPrefix="ms";}
ev=(sPrefix?sPrefix+"Animation":"animation")+sPostfix;this._for_test_attach=ev;this._for_test_detach="";}
el.addEventListener(ev,fn,bUseCapture);}else if(typeof el.attachEvent!="undefined"){if(ev=="domready"){if(window.top!=window)throw new Error("Domready Event doesn't work in the iframe.");jindo.$Fn._domready(el,fn);return this;}else{el.attachEvent("on"+ev,fn);}}
if(!this._key){this._key="$"+jindo.$Fn.gc.count++;jindo.$Fn.gc.pool[this._key]=this;}
this._events[this._events.length]={element:el,event:sEvent.toLowerCase(),func:fn};return this;};jindo.$Fn.prototype.detach=function(oElement,sEvent){var fn=null,l,el=oElement,ev=sEvent,ua=_ua;if((el instanceof Array)||(jindo.$A&&(el instanceof jindo.$A)&&(el=el.$value()))){for(var i=0;i<el.length;i++)this.detach(el[i],ev);return this;}
if(!el||!ev)return this;if(jindo.$Element&&el instanceof jindo.$Element)el=el.$value();el=jindo.$(el);ev=ev.toLowerCase();var e=this._events;for(var i=0;i<e.length;i++){if(e[i].element!==el||e[i].event!==ev)continue;fn=e[i].func;this._events=jindo.$A(this._events).refuse(e[i]).$value();break;}
if(typeof el.removeEventListener!="undefined"){if(ev=="domready"){ev="DOMContentLoaded";}else if(ev=="mousewheel"&&ua.indexOf("WebKit")<0){ev="DOMMouseScroll";}else if(ev=="mouseenter"){ev="mouseover";}else if(ev=="mouseleave"){ev="mouseout";}else if(ev=="transitionend"||ev=="transitionstart"){var sPrefix,sPostfix=ev.replace("transition","");sPostfix=sPostfix.substr(0,1).toUpperCase()+sPostfix.substr(1);if(typeof document.body.style.WebkitTransition!=="undefined"){sPrefix="webkit";}else if(typeof document.body.style.OTransition!=="undefined"){sPrefix="o";}else if(typeof document.body.style.MsTransition!=="undefined"){sPrefix="ms";}
ev=(sPrefix?sPrefix+"Transition":"transition")+sPostfix;this._for_test_detach=ev;this._for_test_attach="";}else if(ev=="animationstart"||ev=="animationend"||ev=="animationiteration"){var sPrefix,sPostfix=ev.replace("animation","");sPostfix=sPostfix.substr(0,1).toUpperCase()+sPostfix.substr(1);if(typeof document.body.style.WebkitAnimationName!=="undefined"){sPrefix="webkit";}else if(typeof document.body.style.OAnimationName!=="undefined"){sPrefix="o";}else if(typeof document.body.style.MsTransitionName!=="undefined"){sPrefix="ms";}
ev=(sPrefix?sPrefix+"Animation":"animation")+sPostfix;this._for_test_detach=ev;this._for_test_attach="";}
if(fn)el.removeEventListener(ev,fn,false);}else if(typeof el.detachEvent!="undefined"){if(ev=="domready"){jindo.$Fn._domready.list=jindo.$Fn._domready.list.refuse(fn);return this;}else{el.detachEvent("on"+ev,fn);}}
return this;};jindo.$Fn.prototype.delay=function(nSec,args){if(typeof args=="undefined")args=[];this._delayKey=setTimeout(this.bind.apply(this,args),nSec*1000);return this;};jindo.$Fn.prototype.setInterval=function(nSec,args){if(typeof args=="undefined")args=[];this._repeatKey=setInterval(this.bind.apply(this,args),nSec*1000);return this._repeatKey;};jindo.$Fn.prototype.repeat=jindo.$Fn.prototype.setInterval;jindo.$Fn.prototype.stopDelay=function(){if(typeof this._delayKey!="undefined"){window.clearTimeout(this._delayKey);delete this._delayKey;}
return this;}
jindo.$Fn.prototype.stopRepeat=function(){if(typeof this._repeatKey!="undefined"){window.clearInterval(this._repeatKey);delete this._repeatKey;}
return this;}
jindo.$Fn.prototype.free=function(oElement){var len=this._events.length;while(len>0){var el=this._events[--len].element;var sEvent=this._events[len].event;var fn=this._events[len].func;if(oElement&&el!==oElement){continue;}
this.detach(el,sEvent);var isGCCall=!oElement;if(isGCCall&&window===el&&sEvent=="unload"&&_ua.indexOf("MSIE")<1){this._func.call(this._this);}
delete this._events[len];}
if(this._events.length==0)
try{delete jindo.$Fn.gc.pool[this._key];}catch(e){};};jindo.$Fn._domready=function(doc,func){if(typeof jindo.$Fn._domready.list=="undefined"){var f=null,l=jindo.$Fn._domready.list=jindo.$A([func]);var done=false,execFuncs=function(){if(!done){done=true;var evt={type:"domready",target:doc,currentTarget:doc};while(f=l.shift())f(evt);}};(function(){try{doc.documentElement.doScroll("left");}catch(e){setTimeout(arguments.callee,50);return;}
execFuncs();})();doc.onreadystatechange=function(){if(doc.readyState=='complete'){doc.onreadystatechange=null;execFuncs();}};}else{jindo.$Fn._domready.list.push(func);}};jindo.$Fn._fireWhenElementBoundary=function(doc,func){return function(evt){var oEvent=jindo.$Event(evt);var relatedElement=jindo.$Element(oEvent.relatedElement);if(relatedElement&&(relatedElement.isEqual(this)||relatedElement.isChildOf(this)))return;func.call(this,evt);}};jindo.$Fn.gc=function(){var p=jindo.$Fn.gc.pool;for(var key in p){if(p.hasOwnProperty(key))
try{p[key].free();}catch(e){};}
jindo.$Fn.gc.pool=p={};};jindo.$Fn.freeElement=function(oElement){var p=jindo.$Fn.gc.pool;for(var key in p){if(p.hasOwnProperty(key)){try{p[key].free(oElement);}catch(e){};}}}
jindo.$Fn.gc.count=0;jindo.$Fn.gc.pool={};var _ua=navigator.userAgent;if(typeof window!="undefined"&&!(_ua.indexOf("IEMobile")==-1&&_ua.indexOf("Mobile")>-1&&_ua.indexOf("Safari")>-1)){jindo.$Fn(jindo.$Fn.gc).attach(window,"unload");}
jindo.$Event=function(e){var cl=arguments.callee;if(e instanceof cl)return e;if(!(this instanceof cl))return new cl(e);if(typeof e=="undefined")e=window.event;if(e===window.event&&document.createEventObject)e=document.createEventObject(e);this._event=e;this._globalEvent=window.event;this.type=e.type.toLowerCase();if(this.type=="dommousescroll"){this.type="mousewheel";}else if(this.type=="domcontentloaded"){this.type="domready";}
this.canceled=false;this.element=e.target||e.srcElement;this.currentElement=e.currentTarget;this.relatedElement=null;if(typeof e.relatedTarget!="undefined"){this.relatedElement=e.relatedTarget;}else if(e.fromElement&&e.toElement){this.relatedElement=e[(this.type=="mouseout")?"toElement":"fromElement"];}}
jindo.$Event.prototype.mouse=function(){var e=this._event;var delta=0;var left=false,mid=false,right=false;var left=e.which?e.button==0:!!(e.button&1);var mid=e.which?e.button==1:!!(e.button&4);var right=e.which?e.button==2:!!(e.button&2);var ret={};if(e.wheelDelta){delta=e.wheelDelta/120;}else if(e.detail){delta=-e.detail/3;}
ret={delta:delta,left:left,middle:mid,right:right};this.mouse=function(){return ret};return ret;};jindo.$Event.prototype.key=function(){var e=this._event;var k=e.keyCode||e.charCode;var ret={keyCode:k,alt:e.altKey,ctrl:e.ctrlKey,meta:e.metaKey,shift:e.shiftKey,up:(k==38),down:(k==40),left:(k==37),right:(k==39),enter:(k==13),esc:(k==27)};this.key=function(){return ret};return ret;};jindo.$Event.prototype.pos=function(bGetOffset){var e=this._event;var b=(this.element.ownerDocument||document).body;var de=(this.element.ownerDocument||document).documentElement;var pos=[b.scrollLeft||de.scrollLeft,b.scrollTop||de.scrollTop];var ret={clientX:e.clientX,clientY:e.clientY,pageX:'pageX'in e?e.pageX:e.clientX+pos[0]-b.clientLeft,pageY:'pageY'in e?e.pageY:e.clientY+pos[1]-b.clientTop,layerX:'offsetX'in e?e.offsetX:e.layerX-1,layerY:'offsetY'in e?e.offsetY:e.layerY-1};if(bGetOffset&&jindo.$Element){var offset=jindo.$Element(this.element).offset();ret.offsetX=ret.pageX-offset.left;ret.offsetY=ret.pageY-offset.top;}
return ret;};jindo.$Event.prototype.stop=function(nCancel){nCancel=nCancel||jindo.$Event.CANCEL_ALL;var e=(window.event&&window.event==this._globalEvent)?this._globalEvent:this._event;var b=!!(nCancel&jindo.$Event.CANCEL_BUBBLE);var d=!!(nCancel&jindo.$Event.CANCEL_DEFAULT);this.canceled=true;if(typeof e.preventDefault!="undefined"&&d)e.preventDefault();if(typeof e.stopPropagation!="undefined"&&b)e.stopPropagation();if(d)e.returnValue=false;if(b)e.cancelBubble=true;return this;};jindo.$Event.prototype.stopDefault=function(){return this.stop(jindo.$Event.CANCEL_DEFAULT);}
jindo.$Event.prototype.stopBubble=function(){return this.stop(jindo.$Event.CANCEL_BUBBLE);}
jindo.$Event.prototype.$value=function(){return this._event;};jindo.$Event.CANCEL_BUBBLE=1;jindo.$Event.CANCEL_DEFAULT=2;jindo.$Event.CANCEL_ALL=3;jindo.$ElementList=function(els){var cl=arguments.callee;if(els instanceof cl)return els;if(!(this instanceof cl))return new cl(els);if(els instanceof Array){els=jindo.$A(els);}else if(jindo.$A&&els instanceof jindo.$A){els=jindo.$A(els.$value());}else if(typeof els=="string"&&jindo.cssquery){els=jindo.$A(jindo.cssquery(els));}else{els=jindo.$A();}
this._elements=els.map(function(v,i,a){return jindo.$Element(v)});}
jindo.$ElementList.prototype.get=function(idx){return this._elements.$value()[idx];};jindo.$ElementList.prototype.getFirst=function(){return this.get(0);};jindo.$ElementList.prototype.length=function(nLen,oValue){return this._elements.length(nLen,oValue);}
jindo.$ElementList.prototype.getLast=function(){return this.get(Math.max(this._elements.length()-1,0));};jindo.$ElementList.prototype.$value=function(){return this._elements.$value();};(function(proto){var setters=['show','hide','toggle','addClass','removeClass','toggleClass','fireEvent','leave','empty','appear','disappear','className','width','height','text','html','css','attr'];jindo.$A(setters).forEach(function(name){proto[name]=function(){var args=jindo.$A(arguments).$value();this._elements.forEach(function(el){el[name].apply(el,args);});return this;}});jindo.$A(['appear','disappear']).forEach(function(name){proto[name]=function(duration,callback){var len=this._elements.length;var self=this;this._elements.forEach(function(el,idx){if(idx==len-1){el[name](duration,function(){callback(self)});}else{el[name](duration);}});return this;}});})(jindo.$ElementList.prototype);jindo.$S=function(str){var cl=arguments.callee;if(typeof str=="undefined")str="";if(str instanceof cl)return str;if(!(this instanceof cl))return new cl(str);this._str=str+"";}
jindo.$S.prototype.$value=function(){return this._str;};jindo.$S.prototype.toString=jindo.$S.prototype.$value;jindo.$S.prototype.trim=function(){if("".trim){jindo.$S.prototype.trim=function(){return jindo.$S(this._str.trim());}}else{jindo.$S.prototype.trim=function(){return jindo.$S(this._str.replace(/^(\s|　)+/g,"").replace(/(\s|　)+$/g,""));}}
return jindo.$S(this.trim());};jindo.$S.prototype.escapeHTML=function(){var entities={'"':'quot','&':'amp','<':'lt','>':'gt','\'':'#39'};var s=this._str.replace(/[<>&"']/g,function(m0){return entities[m0]?'&'+entities[m0]+';':m0;});return jindo.$S(s);};jindo.$S.prototype.stripTags=function(){return jindo.$S(this._str.replace(/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/ig,''));};jindo.$S.prototype.times=function(nTimes){var buf=[];for(var i=0;i<nTimes;i++){buf[buf.length]=this._str;}
return jindo.$S(buf.join(''));};jindo.$S.prototype.unescapeHTML=function(){var entities={'quot':'"','amp':'&','lt':'<','gt':'>','#39':'\''};var s=this._str.replace(/&([a-z]+|#[0-9]+);/g,function(m0,m1){return entities[m1]?entities[m1]:m0;});return jindo.$S(s);};jindo.$S.prototype.escape=function(){var s=this._str.replace(/([\u0080-\uFFFF]+)|[\n\r\t"'\\]/g,function(m0,m1,_){if(m1)return escape(m1).replace(/%/g,'\\');return(_={"\n":"\\n","\r":"\\r","\t":"\\t"})[m0]?_[m0]:"\\"+m0;});return jindo.$S(s);};jindo.$S.prototype.bytes=function(vConfig){var code=0,bytes=0,i=0,len=this._str.length;var charset=((document.charset||document.characterSet||document.defaultCharset)+"");var cut,nBytes;if(typeof vConfig=="undefined"){cut=false;}else if(vConfig.constructor==Number){cut=true;nBytes=vConfig;}else if(vConfig.constructor==Object){charset=vConfig.charset||charset;nBytes=vConfig.size||false;cut=!!nBytes;}else{cut=false;}
if(charset.toLowerCase()=="utf-8"){for(i=0;i<len;i++){code=this._str.charCodeAt(i);if(code<128){bytes+=1;}else if(code<2048){bytes+=2;}else if(code<65536){bytes+=3;}else{bytes+=4;}
if(cut&&bytes>nBytes){this._str=this._str.substr(0,i);break;}}}else{for(i=0;i<len;i++){bytes+=(this._str.charCodeAt(i)>128)?2:1;if(cut&&bytes>nBytes){this._str=this._str.substr(0,i);break;}}}
return cut?this:bytes;};jindo.$S.prototype.parseString=function(){if(this._str=="")return{};var str=this._str.split(/&/g),pos,key,val,buf={},isescape=false;for(var i=0;i<str.length;i++){key=str[i].substring(0,pos=str[i].indexOf("=")),isescape=false;try{val=decodeURIComponent(str[i].substring(pos+1));}catch(e){isescape=true;val=decodeURIComponent(unescape(str[i].substring(pos+1)));}
if(key.substr(key.length-2,2)=="[]"){key=key.substring(0,key.length-2);if(typeof buf[key]=="undefined")buf[key]=[];buf[key][buf[key].length]=isescape?escape(val):val;;}else{buf[key]=isescape?escape(val):val;}}
return buf;};jindo.$S.prototype.escapeRegex=function(){var s=this._str;var r=/([\?\.\*\+\-\/\(\)\{\}\[\]\:\!\^\$\\\|])/g;return jindo.$S(s.replace(r,"\\$1"));};jindo.$S.prototype.format=function(){var args=arguments;var idx=0;var s=this._str.replace(/%([ 0])?(-)?([1-9][0-9]*)?([bcdsoxX])/g,function(m0,m1,m2,m3,m4){var a=args[idx++];var ret="",pad="";m3=m3?+m3:0;if(m4=="s"){ret=a+"";}else if(" bcdoxX".indexOf(m4)>0){if(typeof a!="number")return"";ret=(m4=="c")?String.fromCharCode(a):a.toString(({b:2,d:10,o:8,x:16,X:16})[m4]);if(" X".indexOf(m4)>0)ret=ret.toUpperCase();}
if(ret.length<m3)pad=jindo.$S(m1||" ").times(m3-ret.length).toString();(m2=='-')?(ret+=pad):(ret=pad+ret);return ret;});return jindo.$S(s);};jindo.$Document=function(el){var cl=arguments.callee;if(el instanceof cl)return el;if(!(this instanceof cl))return new cl(el);this._doc=el||document;this._docKey=this.renderingMode()=='Standards'?'documentElement':'body';};jindo.$Document.prototype.$value=function(){return this._doc;};jindo.$Document.prototype.scrollSize=function(){var isWebkit=navigator.userAgent.indexOf("WebKit")>-1;var oDoc=this._doc[isWebkit?'body':this._docKey];return{width:Math.max(oDoc.scrollWidth,oDoc.clientWidth),height:Math.max(oDoc.scrollHeight,oDoc.clientHeight)};};jindo.$Document.prototype.scrollPosition=function(){var isWebkit=navigator.userAgent.indexOf("WebKit")>-1;var oDoc=this._doc[isWebkit?'body':this._docKey];return{left:oDoc.scrollLeft||window.pageXOffset||window.scrollX||0,top:oDoc.scrollTop||window.pageYOffset||window.scrollY||0};};jindo.$Document.prototype.clientSize=function(){var agent=navigator.userAgent;var oDoc=this._doc[this._docKey];var isSafari=agent.indexOf("WebKit")>-1&&agent.indexOf("Chrome")==-1;return(isSafari)?{width:window.innerWidth,height:window.innerHeight}:{width:oDoc.clientWidth,height:oDoc.clientHeight};};jindo.$Document.prototype.renderingMode=function(){var agent=navigator.userAgent;var isIe=(typeof window.opera=="undefined"&&agent.indexOf("MSIE")>-1);var isSafari=(agent.indexOf("WebKit")>-1&&agent.indexOf("Chrome")<0&&navigator.vendor.indexOf("Apple")>-1);var sRet;if('compatMode'in this._doc){sRet=this._doc.compatMode=='CSS1Compat'?'Standards':(isIe?'Quirks':'Almost');}else{sRet=isSafari?'Standards':'Quirks';}
return sRet;};jindo.$Document.prototype.queryAll=function(sSelector){return jindo.$$(sSelector,this._doc);};jindo.$Document.prototype.query=function(sSelector){return jindo.$$.getSingle(sSelector,this._doc);};jindo.$Document.prototype.xpathAll=function(sXPath){return jindo.$$.xpath(sXPath,this._doc);};jindo.$Form=function(el){var cl=arguments.callee;if(el instanceof cl)return el;if(!(this instanceof cl))return new cl(el);el=jindo.$(el);if(!el.tagName||el.tagName.toUpperCase()!='FORM')throw new Error('The element should be a FORM element');this._form=el;}
jindo.$Form.prototype.$value=function(){return this._form;};jindo.$Form.prototype.serialize=function(){var self=this;var oRet={};var nLen=arguments.length;var fpInsert=function(sKey){var sVal=self.value(sKey);if(typeof sVal!='undefined')oRet[sKey]=sVal;};if(nLen==0){jindo.$A(this.element()).forEach(function(o){if(o.name)fpInsert(o.name);});}else{for(var i=0;i<nLen;i++){fpInsert(arguments[i]);}}
return jindo.$H(oRet).toQueryString();};jindo.$Form.prototype.element=function(sKey){if(arguments.length>0)
return this._form[sKey];return this._form.elements;};jindo.$Form.prototype.enable=function(){var sKey=arguments[0];if(typeof sKey=='object'){var self=this;jindo.$H(sKey).forEach(function(bFlag,sKey){self.enable(sKey,bFlag);});return this;}
var aEls=this.element(sKey);if(!aEls)return this;aEls=aEls.nodeType==1?[aEls]:aEls;if(arguments.length<2){var bEnabled=true;jindo.$A(aEls).forEach(function(o){if(o.disabled){bEnabled=false;jindo.$A.Break();}});return bEnabled;}else{var sFlag=arguments[1];jindo.$A(aEls).forEach(function(o){o.disabled=!sFlag;});return this;}};jindo.$Form.prototype.value=function(sKey){if(typeof sKey=='object'){var self=this;jindo.$H(sKey).forEach(function(bFlag,sKey){self.value(sKey,bFlag);});return this;}
var aEls=this.element(sKey);if(!aEls)throw new Error('엘리먼트는 존재하지 않습니다.');aEls=aEls.nodeType==1?[aEls]:aEls;if(arguments.length>1){var sVal=arguments[1];jindo.$A(aEls).forEach(function(o){switch(o.type){case'radio':o.checked=(o.value==sVal);break;case'checkbox':if(sVal.constructor==Array){o.checked=jindo.$A(sVal).has(o.value);}else{o.checked=(o.value==sVal);}
break;case'select-one':var nIndex=-1;for(var i=0,len=o.options.length;i<len;i++){if(o.options[i].value==sVal)nIndex=i;}
o.selectedIndex=nIndex;break;case'select-multiple':var nIndex=-1;if(sVal.constructor==Array){var waVal=jindo.$A(sVal);for(var i=0,len=o.options.length;i<len;i++){o.options[i].selected=waVal.has(o.options[i].value);}}else{for(var i=0,len=o.options.length;i<len;i++){if(o.options[i].value==sVal)nIndex=i;}
o.selectedIndex=nIndex;}
break;default:o.value=sVal;break;}});return this;}
var aRet=[];jindo.$A(aEls).forEach(function(o){switch(o.type){case'radio':case'checkbox':if(o.checked)aRet.push(o.value);break;case'select-one':if(o.selectedIndex!=-1)aRet.push(o.options[o.selectedIndex].value);break;case'select-multiple':if(o.selectedIndex!=-1){for(var i=0,len=o.options.length;i<len;i++){if(o.options[i].selected)aRet.push(o.options[i].value);}}
break;default:aRet.push(o.value);break;}});return aRet.length>1?aRet:aRet[0];};jindo.$Form.prototype.submit=function(sTargetName,fValidation){var sOrgTarget=null;if(typeof sTargetName=='string'){sOrgTarget=this._form.target;this._form.target=sTargetName;}
if(typeof sTargetName=='function')fValidation=sTargetName;if(typeof fValidation!='undefined'){if(!fValidation(this._form))return this;}
this._form.submit();if(sOrgTarget!==null)
this._form.target=sOrgTarget;return this;};jindo.$Form.prototype.reset=function(fValidation){if(typeof fValidation!='undefined'){if(!fValidation(this._form))return this;}
this._form.reset();return this;};jindo.$Template=function(str){var obj=null,tag="";var cl=arguments.callee;if(str instanceof cl)return str;if(!(this instanceof cl))return new cl(str);if(typeof str=="undefined"){str="";}else if((obj=document.getElementById(str)||str)&&obj.tagName&&(tag=obj.tagName.toUpperCase())&&(tag=="TEXTAREA"||(tag=="SCRIPT"&&obj.getAttribute("type")=="text/template"))){str=(obj.value||obj.innerHTML).replace(/^\s+|\s+$/g,"");}
this._str=str+"";}
jindo.$Template.splitter=/(?!\\)[\{\}]/g;jindo.$Template.pattern=/^(?:if (.+)|elseif (.+)|for (?:(.+)\:)?(.+) in (.+)|(else)|\/(if|for)|=(.+)|js (.+)|set (.+))$/;jindo.$Template.prototype.process=function(data){var key="\x01";var leftBrace="\x02";var rightBrace="\x03";var tpl=(" "+this._str+" ").replace(/\\{/g,leftBrace).replace(/\\}/g,rightBrace).replace(/(?!\\)\}\{/g,"}"+key+"{").split(jindo.$Template.splitter),i=tpl.length;var map={'"':'\\"','\\':'\\\\','\n':'\\n','\r':'\\r','\t':'\\t','\f':'\\f'};var reg=[/(["'](?:(?:\\.)+|[^\\["']+)*["']|[a-zA-Z_][\w\.]*)/g,/[\n\r\t\f"\\]/g,/^\s+/,/\s+$/,/#/g];var cb=[function(m){return(m.substring(0,1)=='"'||m.substring(0,1)=='\''||m=='null')?m:"d."+m;},function(m){return map[m]||m},"",""];var stm=[];var lev=0;tpl[0]=tpl[0].substr(1);tpl[i-1]=tpl[i-1].substr(0,tpl[i-1].length-1);if(i<2)return tpl[0];tpl=jindo.$A(tpl).reverse().$value();var delete_info;while(i--){if(i%2){tpl[i]=tpl[i].replace(jindo.$Template.pattern,function(){var m=arguments;if(m[10]){return m[10].replace(/(\w+)(?:\s*)=(?:\s*)(?:([a-zA-Z0-9_]+)|(.+))$/g,function(){var mm=arguments;var str="d."+mm[1]+"=";if(mm[2]){str+="d."+mm[2];}else{str+=mm[3].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(m){return(m.substring(0,1)=='=')?"d."+m.replace('=',''):m;});}
return str;})+";";}
if(m[9]){return's[i++]='+m[9].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(m){return(m.substring(0,1)=='=')?"d."+m.replace('=',''):m;})+';';}
if(m[8])return's[i++]= d.'+m[8]+';';if(m[1]){return'if('+m[1].replace(reg[0],cb[0]).replace(/d\.(typeof) /,'$1 ').replace(/ d\.(instanceof) d\./,' $1 ')+'){';}
if(m[2])return'}else if('+m[2].replace(reg[0],cb[0]).replace(/d\.(typeof) /,'$1 ').replace(/ d\.(instanceof) d\./,' $1 ')+'){';if(m[5]){delete_info=m[4];var _aStr=[];_aStr.push('var t#=d.'+m[5]+'||{},p#=isArray(t#),i#=0;');_aStr.push('for(var x# in t#){');_aStr.push('if(!t#.hasOwnProperty(x#)){continue;}');_aStr.push(' if( (p# && isNaN(i#=parseInt(x#,10))) || (!p# && !t#.propertyIsEnumerable(x#)) ) continue;');_aStr.push(' d.'+m[4]+'=t#[x#];');_aStr.push(m[3]?'d.'+m[3]+'=p#?i#:x#;':'');return _aStr.join("").replace(reg[4],lev++);}
if(m[6])return'}else{';if(m[7]){if(m[7]=="for"){return"delete d."+delete_info+"; };";}else{return'};';}}
return m[0];});}else if(tpl[i]==key){tpl[i]="";}else if(tpl[i]){tpl[i]='s[i++]="'+tpl[i].replace(reg[1],cb[1])+'";';}}
tpl=jindo.$A(tpl).reverse().$value().join('').replace(new RegExp(leftBrace,'g'),"{").replace(new RegExp(rightBrace,'g'),"}");var _aStr=[];_aStr.push('var s=[],i=0;');_aStr.push('function isArray(o){ return Object.prototype.toString.call(o) == "[object Array]" };');_aStr.push(tpl);_aStr.push('return s.join("");');tpl=eval("false||function(d){"+_aStr.join("")+"}");tpl=tpl(data);return tpl;};jindo.$Date=function(src){var a=arguments,t="";var cl=arguments.callee;if(src&&src instanceof cl)return src;if(!(this instanceof cl))return new cl(a[0],a[1],a[2],a[3],a[4],a[5],a[6]);if((t=typeof src)=="string"){if(/(\d\d\d\d)(?:-?(\d\d)(?:-?(\d\d)))/.test(src)){try{this._date=new Date(src);if(!this._date.toISOString){this._date=jindo.$Date.makeISO(src);}else if(this._date.toISOString()=="Invalid Date"){this._date=jindo.$Date.makeISO(src);}}catch(e){this._date=jindo.$Date.makeISO(src);}}else{this._date=cl.parse(src);}}else if(t=="number"){if(typeof a[1]=="undefined"){this._date=new Date(src);}else{for(var i=0;i<7;i++){if(typeof a[i]!="number"){a[i]=1;}}
this._date=new Date(a[0],a[1],a[2],a[3],a[4],a[5],a[6]);}}else if(t=="object"&&src.constructor==Date){(this._date=new Date).setTime(src.getTime());this._date.setMilliseconds(src.getMilliseconds());}else{this._date=new Date;}
this._names={};for(var i in jindo.$Date.names){if(jindo.$Date.names.hasOwnProperty(i))
this._names[i]=jindo.$Date.names[i];}}
jindo.$Date.makeISO=function(src){var match=src.match(/(\d\d\d\d)(?:-?(\d\d)(?:-?(\d\d)(?:[T ](\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|(?:([-+])(\d\d)(?::?(\d\d))?)?)?)?)?)?/);var hour=parseInt(match[4]||0,10);var min=parseInt(match[5]||0,10);if(match[8]=="Z"){hour+=jindo.$Date.utc;}else if(match[9]=="+"||match[9]=="-"){hour+=(jindo.$Date.utc-parseInt(match[9]+match[10],10));min+=parseInt(match[9]+match[11],10);}
return new Date(match[1]||0,parseInt(match[2]||0,10)-1,match[3]||0,hour,min,match[6]||0,match[7]||0);}
jindo.$Date.names={month:["January","Febrary","March","April","May","June","July","August","September","October","Novermber","December"],s_month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s_day:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ampm:["AM","PM"]};jindo.$Date.utc=9;jindo.$Date.now=function(){return Date.now();};jindo.$Date.prototype.name=function(oNames){if(arguments.length){for(var i in oNames){if(oNames.hasOwnProperty(i))
this._names[i]=oNames[i];}}else{return this._names;}}
jindo.$Date.parse=function(strDate){return new Date(Date.parse(strDate));};jindo.$Date.prototype.$value=function(){return this._date;};jindo.$Date.prototype.format=function(strFormat){var o={};var d=this._date;var name=this.name();var self=this;return(strFormat||"").replace(/[a-z]/ig,function callback(m){if(typeof o[m]!="undefined")return o[m];switch(m){case"d":case"j":o.j=d.getDate();o.d=(o.j>9?"":"0")+o.j;return o[m];case"l":case"D":case"w":case"N":o.w=d.getDay();o.N=o.w?o.w:7;o.D=name.s_day[o.w];o.l=name.day[o.w];return o[m];case"S":return(!!(o.S=["st","nd","rd"][d.getDate()]))?o.S:(o.S="th");case"z":o.z=Math.floor((d.getTime()-(new Date(d.getFullYear(),0,1)).getTime())/(3600*24*1000));return o.z;case"m":case"n":o.n=d.getMonth()+1;o.m=(o.n>9?"":"0")+o.n;return o[m];case"L":o.L=self.isLeapYear();return o.L;case"o":case"Y":case"y":o.o=o.Y=d.getFullYear();o.y=(o.o+"").substr(2);return o[m];case"a":case"A":case"g":case"G":case"h":case"H":o.G=d.getHours();o.g=(o.g=o.G%12)?o.g:12;o.A=o.G<12?name.ampm[0]:name.ampm[1];o.a=o.A.toLowerCase();o.H=(o.G>9?"":"0")+o.G;o.h=(o.g>9?"":"0")+o.g;return o[m];case"i":o.i=(((o.i=d.getMinutes())>9)?"":"0")+o.i;return o.i;case"s":o.s=(((o.s=d.getSeconds())>9)?"":"0")+o.s;return o.s;case"u":o.u=d.getMilliseconds();return o.u;case"U":o.U=self.time();return o.U;default:return m;}});};jindo.$Date.prototype.time=function(nTime){if(typeof nTime=="number"){this._date.setTime(nTime);return this;}
return this._date.getTime();};jindo.$Date.prototype.year=function(nYear){if(typeof nYear=="number"){this._date.setFullYear(nYear);return this;}
return this._date.getFullYear();};jindo.$Date.prototype.month=function(nMon){if(typeof nMon=="number"){this._date.setMonth(nMon);return this;}
return this._date.getMonth();};jindo.$Date.prototype.date=function(nDate){if(typeof nDate=="number"){this._date.setDate(nDate);return this;}
return this._date.getDate();};jindo.$Date.prototype.day=function(){return this._date.getDay();};jindo.$Date.prototype.hours=function(nHour){if(typeof nHour=="number"){this._date.setHours(nHour);return this;}
return this._date.getHours();};jindo.$Date.prototype.minutes=function(nMin){if(typeof nMin=="number"){this._date.setMinutes(nMin);return this;}
return this._date.getMinutes();};jindo.$Date.prototype.seconds=function(nSec){if(typeof nSec=="number"){this._date.setSeconds(nSec);return this;}
return this._date.getSeconds();};jindo.$Date.prototype.isLeapYear=function(){var y=this._date.getFullYear();return!(y%4)&&!!(y%100)||!(y%400);};jindo.$Window=function(el){var cl=arguments.callee;if(el instanceof cl)return el;if(!(this instanceof cl))return new cl(el);this._win=el||window;}
jindo.$Window.prototype.$value=function(){return this._win;};jindo.$Window.prototype.resizeTo=function(nWidth,nHeight){this._win.resizeTo(nWidth,nHeight);return this;};jindo.$Window.prototype.resizeBy=function(nWidth,nHeight){this._win.resizeBy(nWidth,nHeight);return this;};jindo.$Window.prototype.moveTo=function(nLeft,nTop){this._win.moveTo(nLeft,nTop);return this;};jindo.$Window.prototype.moveBy=function(nLeft,nTop){this._win.moveBy(nLeft,nTop);return this;};jindo.$Window.prototype.sizeToContent=function(nWidth,nHeight){if(typeof this._win.sizeToContent=="function"){this._win.sizeToContent();}else{if(arguments.length!=2){var innerX,innerY;var self=this._win;var doc=this._win.document;if(self.innerHeight){innerX=self.innerWidth;innerY=self.innerHeight;}else if(doc.documentElement&&doc.documentElement.clientHeight){innerX=doc.documentElement.clientWidth;innerY=doc.documentElement.clientHeight;}else if(doc.body){innerX=doc.body.clientWidth;innerY=doc.body.clientHeight;}
var pageX,pageY;var test1=doc.body.scrollHeight;var test2=doc.body.offsetHeight;if(test1>test2){pageX=doc.body.scrollWidth;pageY=doc.body.scrollHeight;}else{pageX=doc.body.offsetWidth;pageY=doc.body.offsetHeight;}
nWidth=pageX-innerX;nHeight=pageY-innerY;}
this.resizeBy(nWidth,nHeight);}
return this;};if(typeof window!="undefined"){for(prop in jindo){if(jindo.hasOwnProperty(prop)){window[prop]=jindo[prop];}}}


jindo.Component=jindo.$Class({_htEventHandler:null,_htOption:null,$init:function(){var aInstance=this.constructor.getInstance();aInstance.push(this);this._htEventHandler={};this._htOption={};this._htOption._htSetter={};},option:function(sName,vValue){switch(typeof sName){case"undefined":return this._htOption;case"string":if(typeof vValue!="undefined"){if(sName=="htCustomEventHandler"){if(typeof this._htOption[sName]=="undefined"){this.attach(vValue);}else{return this;}}
this._htOption[sName]=vValue;if(typeof this._htOption._htSetter[sName]=="function"){this._htOption._htSetter[sName](vValue);}}else{return this._htOption[sName];}
break;case"object":for(var sKey in sName){if(sKey=="htCustomEventHandler"){if(typeof this._htOption[sKey]=="undefined"){this.attach(sName[sKey]);}else{continue;}}
this._htOption[sKey]=sName[sKey];if(typeof this._htOption._htSetter[sKey]=="function"){this._htOption._htSetter[sKey](sName[sKey]);}}
break;}
return this;},optionSetter:function(sName,fSetter){switch(typeof sName){case"undefined":return this._htOption._htSetter;case"string":if(typeof fSetter!="undefined"){this._htOption._htSetter[sName]=jindo.$Fn(fSetter,this).bind();}else{return this._htOption._htSetter[sName];}
break;case"object":for(var sKey in sName){this._htOption._htSetter[sKey]=jindo.$Fn(sName[sKey],this).bind();}
break;}
return this;},fireEvent:function(sEvent,oEvent){oEvent=oEvent||{};var fInlineHandler=this['on'+sEvent],aHandlerList=this._htEventHandler[sEvent]||[],bHasInlineHandler=typeof fInlineHandler=="function",bHasHandlerList=aHandlerList.length>0;if(!bHasInlineHandler&&!bHasHandlerList){return true;}
aHandlerList=aHandlerList.concat();oEvent.sType=sEvent;if(typeof oEvent._aExtend=='undefined'){oEvent._aExtend=[];oEvent.stop=function(){if(oEvent._aExtend.length>0){oEvent._aExtend[oEvent._aExtend.length-1].bCanceled=true;}};}
oEvent._aExtend.push({sType:sEvent,bCanceled:false});var aArg=[oEvent],i,nLen;for(i=2,nLen=arguments.length;i<nLen;i++){aArg.push(arguments[i]);}
if(bHasInlineHandler){fInlineHandler.apply(this,aArg);}
if(bHasHandlerList){var fHandler;for(i=0,fHandler;(fHandler=aHandlerList[i]);i++){fHandler.apply(this,aArg);}}
return!oEvent._aExtend.pop().bCanceled;},attach:function(sEvent,fHandlerToAttach){if(arguments.length==1){jindo.$H(arguments[0]).forEach(jindo.$Fn(function(fHandler,sEvent){this.attach(sEvent,fHandler);},this).bind());return this;}
var aHandler=this._htEventHandler[sEvent];if(typeof aHandler=='undefined'){aHandler=this._htEventHandler[sEvent]=[];}
aHandler.push(fHandlerToAttach);return this;},detach:function(sEvent,fHandlerToDetach){if(arguments.length==1){jindo.$H(arguments[0]).forEach(jindo.$Fn(function(fHandler,sEvent){this.detach(sEvent,fHandler);},this).bind());return this;}
var aHandler=this._htEventHandler[sEvent];if(aHandler){for(var i=0,fHandler;(fHandler=aHandler[i]);i++){if(fHandler===fHandlerToDetach){aHandler=aHandler.splice(i,1);break;}}}
return this;},detachAll:function(sEvent){var aHandler=this._htEventHandler;if(arguments.length){if(typeof aHandler[sEvent]=='undefined'){return this;}
delete aHandler[sEvent];return this;}
for(var o in aHandler){delete aHandler[o];}
return this;}});jindo.Component.factory=function(aObject,oOption){var aReturn=[],oInstance;if(typeof oOption=="undefined"){oOption={};}
for(var i=0,el;(el=aObject[i]);i++){oInstance=new this(el,oOption);aReturn[aReturn.length]=oInstance;}
return aReturn;};jindo.Component.getInstance=function(){if(typeof this._aInstance=="undefined"){this._aInstance=[];}
return this._aInstance;};jindo.UIComponent=jindo.$Class({$init:function(){this._bIsActivating=false;},isActivating:function(){return this._bIsActivating;},activate:function(){if(this.isActivating()){return this;}
this._bIsActivating=true;if(arguments.length>0){this._onActivate.apply(this,arguments);}else{this._onActivate();}
return this;},deactivate:function(){if(!this.isActivating()){return this;}
this._bIsActivating=false;if(arguments.length>0){this._onDeactivate.apply(this,arguments);}else{this._onDeactivate();}
return this;}}).extend(jindo.Component);jindo.RolloverArea=jindo.$Class({$init:function(el,htOption){this.option({sClassName:"rollover",sClassPrefix:"rollover-",bCheckMouseDown:true,bActivateOnload:true,htStatus:{sOver:"over",sDown:"down"}});this.option(htOption||{});this._elArea=jindo.$(el);this._aOveredElements=[];this._aDownedElements=[];this._wfMouseOver=jindo.$Fn(this._onMouseOver,this);this._wfMouseOut=jindo.$Fn(this._onMouseOut,this);this._wfMouseDown=jindo.$Fn(this._onMouseDown,this);this._wfMouseUp=jindo.$Fn(this._onMouseUp,this);if(this.option("bActivateOnload")){this.activate();}},_addOvered:function(el){this._aOveredElements.push(el);},_removeOvered:function(el){this._aOveredElements.splice(jindo.$A(this._aOveredElements).indexOf(el),1);},_addStatus:function(el,sStatus){jindo.$Element(el).addClass(this.option('sClassPrefix')+sStatus);},_removeStatus:function(el,sStatus){jindo.$Element(el).removeClass(this.option('sClassPrefix')+sStatus);},_isInnerElement:function(elParent,elChild){return elParent===elChild?true:jindo.$Element(elParent).isParentOf(elChild);},_onActivate:function(){this._wfMouseOver.attach(this._elArea,'mouseover');this._wfMouseOut.attach(this._elArea,'mouseout');if(this.option("bCheckMouseDown")){this._wfMouseDown.attach(this._elArea,'mousedown');this._wfMouseUp.attach(document,'mouseup');}},_onDeactivate:function(){this._wfMouseOver.detach(this._elArea,'mouseover');this._wfMouseOut.detach(this._elArea,'mouseout');this._wfMouseDown.detach(this._elArea,'mousedown');this._wfMouseUp.detach(document,'mouseup');this._aOveredElements.length=0;this._aDownedElements.length=0;},_findRollover:function(el){var sClassName=this.option('sClassName');return jindo.$$.test(el,'.'+sClassName)?el:jindo.$$.getSingle('! .'+sClassName,el);},_onMouseOver:function(we){var el=we.element,elRelated=we.relatedElement,htParam;for(;el=this._findRollover(el);el=el.parentNode){if(elRelated&&this._isInnerElement(el,elRelated)){continue;}
this._addOvered(el);htParam={element:el,htStatus:this.option("htStatus"),weEvent:we};if(this.fireEvent('over',htParam)){this._addStatus(htParam.element,htParam.htStatus.sOver);}}},_onMouseOut:function(we){var el=we.element,elRelated=we.relatedElement,htParam;for(;el=this._findRollover(el);el=el.parentNode){if(elRelated&&this._isInnerElement(el,elRelated)){continue;}
this._removeOvered(el);htParam={element:el,htStatus:this.option("htStatus"),weEvent:we};if(this.fireEvent('out',htParam)){this._removeStatus(htParam.element,htParam.htStatus.sOver);}}},_onMouseDown:function(we){var el=we.element,htParam;while(el=this._findRollover(el)){htParam={element:el,htStatus:this.option("htStatus"),weEvent:we};this._aDownedElements.push(el);if(this.fireEvent('down',htParam)){this._addStatus(htParam.element,htParam.htStatus.sDown);}
el=el.parentNode;}},_onMouseUp:function(we){var el=we.element,aTargetElementDatas=[],aDownedElements=this._aDownedElements,htParam,elMouseDown,i;for(i=0;elMouseDown=aDownedElements[i];i++){aTargetElementDatas.push({element:elMouseDown,htStatus:this.option("htStatus"),weEvent:we});}
for(;el=this._findRollover(el);el=el.parentNode){if(jindo.$A(aDownedElements).indexOf(el)>-1){continue;}
aTargetElementDatas.push({element:el,htStatus:this.option("htStatus"),weEvent:we});}
for(i=0;htParam=aTargetElementDatas[i];i++){if(this.fireEvent('up',htParam)){this._removeStatus(htParam.element,htParam.htStatus.sDown);}}
this._aDownedElements=[];}}).extend(jindo.UIComponent);jindo.Calendar=jindo.$Class({$init:function(sLayerId,htOption){this._htToday=this.constructor.getDateHashTable(new Date());this._elLayer=jindo.$(sLayerId);this.htDefaultOption={sClassPrefix:"calendar-",nYear:this._htToday.nYear,nMonth:this._htToday.nMonth,nDate:this._htToday.nDate,sTitleFormat:"yyyy-mm",sYearTitleFormat:"yyyy",sMonthTitleFormat:"m",aMonthTitle:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],bDrawOnload:true};this.option(this.htDefaultOption);this.option(htOption||{});this._assignHTMLElements();this.activate();this.setDate(this.option("nYear"),this.option("nMonth"),this.option("nDate"));if(this.option("bDrawOnload")){this.draw();}},getBaseElement:function(){return this._elLayer;},getDate:function(){return this._htDate;},getDateOfElement:function(el){var nDateIndex=jindo.$A(this._aDateContainerElement).indexOf(el);if(nDateIndex>-1){return this._aMetaData[nDateIndex];}
return null;},getToday:function(){return this._htToday;},setDate:function(nYear,nMonth,nDate){this._htDate={nYear:nYear,nMonth:(nMonth*1),nDate:(nDate*1)};},getShownDate:function(){return this._getShownDate();},_getShownDate:function(){return this.htShownDate||this.getDate();},_setShownDate:function(nYear,nMonth){this.htShownDate={nYear:nYear,nMonth:(nMonth*1),nDate:1};},_assignHTMLElements:function(){var sClassPrefix=this.option("sClassPrefix"),elLayer=this.getBaseElement();if((this.elBtnPrevYear=jindo.$$.getSingle(("."+sClassPrefix+"btn-prev-year"),elLayer))){this.wfPrevYear=jindo.$Fn(function(oEvent){oEvent.stop(jindo.$Event.CANCEL_DEFAULT);this.draw(-1,0,true);},this);}
if((this.elBtnPrevMonth=jindo.$$.getSingle(("."+sClassPrefix+"btn-prev-mon"),elLayer))){this.wfPrevMonth=jindo.$Fn(function(oEvent){oEvent.stop(jindo.$Event.CANCEL_DEFAULT);this.draw(0,-1,true);},this);}
if((this.elBtnNextMonth=jindo.$$.getSingle(("."+sClassPrefix+"btn-next-mon"),elLayer))){this.wfNextMonth=jindo.$Fn(function(oEvent){oEvent.stop(jindo.$Event.CANCEL_DEFAULT);this.draw(0,1,true);},this);}
if((this.elBtnNextYear=jindo.$$.getSingle(("."+sClassPrefix+"btn-next-year"),elLayer))){this.wfNextYear=jindo.$Fn(function(oEvent){oEvent.stop(jindo.$Event.CANCEL_DEFAULT);this.draw(1,0,true);},this);}
this.elTitle=jindo.$$.getSingle(("."+sClassPrefix+"title"),elLayer);this.elTitleYear=jindo.$$.getSingle(("."+sClassPrefix+"title-year"),elLayer);this.elTitleMonth=jindo.$$.getSingle(("."+sClassPrefix+"title-month"),elLayer);var elWeekTemplate=jindo.$$.getSingle("."+sClassPrefix+"week",elLayer);this.elWeekTemplate=elWeekTemplate.cloneNode(true);this.elWeekAppendTarget=elWeekTemplate.parentNode;},_setCalendarTitle:function(nYear,nMonth,sType){if(nMonth<10){nMonth=("0"+(nMonth*1)).toString();}
var elTitle=this.elTitle,sTitleFormat=this.option("sTitleFormat"),sTitle;if(typeof sType!="undefined"){switch(sType){case"year":elTitle=this.elTitleYear;sTitleFormat=this.option("sYearTitleFormat");sTitle=sTitleFormat.replace(/yyyy/g,nYear).replace(/y/g,(nYear).toString().substr(2,2));break;case"month":elTitle=this.elTitleMonth;sTitleFormat=this.option("sMonthTitleFormat");sTitle=sTitleFormat.replace(/mm/g,nMonth).replace(/m/g,(nMonth*1)).replace(/M/g,this.option("aMonthTitle")[nMonth-1]);break;}}else{sTitle=sTitleFormat.replace(/yyyy/g,nYear).replace(/y/g,(nYear).toString().substr(2,2)).replace(/mm/g,nMonth).replace(/m/g,(nMonth*1)).replace(/M/g,this.option("aMonthTitle")[nMonth-1]);}
jindo.$Element(elTitle).text(sTitle);},draw:function(nYear,nMonth,bRelative){var sClassPrefix=this.option("sClassPrefix"),htDate=this.getDate(),oShownDate=this._getShownDate();if(oShownDate&&typeof bRelative!="undefined"&&bRelative){var htRelativeDate=this.constructor.getRelativeDate(nYear,nMonth,0,oShownDate);nYear=htRelativeDate.nYear;nMonth=htRelativeDate.nMonth;}else if(typeof nYear=="undefined"&&typeof nMonth=="undefined"&&typeof bRelative=="undefined"){nYear=htDate.nYear;nMonth=htDate.nMonth;}else{nYear=nYear||oShownDate.nYear;nMonth=nMonth||oShownDate.nMonth;}
if(this.fireEvent("beforeDraw",{nYear:nYear,nMonth:nMonth})){if(this.elTitle){this._setCalendarTitle(nYear,nMonth);}
if(this.elTitleYear){this._setCalendarTitle(nYear,nMonth,"year");}
if(this.elTitleMonth){this._setCalendarTitle(nYear,nMonth,"month");}
this._clear(jindo.Calendar.getWeeks(nYear,nMonth));this._setShownDate(nYear,nMonth);var htToday=this.getToday(),nFirstDay=this.constructor.getFirstDay(nYear,nMonth),nLastDay=this.constructor.getLastDay(nYear,nMonth),nLastDate=this.constructor.getLastDate(nYear,nMonth),nDay=0,htDatePrevMonth=this.constructor.getRelativeDate(0,-1,0,{nYear:nYear,nMonth:nMonth,nDate:1}),htDateNextMonth=this.constructor.getRelativeDate(0,1,0,{nYear:nYear,nMonth:nMonth,nDate:1}),nPrevMonthLastDate=this.constructor.getLastDate(htDatePrevMonth.nYear,htDatePrevMonth.nMonth),aDate=[],bPrevMonth,bNextMonth,welDateContainer,nTempYear,nTempMonth,oParam,nIndexOfLastDate,elWeek,i;var nWeeks=this.constructor.getWeeks(nYear,nMonth);for(i=0;i<nWeeks;i++){elWeek=this.elWeekTemplate.cloneNode(true);jindo.$Element(elWeek).appendTo(this.elWeekAppendTarget);this._aWeekElement.push(elWeek);}
this._aDateElement=jindo.$$("."+sClassPrefix+"date",this.elWeekAppendTarget);this._aDateContainerElement=jindo.$$("."+sClassPrefix+"week > *",this.elWeekAppendTarget);if(nFirstDay>0){for(i=nPrevMonthLastDate-nFirstDay;i<nPrevMonthLastDate;i++){aDate.push(i+1);}}
for(i=1;i<nLastDate+1;i++){aDate.push(i);}
nIndexOfLastDate=aDate.length-1;for(i=1;i<7-nLastDay;i++){aDate.push(i);}
for(i=0;i<aDate.length;i++){bPrevMonth=false;bNextMonth=false;welDateContainer=jindo.$Element(this._aDateContainerElement[i]);nTempYear=nYear;nTempMonth=nMonth;if(i<nFirstDay){bPrevMonth=true;welDateContainer.addClass(sClassPrefix+"prev-mon");nTempYear=htDatePrevMonth.nYear;nTempMonth=htDatePrevMonth.nMonth;}else if(i>nIndexOfLastDate){bNextMonth=true;welDateContainer.addClass(sClassPrefix+"next-mon");nTempYear=htDateNextMonth.nYear;nTempMonth=htDateNextMonth.nMonth;}else{nTempYear=nYear;nTempMonth=nMonth;}
if(nDay===0){welDateContainer.addClass(sClassPrefix+"sun");}
if(nDay==6){welDateContainer.addClass(sClassPrefix+"sat");}
if(nTempYear==htToday.nYear&&(nTempMonth*1)==htToday.nMonth&&aDate[i]==htToday.nDate){welDateContainer.addClass(sClassPrefix+"today");}
oParam={elDate:this._aDateElement[i],elDateContainer:welDateContainer.$value(),nYear:nTempYear,nMonth:nTempMonth,nDate:aDate[i],bPrevMonth:bPrevMonth,bNextMonth:bNextMonth,sHTML:aDate[i]};jindo.$Element(oParam.elDate).html(oParam.sHTML.toString());this._aMetaData.push({nYear:nTempYear,nMonth:nTempMonth,nDate:aDate[i]});nDay=(nDay+1)%7;this.fireEvent("draw",oParam);}
this.fireEvent("afterDraw",{nYear:nYear,nMonth:nMonth});}},_clear:function(nWeek){this._aMetaData=[];this._aWeekElement=[];jindo.$Element(this.elWeekAppendTarget).empty();},attachEvent:function(){this.activate();},detachEvent:function(){this.deactivate();},_onActivate:function(){if(this.elBtnPrevYear){this.wfPrevYear.attach(this.elBtnPrevYear,"click");}
if(this.elBtnPrevMonth){this.wfPrevMonth.attach(this.elBtnPrevMonth,"click");}
if(this.elBtnNextMonth){this.wfNextMonth.attach(this.elBtnNextMonth,"click");}
if(this.elBtnNextYear){this.wfNextYear.attach(this.elBtnNextYear,"click");}},_onDeactivate:function(){if(this.elBtnPrevYear){this.wfPrevYear.detach(this.elBtnPrevYear,"click");}
if(this.elBtnPrevMonth){this.wfPrevMonth.detach(this.elBtnPrevMonth,"click");}
if(this.elBtnNextMonth){this.wfNextMonth.detach(this.elBtnNextMonth,"click");}
if(this.elBtnNextYear){this.wfNextYear.detach(this.elBtnNextYear,"click");}}}).extend(jindo.UIComponent);jindo.Calendar.getDateObject=function(htDate){if(arguments.length==3){return new Date(arguments[0],arguments[1]-1,arguments[2]);}
return new Date(htDate.nYear,htDate.nMonth-1,htDate.nDate);};jindo.Calendar.getDateHashTable=function(oDate){if(arguments.length==3){return{nYear:arguments[0],nMonth:arguments[1],nDate:arguments[2]};}
if(arguments.length<=1){oDate=oDate||new Date();}
return{nYear:oDate.getFullYear(),nMonth:oDate.getMonth()+1,nDate:oDate.getDate()};};jindo.Calendar.getTime=function(htDate){return this.getDateObject(htDate).getTime();};jindo.Calendar.getFirstDay=function(nYear,nMonth){return new Date(nYear,nMonth-1,1).getDay();};jindo.Calendar.getLastDay=function(nYear,nMonth){return new Date(nYear,nMonth,0).getDay();};jindo.Calendar.getLastDate=function(nYear,nMonth){return new Date(nYear,nMonth,0).getDate();};jindo.Calendar.getWeeks=function(nYear,nMonth){var nFirstDay=this.getFirstDay(nYear,nMonth),nLastDate=this.getLastDate(nYear,nMonth);return Math.ceil((nFirstDay+nLastDate)/7);};jindo.Calendar.getRelativeDate=function(nYear,nMonth,nDate,htDate){return this.getDateHashTable(new Date(htDate.nYear+nYear,htDate.nMonth+nMonth-1,htDate.nDate+nDate));};jindo.Calendar.isPast=function(htDate,htComparisonDate){if(this.getTime(htDate)<this.getTime(htComparisonDate)){return true;}
return false;};jindo.Calendar.isFuture=function(htDate,htComparisonDate){if(this.getTime(htDate)>this.getTime(htComparisonDate)){return true;}
return false;};jindo.Calendar.isSameDate=function(htDate,htComparisonDate){if(this.getTime(htDate)==this.getTime(htComparisonDate)){return true;}
return false;};jindo.Calendar.isBetween=function(htDate,htFrom,htTo){if(this.isFuture(htDate,htTo)||this.isPast(htDate,htFrom)){return false;}else{return true;}};jindo.LayerManager=jindo.$Class({_bIsActivating:false,_bIsLayerVisible:false,_bIsHiding:false,_bIsShowing:false,_aLink:null,$init:function(el,htOption){this.option({sCheckEvent:"click",nCheckDelay:100,nShowDelay:0,nHideDelay:100,sMethod:"show",nDuration:200,Transition:{fFadeIn:jindo.Effect.cubicEaseOut,fFadeOut:jindo.Effect.cubicEaseIn,fSlideDown:jindo.Effect.cubicEaseOut,fSlideUp:jindo.Effect.cubicEaseIn}});this.option(htOption||{});this.setLayer(el);this._aLink=[];this._oShowTimer=new jindo.Timer();this._oHideTimer=new jindo.Timer();this._oEventTimer=new jindo.Timer();this._wfOnEvent=jindo.$Fn(this._onEvent,this);this.getVisible();this.activate();},_onActivate:function(){this._wfOnEvent.attach(document,this.option("sCheckEvent"));},_onDeactivate:function(){this._wfOnEvent.detach(document,this.option("sCheckEvent"));},getVisible:function(){return this._bIsLayerVisible=(this._wel.visible()&&this._wel.opacity()>0);},_check:function(el){var wel=jindo.$Element(el);for(var i=0,elLink;elLink=this._aLink[i];i++){elLink=jindo.$Element(elLink).$value();if(elLink&&(el==elLink||wel.isChildOf(elLink))){return true;}}
return false;},_find:function(el){for(var i=0,elLink;(elLink=this._aLink[i]);i++){if(elLink==el){return i;}}
return-1;},getLayer:function(){return this._el;},setLayer:function(el){this._el=jindo.$(el);this._wel=jindo.$Element(el);var elToMeasure=this._el.cloneNode(true);var welToMeasure=jindo.$Element(elToMeasure);welToMeasure.css({position:"absolute",left:"-5000px"}).appendTo(this._el.parentNode);welToMeasure.show();this._nLayerHeight=welToMeasure.height();welToMeasure.height(this._nLayerHeight);this._sLayerCSSHeight=welToMeasure.css("height");this._sLayerCSSOverflowX=this._wel.css("overflowX");this._sLayerCSSOverflowY=this._wel.css("overflowY");welToMeasure.css("overflow","hidden").height(0);this._nSlideMinHeight=welToMeasure.height()+1;welToMeasure.leave();return this;},_transform:function(){this._wel.css({"overflowX":"hidden","overflowY":"hidden"});},_restore:function(){this._wel.css({"overflowX":this._sLayerCSSOverflowX,"overflowY":this._sLayerCSSOverflowY});},getLinks:function(){return this._aLink;},setLinks:function(a){this._aLink=jindo.$A(a).unique().$value();return this;},link:function(vElement){if(arguments.length>1){for(var i=0,len=arguments.length;i<len;i++){this.link(arguments[i]);}
return this;}
if(this._find(vElement)!=-1){return this;}
this._aLink.push(vElement);return this;},unlink:function(vElement){if(arguments.length>1){for(var i=0,len=arguments.length;i<len;i++){this.unlink(arguments[i]);}
return this;}
var nIndex=this._find(vElement);if(nIndex>-1){this._aLink.splice(nIndex,1);}
return this;},_fireEventBeforeShow:function(){this._transform();return this.fireEvent("beforeShow",{elLayer:this.getLayer(),aLinkedElement:this.getLinks(),sMethod:this.option("sMethod")});},_fireEventAppear:function(){this.fireEvent("appear",{elLayer:this.getLayer(),aLinkedElement:this.getLinks(),sMethod:this.option("sMethod")});},_fireEventShow:function(){this._bIsShowing=false;this._restore();this.fireEvent("show",{elLayer:this.getLayer(),aLinkedElement:this.getLinks(),sMethod:this.option("sMethod")});},_fireEventBeforeHide:function(){this._transform();return this.fireEvent("beforeHide",{elLayer:this.getLayer(),aLinkedElement:this.getLinks(),sMethod:this.option("sMethod")});},_fireEventHide:function(){this._bIsHiding=false;this._restore();this.fireEvent("hide",{elLayer:this.getLayer(),aLinkedElement:this.getLinks(),sMethod:this.option("sMethod")});},_show:function(fShow,nDelay){this._oEventTimer.abort();this._bIsShowing=true;this._bIsHiding=false;if(nDelay>0){this._oShowTimer.start(fShow,nDelay);}else{this._oHideTimer.abort();fShow();}},_hide:function(fHide,nDelay){this._bIsShowing=false;this._bIsHiding=true;if(nDelay>0){this._oHideTimer.start(fHide,nDelay);}else{this._oShowTimer.abort();fHide();}},_getShowMethod:function(){switch(this.option("sMethod")){case"show":return"showIn";case"fade":return"fadeIn";case"slide":return"slideDown";}},_getHideMethod:function(){switch(this.option("sMethod")){case"show":return"hideOut";case"fade":return"fadeOut";case"slide":return"slideUp";}},show:function(nDelay){if(typeof nDelay=="undefined"){nDelay=this.option("nShowDelay");}
this[this._getShowMethod()](nDelay);return this;},hide:function(nDelay){if(typeof nDelay=="undefined"){nDelay=this.option("nHideDelay");}
this[this._getHideMethod()](nDelay);return this;},showIn:function(nDelay){if(typeof nDelay=="undefined"){nDelay=this.option("nShowDelay");}
var self=this;this._show(function(){self._sAppliedMethod="show";if(!self.getVisible()){if(self._fireEventBeforeShow()){self._wel.show();self._fireEventAppear();self._fireEventShow();}}},nDelay);return this;},hideOut:function(nDelay){if(typeof nDelay=="undefined"){nDelay=this.option("nHideDelay");}
var self=this;this._hide(function(){self._sAppliedMethod="show";if(self.getVisible()){if(self._fireEventBeforeHide()){self._wel.hide();self._fireEventHide();}}},nDelay);return this;},_getTransition:function(){if(this._oTransition){return this._oTransition;}else{return(this._oTransition=new jindo.Transition().fps(30));}},fadeIn:function(nDelay){var oTransition=this._getTransition();oTransition.detachAll().abort();if(typeof nDelay=="undefined"){nDelay=this.option("nShowDelay");}
var nDuration=this.option("nDuration");var self=this;this._show(function(){self._sAppliedMethod="fade";var elLayer=self.getLayer();if(!self._wel.visible()||self._wel.opacity()!=1){if(self._fireEventBeforeShow()){if(!self._wel.visible()){self._wel.opacity(0);self._wel.show();}
nDuration*=(1-self._wel.opacity());oTransition.attach({playing:function(oCustomEvent){if(oCustomEvent.nStep===1){this.detach("playing",arguments.callee);self._fireEventAppear();}},end:function(oCustomEvent){this.detach("end",arguments.callee);self._fireEventShow();}}).start(nDuration,elLayer,{"@opacity":self.option("Transition").fFadeIn.apply(null,[1])});}}},nDelay);return this;},fadeOut:function(nDelay){var oTransition=this._getTransition();oTransition.detachAll().abort();if(typeof nDelay=="undefined"){nDelay=this.option("nHideDelay");}
var nDuration=this.option("nDuration");var self=this;this._hide(function(){self._sAppliedMethod="fade";if(self.getVisible()){var elLayer=self.getLayer();if(self._fireEventBeforeHide()){nDuration*=self._wel.opacity();oTransition.attach({end:function(e){this.detach("end",arguments.callee);self._wel.hide();self._wel.opacity(1);self._fireEventHide();}}).start(nDuration,elLayer,{"@opacity":self.option("Transition").fFadeOut.apply(null,[0])});}}},nDelay);return this;},slideDown:function(nDelay){var oTransition=this._getTransition();oTransition.detachAll().abort();if(typeof nDelay=="undefined"){nDelay=this.option("nShowDelay");}
var nDuration=this.option("nDuration");var self=this;this._show(function(){self._sAppliedMethod="slide";var elLayer=self.getLayer();if(Math.ceil(self._wel.height())<self._nLayerHeight){if(self._fireEventBeforeShow()){if(!self.getVisible()){self._wel.height(0).show();}else{nDuration=Math.ceil(nDuration*((self._nLayerHeight-self._wel.height())/(self._nLayerHeight-self._nSlideMinHeight)));}
oTransition.attach({playing:function(oCustomEvent){if(oCustomEvent.nStep===1){this.detach("playing",arguments.callee);self._fireEventAppear();}},end:function(oCustomEvent){this.detach("end",arguments.callee);self._fireEventShow();}}).start(nDuration,{getter:function(sKey){return jindo.$Element(elLayer)[sKey]()+1;},setter:function(sKey,nValue){jindo.$Element(elLayer)[sKey](parseFloat(nValue));}},{height:self.option("Transition").fSlideDown.apply(null,[self._nLayerHeight])});}}},nDelay);return this;},slideUp:function(nDelay){var oTransition=this._getTransition();oTransition.detachAll().abort();if(typeof nDelay=="undefined"){nDelay=this.option("nHideDelay");}
var nDuration=this.option("nDuration");var self=this;this._hide(function(){self._sAppliedMethod="slide";var elLayer=self.getLayer();if(self.getVisible()){if(self._fireEventBeforeHide()){nDuration=Math.ceil(nDuration*(self._wel.height()/self._nLayerHeight));oTransition.attach({end:function(e){self._wel.hide().css({"height":self._sLayerCSSHeight});this.detach("end",arguments.callee);self._fireEventHide();}}).start(nDuration,{getter:function(sKey){return jindo.$Element(elLayer)[sKey]();},setter:function(sKey,nValue){jindo.$Element(elLayer)[sKey](Math.ceil(nValue));}},{height:self.option("Transition").fSlideUp.apply(null,[self._nSlideMinHeight])});}}},nDelay);return this;},toggle:function(nDelay){if(!this.getVisible()||this._bIsHiding){this.show(nDelay||this.option("nShowDelay"));}else{this.hide(nDelay||this.option("nHideDelay"));}
return this;},_onEvent:function(we){var el=we.element,self=this;this._oEventTimer.start(function(){if(!self._bIsHiding&&self.getVisible()){if(self._check(el)){if(!self._bIsShowing){self.fireEvent("ignore",{sCheckEvent:self.option("sCheckEvent")});self._oHideTimer.abort();self._bIsHiding=false;}}else{if(typeof el.tagName!="undefined"){self.hide();}}}},this.option("nCheckDelay"));}}).extend(jindo.UIComponent);jindo.LayerPosition=jindo.$Class({$init:function(el,elLayer,htOption){this.option({sPosition:"outside-bottom",sAlign:"left",sValign:"",nTop:0,nLeft:0,bAuto:false});this.option(htOption||{});this.setElement(el);if(elLayer){this.setLayer(elLayer);}
if(el&&elLayer){this.setPosition();}
this._wfSetPosition=jindo.$Fn(function(){var el=this._elLayer;if(el&&this._welLayer.visible()){if(this.fireEvent("beforeAdjust",{elLayer:el,htCurrentPosition:this.getCurrentPosition(),htAdjustedPosition:this._adjustPosition(this.getCurrentPosition())})){this.setPosition();this.fireEvent("adjust",{elLayer:el,htCurrentPosition:this.getCurrentPosition()});}}},this);if(this.option("bAuto")){this._wfSetPosition.attach(window,"scroll").attach(window,"resize");}},getElement:function(){return this._el;},setElement:function(el){this._el=jindo.$(el);this._wel=jindo.$Element(el);return this;},getLayer:function(){return this._elLayer;},setLayer:function(elLayer){this._elLayer=jindo.$(elLayer);this._welLayer=jindo.$Element(elLayer);document.body.appendChild(elLayer);return this;},_isPosition:function(htOption,sWord){if(htOption.sPosition.indexOf(sWord)>-1){return true;}
return false;},_setLeftRight:function(htOption,htPosition){var el=this.getElement(),elLayer=this.getLayer(),nWidth=el.offsetWidth,nLayerWidth=elLayer.offsetWidth;if(el==document.body){nWidth=jindo.$Document().clientSize().width;}
var bLeft=this._isPosition(htOption,"left"),bRight=this._isPosition(htOption,"right"),bInside=this._isPosition(htOption,"inside");if(bLeft){if(bInside){htPosition.nLeft+=htOption.nLeft;}else{htPosition.nLeft-=nLayerWidth;htPosition.nLeft-=htOption.nLeft;}}else if(bRight){htPosition.nLeft+=nWidth;if(bInside){htPosition.nLeft-=nLayerWidth;htPosition.nLeft-=htOption.nLeft;}else{htPosition.nLeft+=htOption.nLeft;}}else{if(htOption.sAlign=="left"){htPosition.nLeft+=htOption.nLeft;}
if(htOption.sAlign=="center"){htPosition.nLeft+=(nWidth-nLayerWidth)/2;}
if(htOption.sAlign=="right"){htPosition.nLeft+=nWidth-nLayerWidth;htPosition.nLeft-=htOption.nLeft;}}
return htPosition;},_setVerticalAlign:function(htOption,htPosition){var el=this.getElement(),elLayer=this.getLayer(),nHeight=el.offsetHeight,nLayerHeight=elLayer.offsetHeight;if(el==document.body){nHeight=jindo.$Document().clientSize().height;}
switch(htOption.sValign){case"top":htPosition.nTop+=htOption.nTop;break;case"middle":htPosition.nTop+=(nHeight-nLayerHeight)/2;break;case"bottom":htPosition.nTop+=nHeight-nLayerHeight-htOption.nTop;break;}
return htPosition;},_adjustScrollPosition:function(htPosition){if(this.getElement()==document.body){var htScrollPosition=jindo.$Document().scrollPosition();htPosition.nTop+=htScrollPosition.top;htPosition.nLeft+=htScrollPosition.left;}
return htPosition;},getPosition:function(htOption){if(typeof htOption!="object"){htOption=this.option();}
if(typeof htOption.nTop=="undefined"){htOption.nTop=0;}
if(typeof htOption.nLeft=="undefined"){htOption.nLeft=0;}
var sArea,bCenter=this._isPosition(htOption,"center"),bInside=this._isPosition(htOption,"inside"),bTop=this._isPosition(htOption,"top"),bBottom=this._isPosition(htOption,"bottom"),bLeft=this._isPosition(htOption,"left"),bRight=this._isPosition(htOption,"right");if(bLeft){sArea="left";}
if(bRight){sArea="right";}
if(bTop){sArea="top";}
if(bBottom){sArea="bottom";}
if(bCenter){sArea="center";}
var el=this.getElement(),wel=jindo.$Element(el),elLayer=this.getLayer(),welLayer=jindo.$Element(elLayer),htElementPosition=wel.offset(),nWidth=el.offsetWidth,nHeight=el.offsetHeight,oClientSize,nLayerWidth=elLayer.offsetWidth,nLayerHeight=elLayer.offsetHeight,htPosition={nTop:htElementPosition.top,nLeft:htElementPosition.left};if(el==document.body){oClientSize=jindo.$Document().clientSize();nWidth=oClientSize.width;nHeight=oClientSize.height;}
nLayerWidth+=parseInt(welLayer.css('marginLeft'))+parseInt(welLayer.css('marginRight'))||0;nLayerHeight+=parseInt(welLayer.css('marginTop'))+parseInt(welLayer.css('marginBottom'))||0;switch(sArea){case"center":htPosition.nTop+=(nHeight-nLayerHeight)/2;htPosition.nTop+=htOption.nTop;htPosition.nLeft+=(nWidth-nLayerWidth)/2;htPosition.nLeft+=htOption.nLeft;break;case"top":if(bInside){htPosition.nTop+=htOption.nTop;}else{htPosition.nTop-=htOption.nTop+nLayerHeight;}
htPosition=this._setLeftRight(htOption,htPosition);break;case"bottom":htPosition.nTop+=nHeight;if(bInside){htPosition.nTop-=htOption.nTop+nLayerHeight;}else{htPosition.nTop+=htOption.nTop;}
htPosition=this._setLeftRight(htOption,htPosition);break;case"left":if(bInside){htPosition.nLeft+=htOption.nLeft;}else{htPosition.nLeft-=htOption.nLeft+nLayerWidth;}
htPosition=this._setVerticalAlign(htOption,htPosition);break;case"right":htPosition.nLeft+=nWidth;if(bInside){htPosition.nLeft-=htOption.nLeft+nLayerWidth;}else{htPosition.nLeft+=htOption.nLeft;}
htPosition=this._setVerticalAlign(htOption,htPosition);break;}
htPosition=this._adjustScrollPosition(htPosition);return htPosition;},setPosition:function(htPosition){var welLayer=jindo.$Element(this.getLayer());welLayer.css("left","-9999px").css("top","0px");if(typeof htPosition=="undefined"){htPosition=this.getPosition();}
if(this.option("bAuto")){htPosition=this._adjustPosition(htPosition);}
welLayer.css("left",htPosition.nLeft+"px").css("top",htPosition.nTop+"px");return this;},getCurrentPosition:function(){var welLayer=jindo.$Element(this.getLayer());return{nTop:parseInt(welLayer.css("top")),nLeft:parseInt(welLayer.css("left"))};},_isFullyVisible:function(htPosition){var elLayer=this.getLayer(),welLayer=jindo.$Element(elLayer),oScrollPosition=jindo.$Document().scrollPosition(),nScrollTop=oScrollPosition.top,nScrollLeft=oScrollPosition.left,oClientSize=jindo.$Document().clientSize(),nLayerWidth=elLayer.offsetWidth+(parseInt(welLayer.css('marginLeft'))+parseInt(welLayer.css('marginRight'))||0),nLayerHeight=elLayer.offsetHeight+(parseInt(welLayer.css('marginTop'))+parseInt(welLayer.css('marginBottom'))||0);if(htPosition.nLeft>=0&&htPosition.nTop>=0&&oClientSize.width>=htPosition.nLeft-nScrollLeft+nLayerWidth&&oClientSize.height>=htPosition.nTop-nScrollTop+nLayerHeight){return true;}
return false;},_mirrorHorizontal:function(htOption){if(htOption.sAlign=="center"||htOption.sPosition=="inside-center"){return htOption;}
var htConvertedOption={};for(var i in htOption){htConvertedOption[i]=htOption[i];}
if(this._isPosition(htConvertedOption,"right")){htConvertedOption.sPosition=htConvertedOption.sPosition.replace(/right/,"left");}else if(this._isPosition(htConvertedOption,"left")){htConvertedOption.sPosition=htConvertedOption.sPosition.replace(/left/,"right");}else if(htConvertedOption.sAlign=="right"){htConvertedOption.sAlign="left";}else if(htConvertedOption.sAlign=="left"){htConvertedOption.sAlign="right";}
return htConvertedOption;},_mirrorVertical:function(htOption){if(htOption.sValign=="middle"||htOption.sPosition=="inside-center"){return htOption;}
var htConvertedOption={};for(var i in htOption){htConvertedOption[i]=htOption[i];}
if(this._isPosition(htConvertedOption,"top")){htConvertedOption.sPosition=htConvertedOption.sPosition.replace(/top/,"bottom");}else if(this._isPosition(htConvertedOption,"bottom")){htConvertedOption.sPosition=htConvertedOption.sPosition.replace(/bottom/,"top");}else if(htConvertedOption.sValign=="top"){htConvertedOption.sValign="bottom";}else if(htConvertedOption.sValign=="bottom"){htConvertedOption.sValign="top";}
return htConvertedOption;},_adjustPosition:function(htPosition){var htOption=this.option(),aCandidatePosition=[];aCandidatePosition.push(htPosition);aCandidatePosition.push(this.getPosition(this._mirrorHorizontal(htOption)));aCandidatePosition.push(this.getPosition(this._mirrorVertical(htOption)));aCandidatePosition.push(this.getPosition(this._mirrorVertical(this._mirrorHorizontal(htOption))));for(var i=0,htCandidatePosition;htCandidatePosition=aCandidatePosition[i];i++){if(this._isFullyVisible(htCandidatePosition)){htPosition=htCandidatePosition;break;}}
return htPosition;}}).extend(jindo.Component);jindo.Timer=jindo.$Class({$init:function(){this._nTimer=null;this._nLatest=null;this._nRemained=0;this._nDelay=null;this._fRun=null;this._bIsRunning=false;},start:function(fRun,nDelay){this.abort();this._nRemained=0;this._nDelay=nDelay;this._fRun=fRun;this._bIsRunning=true;this._nLatest=this._getTime();this.fireEvent('wait');this._excute(this._nDelay,false);return true;},isRunning:function(){return this._bIsRunning;},_getTime:function(){return new Date().getTime();},_clearTimer:function(){var bFlag=false;if(this._nTimer){clearInterval(this._nTimer);this._bIsRunning=false;bFlag=true;}
this._nTimer=null;return bFlag;},abort:function(){var bReturn=this._clearTimer();if(bReturn){this.fireEvent('abort');this._fRun=null;}
return bReturn;},pause:function(){var nPassed=this._getTime()-this._nLatest;this._nRemained=Math.max(this._nDelay-nPassed,0);return this._clearTimer();},_excute:function(nDelay,bResetDelay){var self=this;this._clearTimer();this._bIsRunning=true;this._nTimer=setInterval(function(){if(self._nTimer){self.fireEvent('run');var r=self._fRun();self._nLatest=self._getTime();if(!r){clearInterval(self._nTimer);self._nTimer=null;self._bIsRunning=false;self.fireEvent('end');return;}
self.fireEvent('wait');if(bResetDelay){self._excute(self._nDelay,false);}}},nDelay);},resume:function(){if(!this._fRun||this.isRunning()){return false;}
this._bIsRunning=true;this.fireEvent('wait');this._excute(this._nRemained,true);this._nRemained=0;return true;}}).extend(jindo.Component);jindo.Transition=jindo.$Class({_nFPS:30,_aTaskQueue:null,_oTimer:null,_bIsWaiting:true,_bIsPlaying:false,$init:function(htOption){this._aTaskQueue=[];this._oTimer=new jindo.Timer();this.option({fEffect:jindo.Effect.linear,bCorrection:false});this.option(htOption||{});},fps:function(nFPS){if(arguments.length>0){this._nFPS=nFPS;return this;}
return this._nFPS;},isPlaying:function(){return this._bIsPlaying;},abort:function(){this._aTaskQueue=[];this._oTimer.abort();if(this._bIsPlaying){this.fireEvent("abort");}
this._bIsWaiting=true;this._bIsPlaying=false;this._htTaskToDo=null;return this;},start:function(nDuration,elTarget,htInfo){if(arguments.length>0){this.queue.apply(this,arguments);}
this._prepareNextTask();return this;},queue:function(nDuration,aCommand){var htTask;if(typeof arguments[0]=='function'){htTask={sType:"function",fTask:arguments[0]};}else{var a=[];var nLength=arguments.length;if(arguments[1]instanceof Array){a=arguments[1];}else{var aInner=[];jindo.$A(arguments).forEach(function(v,i){if(i>0){aInner.push(v);if(i%2==0){a.push(aInner.concat());aInner=[];}}});}
htTask={sType:"task",nDuration:nDuration,aList:[]};for(var i=0;i<a.length;i++){var aValue=[];var htArg=a[i][1];var sEnd;for(var sKey in htArg){sEnd=htArg[sKey];if(/^(@|style\.)(\w+)/i.test(sKey)){aValue.push(["style",RegExp.$2,sEnd]);}else{aValue.push(["attr",sKey,sEnd]);}}
htTask.aList.push({elTarget:a[i][0],aValue:aValue});}}
this._queueTask(htTask);return this;},pause:function(){if(this._oTimer.abort()){this.fireEvent("pause");}
return this;},resume:function(){if(this._htTaskToDo){if(this._bIsWaiting===false&&this._bIsPlaying===true){this.fireEvent("resume");}
this._doTask();this._bIsWaiting=false;this._bIsPlaying=true;var self=this;this._oTimer.start(function(){var bEnd=!self._doTask();if(bEnd){self._bIsWaiting=true;setTimeout(function(){self._prepareNextTask();},0);}
return!bEnd;},this._htTaskToDo.nInterval);}
return this;},precede:function(nDuration,elTarget,htInfo){this.start.apply(this,arguments);return this;},sleep:function(nDuration,fCallback){if(typeof fCallback=="undefined"){fCallback=function(){};}
this._queueTask({sType:"sleep",nDuration:nDuration,fCallback:fCallback});this._prepareNextTask();return this;},_queueTask:function(v){this._aTaskQueue.push(v);},_dequeueTask:function(){var htTask=this._aTaskQueue.shift();if(htTask){if(htTask.sType=="task"){var aList=htTask.aList;for(var i=0,nLength=aList.length;i<nLength;i++){var elTarget=aList[i].elTarget;for(var j=0,aValue=aList[i].aValue,nJLen=aValue.length;j<nJLen;j++){var sType=aValue[j][0];var fFunc=aValue[j][2];if(typeof fFunc!="function"){if(fFunc instanceof Array){fFunc=this.option("fEffect")(fFunc[0],fFunc[1]);}else{fFunc=this.option("fEffect")(fFunc);}}
if(fFunc.setStart){if(this._isHTMLElement(elTarget)){var welTarget=jindo.$Element(elTarget);switch(sType){case"style":fFunc.setStart(welTarget.css(aValue[j][1]));break;case"attr":fFunc.setStart(welTarget.$value()[aValue[j][1]]);break;}}else{fFunc.setStart(elTarget.getter(aValue[j][1]));}}
aValue[j][2]=fFunc;}}}
return htTask;}else{return null;}},_prepareNextTask:function(){if(this._bIsWaiting){var htTask=this._dequeueTask();if(htTask){switch(htTask.sType){case"task":if(!this._bIsPlaying){this.fireEvent("start");}
var nInterval=1000/this._nFPS;var nGap=nInterval/htTask.nDuration;this._htTaskToDo={aList:htTask.aList,nRatio:0,nInterval:nInterval,nGap:nGap,nStep:0,nTotalStep:Math.ceil(htTask.nDuration/nInterval)};this.resume();break;case"function":if(!this._bIsPlaying){this.fireEvent("start");}
htTask.fTask();this._prepareNextTask();break;case"sleep":if(this._bIsPlaying){this.fireEvent("sleep",{nDuration:htTask.nDuration});htTask.fCallback();}
var self=this;setTimeout(function(){self.fireEvent("awake");self._prepareNextTask();},htTask.nDuration);break;}}else{if(this._bIsPlaying){this._bIsPlaying=false;this.abort();this.fireEvent("end");}}}},_isHTMLElement:function(el){return("tagName"in el);},_doTask:function(){var htTaskToDo=this._htTaskToDo,nRatio=parseFloat(htTaskToDo.nRatio.toFixed(5),1),nStep=htTaskToDo.nStep,nTotalStep=htTaskToDo.nTotalStep,aList=htTaskToDo.aList,htCorrection={};var bCorrection=this.option("bCorrection");for(var i=0,nLength=aList.length;i<nLength;i++){var elTarget=aList[i].elTarget;for(var j=0,aValue=aList[i].aValue,nJLen=aValue.length;j<nJLen;j++){var sType=aValue[j][0],sKey=aValue[j][1],sValue=aValue[j][2](nRatio);if(this._isHTMLElement(elTarget)){var welTarget=jindo.$Element(elTarget);if(bCorrection){var sUnit=/^[0-9]*([^0-9]*)$/.test(sValue)&&RegExp.$1||"";if(sUnit){var nValue=parseFloat(sValue);var nFloor;nValue+=htCorrection[sKey]||0;nValue=parseFloat(nValue.toFixed(5));if(i==nLength-1){sValue=Math.round(nValue)+sUnit;}else{nFloor=parseFloat(/(\.[0-9]+)$/.test(nValue)&&RegExp.$1||0);sValue=parseInt(nValue,10)+sUnit;htCorrection[sKey]=nFloor;}}}
switch(sType){case"style":welTarget.css(sKey,sValue);break;case"attr":welTarget.$value()[sKey]=sValue;break;}}else{elTarget.setter(sKey,sValue);}
if(this._bIsPlaying){this.fireEvent("playing",{element:elTarget,sKey:sKey,sValue:sValue,nStep:nStep,nTotalStep:nTotalStep});}}}
htTaskToDo.nRatio=Math.min(htTaskToDo.nRatio+htTaskToDo.nGap,1);htTaskToDo.nStep+=1;return nRatio!=1;}}).extend(jindo.Component);(function(){var b=jindo.$Element.prototype.css;jindo.$Element.prototype.css=function(k,v){if(k=="opacity"){return typeof v!="undefined"?this.opacity(parseFloat(v)):this.opacity();}else{return typeof v!="undefined"?b.call(this,k,v):b.call(this,k);}};})();jindo.Effect=function(fEffect){if(this instanceof arguments.callee){throw new Error("You can't create a instance of this");}
var rxNumber=/^(\-?[0-9\.]+)(%|px|pt|em)?$/;var rxRGB=/^rgb\(([0-9]+)\s?,\s?([0-9]+)\s?,\s?([0-9]+)\)$/i;var rxHex=/^#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;var rx3to6=/^#([0-9A-F])([0-9A-F])([0-9A-F])$/i;var getUnitAndValue=function(v){var nValue=v,sUnit;if(rxNumber.test(v)){nValue=parseFloat(v);sUnit=RegExp.$2;}else if(rxRGB.test(v)){nValue=[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10)];sUnit='color';}else if(rxHex.test(v=v.replace(rx3to6,'#$1$1$2$2$3$3'))){nValue=[parseInt(RegExp.$1,16),parseInt(RegExp.$2,16),parseInt(RegExp.$3,16)];sUnit='color';}
return{nValue:nValue,sUnit:sUnit};};return function(nStart,nEnd){var sUnit;if(arguments.length>1){nStart=getUnitAndValue(nStart);nEnd=getUnitAndValue(nEnd);sUnit=nEnd.sUnit;}else{nEnd=getUnitAndValue(nStart);nStart=null;sUnit=nEnd.sUnit;}
if(nStart&&nEnd&&nStart.sUnit!=nEnd.sUnit){throw new Error('unit error');}
nStart=nStart&&nStart.nValue;nEnd=nEnd&&nEnd.nValue;var fReturn=function(p){var nValue=fEffect(p);var getResult=function(s,d){return(d-s)*nValue+s+sUnit;};if(sUnit=='color'){var r=parseInt(getResult(nStart[0],nEnd[0]),10)<<16;r|=parseInt(getResult(nStart[1],nEnd[1]),10)<<8;r|=parseInt(getResult(nStart[2],nEnd[2]),10);r=r.toString(16).toUpperCase();for(var i=0;6-r.length;i++){r='0'+r;}
return'#'+r;}
return getResult(nStart,nEnd);};if(nStart===null){fReturn.setStart=function(s){s=getUnitAndValue(s);if(s.sUnit!=sUnit){throw new Error('unit eror');}
nStart=s.nValue;};}
return fReturn;};};jindo.Effect.linear=jindo.Effect(function(s){return s;});jindo.Effect.easeIn=jindo.Effect(function(s){return(1-Math.sqrt(1-(s*s)));});jindo.Effect.easeOut=jindo.Effect(function(s){return Math.sqrt((2-s)*s);});jindo.Effect.bounce=jindo.Effect(function(s){if(s<(1/2.75)){return(7.5625*s*s);}else if(s<(2/2.75)){return(7.5625*(s-=(1.5/2.75))*s+0.75);}else if(s<(2.5/2.75)){return(7.5625*(s-=(2.25/2.75))*s+0.9375);}else{return(7.5625*(s-=(2.625/2.75))*s+0.984375);}});jindo.Effect._cubicBezier=function(x1,y1,x2,y2){return function(s){var cx=3.0*x1,bx=3.0*(x2-x1)-cx,ax=1.0-cx-bx,cy=3.0*y1,by=3.0*(y2-y1)-cy,ay=1.0-cy-by;function sampleCurveX(s){return((ax*s+bx)*s+cx)*s;}
function sampleCurveY(s){return((ay*s+by)*s+cy)*s;}
function solveCurveX(x,epsilon){var t0=0.0,t1=1.0,t2=x,x2,d2;for(var i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(Math.abs(x2)<epsilon){return t2;}
d2=(3.0*ax*t2+2.0*bx)*t2+cx;if(Math.abs(d2)<1e-6){break;}
t2=t2-x2/d2;}
if(t2<t0){return t0;}
if(t2>t1){return t1;}
while(t0<t1){x2=sampleCurveX(t2);if(Math.abs(x2-x)<epsilon){return t2;}
if(x>x2){t0=t2;}else{t1=t2;}
t2=(t1-t0)*0.5+t0;}
return t2;}
return sampleCurveY(solveCurveX(s,(1/1000)));};};jindo.Effect.cubicBezier=function(x1,y1,x2,y2){return jindo.Effect(jindo.Effect._cubicBezier(x1,y1,x2,y2));};jindo.Effect.overphase=jindo.Effect.cubicBezier(0.25,0.75,0.8,1.3);jindo.Effect.easeInOut=jindo.Effect.cubicBezier(0.75,0.0,0.25,1.0);jindo.Effect.easeOutIn=jindo.Effect.cubicBezier(0.25,0.75,0.75,0.25);jindo.Effect.cubicEase=jindo.Effect.cubicBezier(0.25,0.1,0.25,1);jindo.Effect.cubicEaseIn=jindo.Effect.cubicBezier(0.42,0,1,1);jindo.Effect.cubicEaseOut=jindo.Effect.cubicBezier(0,0,0.58,1);jindo.Effect.cubicEaseInOut=jindo.Effect.cubicBezier(0.42,0,0.58,1);jindo.Effect.cubicEaseOutIn=jindo.Effect.cubicBezier(0,0.42,1,0.58);jindo.Effect.pulse=function(nPulse){return jindo.Effect(function(s){return(-Math.cos((s*(nPulse-0.5)*2)*Math.PI)/2)+0.5;});};jindo.FileUploader=jindo.$Class({_bIsActivating:false,_aHiddenInput:[],$init:function(elFileSelect,htOption){var htDefaultOption={sUrl:'',sCallback:'',htData:{},sFiletype:'*',sMsgNotAllowedExt:'업로드가 허용되지 않는 파일형식입니다',bAutoUpload:false,bActivateOnload:true};this.option(htDefaultOption);this.option(htOption||{});this._el=jindo.$(elFileSelect);this._wel=jindo.$Element(this._el);this._assignHTMLElements();this._aHiddenInput=[];this.constructor._oCallback={};this._wfChange=jindo.$Fn(this._onFileSelectChange,this);if(this.option("bActivateOnload")){this.activate();}},_assignHTMLElements:function(){this._elForm=this._el.form;var sIframeName='tmpFrame_'+this._makeUniqueId();this._elIframe=jindo.$('<iframe name="'+sIframeName+'" src="'+this.option("sCallback")+'?blank">');var welIframe=jindo.$Element(this._elIframe);welIframe.css({position:'absolute',width:'1px',height:'1px',left:'-100px',top:'-100px'});document.body.appendChild(this._elIframe);},getBaseElement:function(){return this.getFileSelect();},getFileSelect:function(){return this._el;},getFormElement:function(){return this._elForm;},upload:function(){var elForm=this.getFormElement();var welForm=jindo.$Element(elForm);var sIframeName=this._elIframe.name;var sFunctionName=sIframeName+'_func';var sAction=this.option("sUrl");welForm.attr({target:sIframeName,action:sAction});this._aHiddenInput.push(this._createElement('input',{'type':'hidden','name':'callback','value':this.option("sCallback")}));this._aHiddenInput.push(this._createElement('input',{'type':'hidden','name':'callback_func','value':sFunctionName}));for(var k in this.option("htData")){this._aHiddenInput.push(this._createElement('input',{'type':'hidden','name':k,'value':this.option("htData")[k]}));}
for(var i=0;i<this._aHiddenInput.length;i++){elForm.appendChild(this._aHiddenInput[i]);}
this.constructor._oCallback[sFunctionName+'_success']=jindo.$Fn(function(oParameter){this.fireEvent("success",{htResult:oParameter});delete this.constructor._oCallback[oParameter.callback_func+'_success'];delete this.constructor._oCallback[oParameter.callback_func+'_error'];for(var i=0;i<this._aHiddenInput.length;i++){jindo.$Element(this._aHiddenInput[i]).leave();}
this._aHiddenInput.length=0;},this).bind();this.constructor._oCallback[sFunctionName+'_error']=jindo.$Fn(function(oParameter){this.fireEvent("error",{htResult:oParameter});delete this.constructor._oCallback[oParameter.callback_func+'_success'];delete this.constructor._oCallback[oParameter.callback_func+'_error'];for(var i=0;i<this._aHiddenInput.length;i++){jindo.$Element(this._aHiddenInput[i]).leave();}
this._aHiddenInput.length=0;},this).bind();elForm.submit();},_onActivate:function(){this._wfChange.attach(this.getFileSelect(),"change");},_onDeactivate:function(){this._wfChange.detach(this.getFileSelect(),"change");},_makeUniqueId:function(){return new Date().getMilliseconds()+Math.floor(Math.random()*100000);},_createElement:function(name,attributes){var el=jindo.$("<"+name+">");var wel=jindo.$Element(el);for(var k in attributes){wel.attr(k,attributes[k]);}
return el;},_checkExtension:function(sFile){var aType=this.option("sFiletype").split(';');for(var i=0;i<aType.length;i++){sType=(aType[i]=="*.*")?"*":aType[i];sType=sType.replace(/^\s+|\s+$/,'');sType=sType.replace(/\./g,'\\.');sType=sType.replace(/\*/g,'[^\\\/]+');if((new RegExp(sType+'$','gi')).test(sFile)){return true;}}
return false;},_onFileSelectChange:function(we){var sValue=we.element.value,bAllowed=this._checkExtension(sValue),htParam={sValue:sValue,bAllowed:bAllowed,sMsgNotAllowedExt:this.option("sMsgNotAllowedExt")};if(this.fireEvent("select",htParam)){if(bAllowed){if(this.option("bAutoUpload")){this.upload();}}else{alert(htParam.sMsgNotAllowedExt);}}}}).extend(jindo.UIComponent);jindo.MultipleAjaxRequest=jindo.$Class({_bIsRequesting:false,$init:function(htOption){var htDefaultOption={sMode:"parallel"};this.option(htDefaultOption);this.option(htOption);},isRequesting:function(){return this._bIsRequesting;},request:function(aAjax,htMetaData){if(this.isRequesting()){return false;}
if(!(aAjax instanceof Array)){aAjax=[aAjax];}
if(typeof htMetaData=="undefined"){htMetaData={};}
this._htMetaData=htMetaData;switch(this.option("sMode")){case"parallel":this._parallelRequest(aAjax);break;case"serial":this._serialRequest(aAjax);break;default:return false;}
return true;},_fireEventStart:function(){this._bIsRequesting=true;if(this.fireEvent("start",{aAjax:this._aAjax,htMetaData:this._htMetaData})){return true;}else{this.abort();return false;}},_fireEventBeforeEachRequest:function(nIndex){if(this.fireEvent("beforeEachRequest",{oAjax:this._aAjax[nIndex],nIndex:nIndex})){return true;}else{this.abort();return false;}},_fireEventAfterEachResponse:function(nIndex){if(this.fireEvent("afterEachResponse",{oAjax:this._aAjax[nIndex],nIndex:nIndex})){return true;}else{this.abort();return false;}},_parallelRequest:function(aAjax){this._aAjaxData=aAjax;this._aAjax=[];this._aStatus=[];this._aStatus.length=aAjax.length;this._aResponse=[];if(this._fireEventStart()){var self=this;jindo.$A(this._aAjaxData).forEach(function(htAjax,i){var fParallelResponseHandler=function(oResponse){oResponse._constructor=self._aAjax[i];var nIndex=self._findAjaxObjectIndexOfResponse(oResponse._constructor);self._aResponse[nIndex]=oResponse;self._aStatus[nIndex]=true;if(self._fireEventAfterEachResponse(nIndex)){if(self._hasCompletedGotResponsesOfParallelResponses()){self._complete();}}};self._aAjax.push(jindo.$Ajax(htAjax.sUrl,htAjax.htOption));htAjax.htOption.onload=fParallelResponseHandler;htAjax.htOption.onerror=fParallelResponseHandler;htAjax.htOption.ontimeout=fParallelResponseHandler;self._aAjax[i].option(htAjax.htOption);if(self._fireEventBeforeEachRequest(i)){self._aAjax[i].request(htAjax.htParameter);}else{jindo.$A.Break();}});}},_findAjaxObjectIndexOfResponse:function(oAjax){return jindo.$A(this._aAjax).indexOf(oAjax);},_hasCompletedGotResponsesOfParallelResponses:function(){var bResult=true;jindo.$A(this._aStatus).forEach(function(bStatus){if(!bStatus){bResult=false;jindo.$A.Break();}});return bResult;},_serialRequest:function(aAjax){this._aAjaxData=aAjax;this._aAjax=[];this._aStatus=[];this._aStatus.length=aAjax.length;this._aResponse=[];var self=this;jindo.$A(this._aAjaxData).forEach(function(htAjax,i){var fSerialRequestHandler=function(e){e._constructor=self._aAjax[i];self._aResponse.push(e);self._serialRequestNext();};self._aAjax.push(jindo.$Ajax(htAjax.sUrl,htAjax.htOption));htAjax.htOption.onload=fSerialRequestHandler;htAjax.htOption.onerror=fSerialRequestHandler;htAjax.htOption.ontimeout=fSerialRequestHandler;self._aAjax[i].option(htAjax.htOption);});if(this._fireEventStart()){if(this._fireEventBeforeEachRequest(0)){this._aAjax[0].request(this._aAjaxData[0].htParameter);this._aStatus[0]=true;}}},_serialRequestNext:function(){var nIndex=-1;for(var i=0;i<this._aStatus.length;i++){if(!this._aStatus[i]){this._aStatus[i]=true;nIndex=i;break;}}
if(nIndex>0){if(this._fireEventAfterEachResponse(nIndex-1)){if(this._fireEventBeforeEachRequest(nIndex)){this._aAjax[nIndex].request(this._aAjaxData[nIndex].htParameter);}}}else if(nIndex==-1){if(this._fireEventAfterEachResponse(this._aStatus.length-1)){this._complete();}}},_reset:function(){this._aAjaxData.length=0;this._aAjax.length=0;this._aStatus.length=0;this._aResponse.length=0;this._htMetaData=null;delete this._aAjaxData;delete this._aAjax;delete this._aStatus;delete this._aResponse;delete this._htMetaData;this._bIsRequesting=false;},abort:function(){jindo.$A(this._aAjax).forEach(function(oAjax){oAjax.abort();});this._reset();},_complete:function(){var aResponse=this._aResponse.concat(),htMetaData={},sProp;for(sProp in this._htMetaData){htMetaData[sProp]=this._htMetaData[sProp];}
this._reset();this.fireEvent("complete",{aResponse:aResponse,htMetaData:htMetaData});}}).extend(jindo.Component);jindo.RolloverClick=jindo.$Class({$init:function(el,htOption){this.option({bActivateOnload:true,sCheckEvent:"click",bCheckDblClick:false,RolloverArea:{sClassName:"rollover",sClassPrefix:"rollover-",bCheckMouseDown:false,bActivateOnload:false,htStatus:{sOver:"over",sDown:"down"}}});this.option(htOption||{});var self=this;this._oRolloverArea=new jindo.RolloverArea(el,this.option("RolloverArea")).attach({over:function(oCustomEvent){if(!self.fireEvent("over",oCustomEvent)){oCustomEvent.stop();}},out:function(oCustomEvent){if(!self.fireEvent("out",oCustomEvent)){oCustomEvent.stop();}}});this._wfClick=jindo.$Fn(this._onClick,this);this._wfDblClick=jindo.$Fn(this._onClick,this);if(this.option("bActivateOnload")){this.activate();}},_onClick:function(we){var elRollover=we.element,sType="click";if(we.type=="dblclick"){sType=we.type;}
while(elRollover=this._oRolloverArea._findRollover(elRollover)){this.fireEvent(sType,{element:elRollover,htStatus:this._oRolloverArea.option("htStatus"),weEvent:we});elRollover=elRollover.parentNode;}},_onActivate:function(){this._wfClick.attach(this._oRolloverArea._elArea,this.option("sCheckEvent"));if(this.option("bCheckDblClick")){this._wfDblClick.attach(this._oRolloverArea._elArea,'dblclick');}
this._oRolloverArea.activate();},_onDeactivate:function(){this._wfClick.detach(this._oRolloverArea._elArea,this.option("sCheckEvent"));this._wfDblClick.detach(this._oRolloverArea._elArea,'dblclick');this._oRolloverArea.deactivate();}}).extend(jindo.UIComponent);jindo.Pagination=jindo.$Class({$init:function(sId,htOption){this._elPageList=jindo.$(sId);this._welPageList=jindo.$Element(this._elPageList);this._waPage=jindo.$A([]);this._fClickPage=jindo.$Fn(this._onClickPageList,this);this.option({bActivateOnload:true,nItem:10,nItemPerPage:10,nPagePerPageList:10,nPage:1,sMoveUnit:"pagelist",bAlignCenter:false,sInsertTextNode:"",sClassFirst:"first-child",sClassLast:"last-child",sPageTemplate:"<a href='#'>{=page}</a>",sCurrentPageTemplate:"<strong>{=page}</strong>",elFirstPageLinkOn:jindo.$$.getSingle("a.pre_end",this._elPageList),elPrevPageLinkOn:jindo.$$.getSingle("a.pre",this._elPageList),elNextPageLinkOn:jindo.$$.getSingle("a.next",this._elPageList),elLastPageLinkOn:jindo.$$.getSingle("a.next_end",this._elPageList),elFirstPageLinkOff:jindo.$$.getSingle("span.pre_end",this._elPageList),elPrevPageLinkOff:jindo.$$.getSingle("span.pre",this._elPageList),elNextPageLinkOff:jindo.$$.getSingle("span.next",this._elPageList),elLastPageLinkOff:jindo.$$.getSingle("span.next_end",this._elPageList)});this.option(htOption||{});if(this.option("bActivateOnload")){this.activate();}},getBaseElement:function(){return this._elPageList;},getItemCount:function(){return this.option("nItem");},setItemCount:function(n){this.option({"nItem":n});},getItemPerPage:function(){return this.option("nItemPerPage");},setItemPerPage:function(n){this.option("nItemPerPage",n);},getCurrentPage:function(){return this._nCurrentPage;},getFirstItemOfPage:function(n){return this.getItemPerPage()*(n-1)+1;},getPageOfItem:function(n){return Math.ceil(n/this.getItemPerPage());},_getLastPage:function(){return Math.ceil(this.getItemCount()/this.getItemPerPage());},_getRelativePage:function(sRelative){var nPage=null;if(this.option("sMoveUnit")=="page"){switch(sRelative){case"pre":nPage=this.getCurrentPage()-1;break;case"next":nPage=this.getCurrentPage()+1;break;}}else{var nThisPageList=this._getPageList(this.getCurrentPage());switch(sRelative){case"pre_end":nPage=1;break;case"pre":var nLastPageOfPrePageList=(nThisPageList-1)*this.option("nPagePerPageList");nPage=nLastPageOfPrePageList;break;case"next":var nFirstPageOfNextPageList=(nThisPageList)*this.option("nPagePerPageList")+1;nPage=nFirstPageOfNextPageList;break;case"next_end":nPage=this._getLastPage();break;}}
return nPage;},_getPageList:function(nThisPage){if(this.option("bAlignCenter")){var nLeft=Math.floor(this.option("nPagePerPageList")/2);var nPageList=nThisPage-nLeft;nPageList=Math.max(nPageList,1);nPageList=Math.min(nPageList,this._getLastPage());return nPageList;}
return Math.ceil(nThisPage/this.option("nPagePerPageList"));},_isIn:function(el,elParent){if(!elParent){return false;}
return(el===elParent)?true:jindo.$Element(el).isChildOf(elParent);},_getPageElement:function(el){for(var i=0,nLength=this._waPage.$value().length;i<nLength;i++){var elPage=this._waPage.get(i);if(this._isIn(el,elPage)){return elPage;}}
return null;},_onClickPageList:function(we){we.stop(jindo.$Event.CANCEL_DEFAULT);var nPage=null,htOption=this.option(),el=we.element;if(this._isIn(el,htOption.elFirstPageLinkOn)){nPage=this._getRelativePage("pre_end");}else if(this._isIn(el,htOption.elPrevPageLinkOn)){nPage=this._getRelativePage("pre");}else if(this._isIn(el,htOption.elNextPageLinkOn)){nPage=this._getRelativePage("next");}else if(this._isIn(el,htOption.elLastPageLinkOn)){nPage=this._getRelativePage("next_end");}else{var elPage=this._getPageElement(el);if(elPage){nPage=parseInt(jindo.$Element(elPage).text(),10);}else{return;}}
this.movePageTo(nPage);},_convertToAvailPage:function(nPage){var nLastPage=this._getLastPage();nPage=Math.max(nPage,1);nPage=Math.min(nPage,nLastPage);return nPage;},movePageTo:function(nPage,bFireEvent){if(typeof bFireEvent=="undefined"){bFireEvent=true;}
nPage=this._convertToAvailPage(nPage);this._nCurrentPage=nPage;if(bFireEvent){if(!this.fireEvent("beforeMove",{nPage:nPage})){return;}}
this._paginate(nPage);if(bFireEvent){this.fireEvent("move",{nPage:nPage});}},reset:function(nItemCount){if(typeof nItemCount=="undefined"){nItemCount=this.option("nItem");}
this.setItemCount(nItemCount);this.movePageTo(1,false);},_onActivate:function(){this._fClickPage.attach(this._elPageList,"click");this.setItemCount(this.option("nItem"));this.movePageTo(this.option("nPage"),false);this._welPageList.addClass("loaded");},_onDeactivate:function(){this._fClickPage.detach(this._elPageList,"click");this._welPageList.removeClass("loaded");},_addTextNode:function(){var sTextNode=this.option("sInsertTextNode");this._elPageList.appendChild(document.createTextNode(sTextNode));},_paginate:function(nPage){this._empty();this._addTextNode();var htOption=this.option(),elFirstPageLinkOn=htOption.elFirstPageLinkOn,elPrevPageLinkOn=htOption.elPrevPageLinkOn,elNextPageLinkOn=htOption.elNextPageLinkOn,elLastPageLinkOn=htOption.elLastPageLinkOn,elFirstPageLinkOff=htOption.elFirstPageLinkOff,elPrevPageLinkOff=htOption.elPrevPageLinkOff,elNextPageLinkOff=htOption.elNextPageLinkOff,elLastPageLinkOff=htOption.elLastPageLinkOff,nLastPage=this._getLastPage(),nThisPageList=this._getPageList(nPage),nLastPageList=this._getPageList(nLastPage);if(nLastPage===0){this._welPageList.addClass("no-result");}else if(nLastPage==1){this._welPageList.addClass("only-one");}else{this._welPageList.removeClass("only-one").removeClass("no-result");}
var nFirstPageOfThisPageList,nLastPageOfThisPageList;if(htOption.bAlignCenter){var nLeft=Math.floor(htOption.nPagePerPageList/2);nFirstPageOfThisPageList=nPage-nLeft;nFirstPageOfThisPageList=Math.max(nFirstPageOfThisPageList,1);nLastPageOfThisPageList=nFirstPageOfThisPageList+htOption.nPagePerPageList-1;if(nLastPageOfThisPageList>nLastPage){nFirstPageOfThisPageList=nLastPage-htOption.nPagePerPageList+1;nFirstPageOfThisPageList=Math.max(nFirstPageOfThisPageList,1);nLastPageOfThisPageList=nLastPage;}}else{nFirstPageOfThisPageList=(nThisPageList-1)*htOption.nPagePerPageList+1;nLastPageOfThisPageList=(nThisPageList)*htOption.nPagePerPageList;nLastPageOfThisPageList=Math.min(nLastPageOfThisPageList,nLastPage);}
if(htOption.sMoveUnit=="page"){nThisPageList=nPage;nLastPageList=nLastPage;}
if(nPage>1){if(elFirstPageLinkOn){this._welPageList.append(elFirstPageLinkOn);this._addTextNode();}}else{if(elFirstPageLinkOff){this._welPageList.append(elFirstPageLinkOff);this._addTextNode();}}
if(nThisPageList>1){if(elPrevPageLinkOn){this._welPageList.append(elPrevPageLinkOn);this._addTextNode();}}else{if(elPrevPageLinkOff){this._welPageList.append(elPrevPageLinkOff);this._addTextNode();}}
var el,wel;for(var i=nFirstPageOfThisPageList;i<=nLastPageOfThisPageList;i++){if(i==nPage){el=jindo.$(jindo.$Template(htOption.sCurrentPageTemplate).process({page:i.toString()}));}else{el=jindo.$(jindo.$Template(htOption.sPageTemplate).process({page:i.toString()}));this._waPage.push(el);}
wel=jindo.$Element(el);if(i==nFirstPageOfThisPageList){wel.addClass(this.option("sClassFirst"));}
if(i==nLastPageOfThisPageList){wel.addClass(this.option("sClassLast"));}
this._welPageList.append(el);this._addTextNode();}
if(nThisPageList<nLastPageList){if(elNextPageLinkOn){this._welPageList.append(elNextPageLinkOn);this._addTextNode();}}else{if(elNextPageLinkOff){this._welPageList.append(elNextPageLinkOff);this._addTextNode();}}
if(nPage<nLastPage){if(elLastPageLinkOn){this._welPageList.append(elLastPageLinkOn);this._addTextNode();}}else{if(elLastPageLinkOff){this._welPageList.append(elLastPageLinkOff);this._addTextNode();}}},_empty:function(){var htOption=this.option(),elFirstPageLinkOn=htOption.elFirstPageLinkOn,elPrevPageLinkOn=htOption.elPrevPageLinkOn,elNextPageLinkOn=htOption.elNextPageLinkOn,elLastPageLinkOn=htOption.elLastPageLinkOn,elFirstPageLinkOff=htOption.elFirstPageLinkOff,elPrevPageLinkOff=htOption.elPrevPageLinkOff,elNextPageLinkOff=htOption.elNextPageLinkOff,elLastPageLinkOff=htOption.elLastPageLinkOff;elFirstPageLinkOn=this._clone(elFirstPageLinkOn);elPrevPageLinkOn=this._clone(elPrevPageLinkOn);elLastPageLinkOn=this._clone(elLastPageLinkOn);elNextPageLinkOn=this._clone(elNextPageLinkOn);elFirstPageLinkOff=this._clone(elFirstPageLinkOff);elPrevPageLinkOff=this._clone(elPrevPageLinkOff);elLastPageLinkOff=this._clone(elLastPageLinkOff);elNextPageLinkOff=this._clone(elNextPageLinkOff);this._waPage.empty();this._welPageList.empty();},_clone:function(el){if(el&&typeof el.cloneNode=="function"){return el.cloneNode(true);}
return el;}}).extend(jindo.UIComponent);jindo.DatePicker=jindo.$Class({_aDatePickerSet:[],_htSelectedDatePickerSet:null,$init:function(elCalendarLayer,htOption){var oDate=new Date();this.htDefaultOption={bUseLayerPosition:true,Calendar:{sClassPrefix:"calendar-",nYear:oDate.getFullYear(),nMonth:oDate.getMonth()+1,nDate:oDate.getDate(),sTitleFormat:"yyyy-mm",aMonthTitle:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},LayerManager:{sCheckEvent:"click",nShowDelay:0,nHideDelay:0},LayerPosition:{sPosition:"outside-bottom",sAlign:"left",nTop:0,nLeft:0,bAuto:false}};this.option(this.htDefaultOption);this.option(htOption);this._elCalendarLayer=jindo.$(elCalendarLayer);this._initCalendar();this._initLayerManager();this._initLayerPosition();this._wfFocusInput=jindo.$Fn(this._onFocusInput,this);this._wfClickLinkedElement=jindo.$Fn(this._onClickLinkedElement,this);this._wfMouseOverOutDate=jindo.$Fn(this._onMouseOverOutDate,this);this._wfClickDate=jindo.$Fn(this._onClickDate,this);this.activate();},addDatePickerSet:function(ht){var htOption=this.option(),htCalendarOption=this.getCalendar().option(),htDefaultOption={nYear:htCalendarOption.nYear,nMonth:htCalendarOption.nMonth,nDate:htCalendarOption.nDate,bDefaultSet:true,bReadOnly:true,sDateFormat:"yyyy-mm-dd",htSelectableDateFrom:{nYear:1900,nMonth:1,nDate:1},htSelectableDateTo:{nYear:2100,nMonth:12,nDate:31}};if(typeof ht.htOption!="undefined"){for(var value in ht.htOption){if(typeof htDefaultOption[value]!="undefined"){htDefaultOption[value]=ht.htOption[value];}}}
ht.htOption=htDefaultOption;this._aDatePickerSet.push(ht);var oLayerManager=this.getLayerManager();if(typeof ht.elInput!="undefined"){oLayerManager.link(ht.elInput);if(ht.htOption.bReadOnly){ht.elInput.readOnly=true;}
this._wfFocusInput.attach(ht.elInput,"focus");this._wfClickLinkedElement.attach(ht.elInput,"click");}
if(typeof ht.elButton!="undefined"){oLayerManager.link(ht.elButton);this._wfClickLinkedElement.attach(ht.elButton,"click");}
if(ht.htOption.bDefaultSet){this._setDate(ht,ht.htOption);}
return this;},removeDatePickerSet:function(ht){var nIndex=-1;for(var i=0,len=this._aDatePickerSet.length;i<len;i++){if(this._aDatePickerSet[i].elInput==ht.elInput||this._aDatePickerSet[i].elButton==ht.elButton){nIndex=i;break;}}
var htDatePickerSet=this._aDatePickerSet[nIndex];var oLayerManager=this.getLayerManager();if(typeof htDatePickerSet.elButton!="undefined"){oLayerManager.unlink(htDatePickerSet.elButton);this._wfClickLinkedElement.detach(htDatePickerSet.elButton,"click");}
if(typeof htDatePickerSet.elInput!="undefined"){this._wfFocusInput.detach(htDatePickerSet.elInput,"focus");this._wfClickLinkedElement.detach(htDatePickerSet.elInput,"click");htDatePickerSet.elInput.readOnly=false;}
if(htDatePickerSet==this._htSelectedDatePickerSet){this._htSelectedDatePickerSet=null;}
this._aDatePickerSet.splice(i,1);return this;},getDatePickerSet:function(el){if(typeof el=="undefined"){return this._aDatePickerSet;}
for(var i=0,len=this._aDatePickerSet.length;i<len;i++){if(this._aDatePickerSet[i].elInput==el||this._aDatePickerSet[i].elButton==el){return this._aDatePickerSet[i];}}
return false;},getCalendarLayer:function(){return this._elCalendarLayer;},_initCalendar:function(){var self=this;this._oCalendar=new jindo.Calendar(this.getCalendarLayer(),this.option("Calendar")).attach({beforeDraw:function(oCustomEvent){if(!self.fireEvent("beforeDraw",oCustomEvent)){oCustomEvent.stop();}},draw:function(oCustomEvent){var sClassPrefix=this.option("sClassPrefix");var oShowDatePickerSet=self._htSelectedDatePickerSet;if(self.isSelectable(oShowDatePickerSet,oCustomEvent)){oCustomEvent.bSelectable=true;if(jindo.Calendar.isSameDate(oCustomEvent,oShowDatePickerSet)){jindo.$Element(oCustomEvent.elDateContainer).addClass(sClassPrefix+"selected");}}else{oCustomEvent.bSelectable=false;jindo.$Element(oCustomEvent.elDateContainer).addClass(this.option("sClassPrefix")+"unselectable");}
if(!self.fireEvent("draw",oCustomEvent)){oCustomEvent.stop();}},afterDraw:function(oCustomEvent){self.fireEvent("afterDraw",oCustomEvent);}});},getCalendar:function(){return this._oCalendar;},_initLayerManager:function(){var self=this;var elCalendarLayer=this.getCalendarLayer();this._oLayerManager=new jindo.LayerManager(elCalendarLayer,this.option("LayerManager")).attach({hide:function(oCustomEvent){self._htSelectedDatePickerSet=null;}}).link(elCalendarLayer);},getLayerManager:function(){return this._oLayerManager;},_initLayerPosition:function(){if(this.option("bUseLayerPosition")){this._oLayerPosition=new jindo.LayerPosition(null,this.getCalendarLayer(),this.option("LayerPosition"));}},getLayerPosition:function(){return this._oLayerPosition;},getInput:function(htDatePickerSet){return htDatePickerSet.elInput||null;},setInput:function(htDatePickerSet,htDate){this._setDate(htDatePickerSet,htDate);},getDate:function(htDatePickerSet){return{nYear:htDatePickerSet.nYear,nMonth:htDatePickerSet.nMonth,nDate:htDatePickerSet.nDate};},_setDate:function(htDatePickerSet,htDate){htDatePickerSet.nYear=htDate.nYear*1;htDatePickerSet.nMonth=htDate.nMonth*1;htDatePickerSet.nDate=htDate.nDate*1;if(typeof htDatePickerSet.elInput!="undefined"){htDatePickerSet.elInput.value=this._getDateFormat(htDatePickerSet,htDate);}},isSelectable:function(htDatePickerSet,htDate){return jindo.Calendar.isBetween(htDate,htDatePickerSet.htOption["htSelectableDateFrom"],htDatePickerSet.htOption["htSelectableDateTo"]);},setDate:function(htDatePickerSet,htDate){if(this.isSelectable(htDatePickerSet,htDate)){var sDateFormat=this._getDateFormat(htDatePickerSet,htDate);var htParam={"sText":sDateFormat,"nYear":htDate.nYear,"nMonth":htDate.nMonth,"nDate":htDate.nDate};if(this.fireEvent("beforeSelect",htParam)){this._setDate(htDatePickerSet,htDate);if(this.fireEvent("select",htParam)){this.getLayerManager().hide();}}
return true;}
return false;},_getDateFormat:function(htDatePickerSet,htDate){var nYear=htDate.nYear;var nMonth=htDate.nMonth;var nDate=htDate.nDate;if(nMonth<10){nMonth=("0"+(nMonth*1)).toString();}
if(nDate<10){nDate=("0"+(nDate*1)).toString();}
var sDateFormat=htDatePickerSet.htOption.sDateFormat;sDateFormat=sDateFormat.replace(/yyyy/g,nYear).replace(/y/g,(nYear).toString().substr(2,2)).replace(/mm/g,nMonth).replace(/m/g,(nMonth*1)).replace(/M/g,this.getCalendar().option("aMonthTitle")[nMonth-1]).replace(/dd/g,nDate).replace(/d/g,(nDate*1));return sDateFormat;},_linkOnly:function(htDatePickerSet){var oLayerManager=this.getLayerManager();oLayerManager.setLinks([this.getCalendarLayer()]);if(typeof htDatePickerSet.elInput!="undefined"){oLayerManager.link(htDatePickerSet.elInput);}
if(typeof htDatePickerSet.elButton!="undefined"){oLayerManager.link(htDatePickerSet.elButton);}},_onActivate:function(){var elCalendarLayer=this.getCalendarLayer();this._wfMouseOverOutDate.attach(elCalendarLayer,"mouseover").attach(elCalendarLayer,"mouseout");this._wfClickDate.attach(elCalendarLayer,"click");this.getLayerManager().activate();this.getCalendar().activate();},_onDeactivate:function(){var elCalendarLayer=this.getCalendarLayer();this._wfMouseOverOutDate.detach(elCalendarLayer,"mouseover").detach(elCalendarLayer,"mouseout");this._wfClickDate.detach(elCalendarLayer,"click").detach(elCalendarLayer,"mouseover").detach(elCalendarLayer,"mouseout");this.getLayerManager().deactivate();this.getCalendar().deactivate();},attachEvent:function(){return this.activate();},detachEvent:function(){return this.deactivate();},addButton:function(){return this;},_onFocusInput:function(we){this.fireEvent("focus");},_onClickLinkedElement:function(we){we.stop(jindo.$Event.CANCEL_DEFAULT);if(this.fireEvent("click",{element:we.element})){var htDatePickerSet=this.getDatePickerSet(we.currentElement);if(htDatePickerSet){this._htSelectedDatePickerSet=htDatePickerSet;this._linkOnly(htDatePickerSet);if(!htDatePickerSet.nYear){htDatePickerSet.nYear=htDatePickerSet.htOption.nYear;}
if(!htDatePickerSet.nMonth){htDatePickerSet.nMonth=htDatePickerSet.htOption.nMonth;}
if(!htDatePickerSet.nDate){htDatePickerSet.nDate=htDatePickerSet.htOption.nDate;}
var nYear=htDatePickerSet.nYear;var nMonth=htDatePickerSet.nMonth;this.getCalendar().draw(nYear,nMonth);this.getLayerManager().show();if(this.option("bUseLayerPosition")){if(typeof htDatePickerSet.elLayerPosition!="undefined"){this.getLayerPosition().setElement(htDatePickerSet.elLayerPosition).setPosition();}else{this.getLayerPosition().setElement(htDatePickerSet.elInput).setPosition();}}}}},_getTargetDateElement:function(el){var sClassPrefix=this.getCalendar().option("sClassPrefix");var elDate=(jindo.$Element(el).hasClass(sClassPrefix+"date"))?el:jindo.$$.getSingle("."+sClassPrefix+"date",el);if(elDate&&(elDate==el||elDate.length==1)){return elDate;}
return null;},_getTargetDateContainerElement:function(el){var sClassPrefix=this.getCalendar().option("sClassPrefix");var elWeek=jindo.$$.getSingle("! ."+sClassPrefix+"week",el);if(elWeek){var elReturn=el;while(!jindo.$Element(elReturn.parentNode).hasClass(sClassPrefix+"week")){elReturn=elReturn.parentNode;}
if(jindo.$Element(elReturn).hasClass(sClassPrefix+"unselectable")){return null;}
return elReturn;}else{return null;}},_onMouseOverOutDate:function(we){we.stop(jindo.$Event.CANCEL_DEFAULT);var sClassPrefix=this.getCalendar().option("sClassPrefix");var el=we.element;var elDateContainer=this._getTargetDateContainerElement(el);if(elDateContainer){var htDate=this.getCalendar().getDateOfElement(elDateContainer);if(this._htSelectedDatePickerSet&&this.isSelectable(this._htSelectedDatePickerSet,htDate)){if(we.type=="mouseover"){if(!this._elSelected){this._elSelected=jindo.$$.getSingle("."+sClassPrefix+"selected",this.elWeekAppendTarget);if(this._elSelected){jindo.$Element(this._elSelected).removeClass(sClassPrefix+"selected");}}
jindo.$Element(elDateContainer).addClass(sClassPrefix+"over");return;}
if(we.type=="mouseout"){jindo.$Element(elDateContainer).removeClass(sClassPrefix+"over");return;}}else{if(this._elSelected){jindo.$Element(this._elSelected).addClass(sClassPrefix+"selected");this._elSelected=null;}}}else{if(this._elSelected){jindo.$Element(this._elSelected).addClass(sClassPrefix+"selected");this._elSelected=null;}}},_onClickDate:function(we){we.stop(jindo.$Event.CANCEL_DEFAULT);var el=we.element;var elDate=this._getTargetDateElement(el);if(elDate){var elDateContainer=this._getTargetDateContainerElement(elDate);if(elDateContainer){var htDate=this.getCalendar().getDateOfElement(elDateContainer);if(this.isSelectable(this._htSelectedDatePickerSet,htDate)){this.setDate(this._htSelectedDatePickerSet,htDate);}}}}}).extend(jindo.UIComponent);jindo.StarRating=jindo.$Class({$init:function(el,htOption){var htDefaultOption={nStep:1,nMaxValue:10,nDefaultValue:0,bSnap:false,bActivateOnload:true};this.option(htDefaultOption);this.option(htOption||{});this._el=jindo.$(el);this._wel=jindo.$Element(el);this._assignHTMLElements();this._wfMouseMove=jindo.$Fn(this._onMouseMove,this);this._wfMouseLeave=jindo.$Fn(this._onMouseLeave,this);this._wfClick=jindo.$Fn(this._onClick,this);if(this.option("bActivateOnload")){this.activate();}},_assignHTMLElements:function(){this._elRatingElement=jindo.$$.getSingle("span",this.getBaseElement());this._welRatingElement=jindo.$Element(this._elRatingElement);},getBaseElement:function(){return this._el;},getRatingElement:function(){return this._elRatingElement;},getValue:function(){return this._nValue;},getValueByWidth:function(){return this._welRatingElement.width()/this._nBaseWidth*this.option("nMaxValue");},getValueToBeSet:function(nValue){nValue=this._round(nValue,this.option("nStep"));nValue=Math.min(nValue,this.option("nMaxValue"));nValue=Math.max(nValue,0);return nValue;},setValue:function(nValue,bFireEvent){if(typeof bFireEvent=="undefined"){bFireEvent=true;}
var nMaxValue=this.option("nMaxValue");nValue=this.getValueToBeSet(nValue);var nWidth=this._nBaseWidth*nValue/nMaxValue;nWidth=Math.min(nWidth,this._nBaseWidth);this._welRatingElement.width(nWidth);this._nValue=nValue;if(bFireEvent){this.fireEvent("set",{nValue:this._nValue});}
return this;},reset:function(){var nValue=this.option("nDefaultValue")||0;this.setValue(nValue,false);return this;},_round:function(nValue,nStep){var nResult=nValue,nFloor=Math.floor(nValue),nMaxCandidate=nFloor+1,nCompare=1,nTempCompare,nCandidate,nFixed;for(nCandidate=nFloor;nCandidate<=nMaxCandidate;nCandidate+=nStep){nTempCompare=Math.abs(nValue-nCandidate);if(nTempCompare<=nCompare){nCompare=nTempCompare;nResult=nCandidate;}}
return nResult.toFixed(Math.max((nStep.toString().length-2),0));},_onActivate:function(){var el=this.getBaseElement();this._wfMouseMove.attach(el,"mousemove");this._wfMouseLeave.attach(el,"mouseleave");this._wfClick.attach(el,"click");this._nBaseWidth=this._wel.width();this.reset();},_onDeactivate:function(){var el=this.getBaseElement();this._wfMouseMove.detach(el,"mousemove");this._wfMouseLeave.detach(el,"mouseleave");this._wfClick.detach(el,"click");},_onMouseMove:function(we){var nOffsetX=we.pos(true).offsetX+1,nWidth=(nOffsetX>this._nBaseWidth)?this._nBaseWidth:nOffsetX,nValue;if(this.option("bSnap")){nValue=nOffsetX/this._nBaseWidth*this.option("nMaxValue");nWidth=this._round(nValue,this.option("nStep"))*this._nBaseWidth/this.option("nMaxValue");nWidth=Math.min(nWidth,this._nBaseWidth);}
this._welRatingElement.css("width",nWidth+"px");nValue=this.getValueByWidth();this.fireEvent("move",{nValue:nValue,nValueToBeSet:this.getValueToBeSet(nValue)});},_onMouseLeave:function(we){this.setValue(this._nValue,false);this.fireEvent("out");},_onClick:function(we){this.setValue(this.getValueByWidth());}}).extend(jindo.UIComponent);jindo.DragArea=jindo.$Class({$init:function(el,htOption){this.option({sClassName:'draggable',bFlowOut:true,bSetCapture:true,nThreshold:0});this.option(htOption||{});this._el=el;this._bIE=jindo.$Agent().navigator().ie;this._htDragInfo={"bIsDragging":false,"bPrepared":false,"bHandleDown":false,"bForceDrag":false};this._wfOnMouseDown=jindo.$Fn(this._onMouseDown,this);this._wfOnMouseMove=jindo.$Fn(this._onMouseMove,this);this._wfOnMouseUp=jindo.$Fn(this._onMouseUp,this);this._wfOnDragStart=jindo.$Fn(this._onDragStart,this);this._wfOnSelectStart=jindo.$Fn(this._onSelectStart,this);this.activate();},_findDraggableElement:function(el){if(el.nodeType===1&&jindo.$$.test(el,"input[type=text], textarea, select")){return null;}
var self=this;var sClass='.'+this.option('sClassName');var isChildOfDragArea=function(el){if(el===null){return false;}
if(self._el===document||self._el===el){return true;}
return jindo.$Element(self._el).isParentOf(el);};var elReturn=jindo.$$.test(el,sClass)?el:jindo.$$.getSingle('! '+sClass,el);if(!isChildOfDragArea(elReturn)){elReturn=null;}
return elReturn;},isDragging:function(){var htDragInfo=this._htDragInfo;return htDragInfo.bIsDragging&&!htDragInfo.bPrepared;},stopDragging:function(){this._stopDragging(true);return this;},_stopDragging:function(bInterupted){this._wfOnMouseMove.detach(document,'mousemove');this._wfOnMouseUp.detach(document,'mouseup');if(this.isDragging()){var htDragInfo=this._htDragInfo,welDrag=jindo.$Element(htDragInfo.elDrag);htDragInfo.bIsDragging=false;htDragInfo.bForceDrag=false;htDragInfo.bPrepared=false;if(this._bIE&&this._elSetCapture){this._elSetCapture.releaseCapture();this._elSetCapture=null;}
this.fireEvent('dragEnd',{"elArea":this._el,"elHandle":htDragInfo.elHandle,"elDrag":htDragInfo.elDrag,"nX":parseInt(welDrag.css("left"),10)||0,"nY":parseInt(welDrag.css("top"),10)||0,"bInterupted":bInterupted});}},_onActivate:function(){this._wfOnMouseDown.attach(this._el,'mousedown');this._wfOnDragStart.attach(this._el,'dragstart');this._wfOnSelectStart.attach(this._el,'selectstart');},_onDeactivate:function(){this._wfOnMouseDown.detach(this._el,'mousedown');this._wfOnDragStart.detach(this._el,'dragstart');this._wfOnSelectStart.detach(this._el,'selectstart');},attachEvent:function(){this.activate();},detachEvent:function(){this.deactivate();},isEventAttached:function(){return this.isActivating();},startDragging:function(el){var elDrag=this._findDraggableElement(el);if(elDrag){this._htDragInfo.bForceDrag=true;this._htDragInfo.bPrepared=true;this._htDragInfo.elHandle=elDrag;this._htDragInfo.elDrag=elDrag;this._wfOnMouseMove.attach(document,'mousemove');this._wfOnMouseUp.attach(document,'mouseup');return true;}
return false;},_onMouseDown:function(we){var mouse=we.mouse(true);if(!mouse.left||mouse.right||mouse.scrollbar){this._stopDragging(true);return;}
var el=this._findDraggableElement(we.element);if(el){var oPos=we.pos(),htDragInfo=this._htDragInfo;htDragInfo.bHandleDown=true;htDragInfo.bPrepared=true;htDragInfo.nButton=we._event.button;htDragInfo.elHandle=el;htDragInfo.elDrag=el;htDragInfo.nPageX=oPos.pageX;htDragInfo.nPageY=oPos.pageY;if(this.fireEvent('handleDown',{elHandle:el,elDrag:el,weEvent:we})){this._wfOnMouseMove.attach(document,'mousemove');}
this._wfOnMouseUp.attach(document,'mouseup');we.stop(jindo.$Event.CANCEL_DEFAULT);}},_onMouseMove:function(we){var htDragInfo=this._htDragInfo,htParam,htRect,oPos=we.pos(),htGap={"nX":oPos.pageX-htDragInfo.nPageX,"nY":oPos.pageY-htDragInfo.nPageY};if(htDragInfo.bPrepared){var nThreshold=this.option('nThreshold'),htDiff={};if(!htDragInfo.bForceDrag&&nThreshold){htDiff.nPageX=oPos.pageX-htDragInfo.nPageX;htDiff.nPageY=oPos.pageY-htDragInfo.nPageY;var nDistance=Math.sqrt(htDiff.nPageX*htDiff.nPageX+htDiff.nPageY*htDiff.nPageY);if(nThreshold>nDistance){return;}}
if(this._bIE&&this.option("bSetCapture")){this._elSetCapture=(this._el===document)?document.body:this._findDraggableElement(we.element);if(this._elSetCapture){this._elSetCapture.setCapture(false);}}
htParam={elArea:this._el,elHandle:htDragInfo.elHandle,elDrag:htDragInfo.elDrag,htDiff:htDiff,weEvent:we};htDragInfo.bIsDragging=true;htDragInfo.bPrepared=false;if(this.fireEvent('dragStart',htParam)){var welDrag=jindo.$Element(htParam.elDrag),htOffset=welDrag.offset();htDragInfo.elHandle=htParam.elHandle;htDragInfo.elDrag=htParam.elDrag;htDragInfo.nX=parseInt(welDrag.css('left'),10)||0;htDragInfo.nY=parseInt(welDrag.css('top'),10)||0;htDragInfo.nClientX=htOffset.left+welDrag.width()/2;htDragInfo.nClientY=htOffset.top+welDrag.height()/2;}else{htDragInfo.bPrepared=true;return;}}
if(htDragInfo.bForceDrag){htGap.nX=oPos.clientX-htDragInfo.nClientX;htGap.nY=oPos.clientY-htDragInfo.nClientY;}
htParam={"elArea":this._el,"elFlowOut":htDragInfo.elDrag.parentNode,"elHandle":htDragInfo.elHandle,"elDrag":htDragInfo.elDrag,"weEvent":we,"nX":htDragInfo.nX+htGap.nX,"nY":htDragInfo.nY+htGap.nY,"nGapX":htGap.nX,"nGapY":htGap.nY};if(this.fireEvent('beforeDrag',htParam)){var elDrag=htDragInfo.elDrag;if(this.option('bFlowOut')===false){var elParent=htParam.elFlowOut,aSize=[elDrag.offsetWidth,elDrag.offsetHeight],nScrollLeft=0,nScrollTop=0;if(elParent==document.body){elParent=null;}
if(elParent&&aSize[0]<=elParent.scrollWidth&&aSize[1]<=elParent.scrollHeight){htRect={nWidth:elParent.clientWidth,nHeight:elParent.clientHeight};nScrollLeft=elParent.scrollLeft;nScrollTop=elParent.scrollTop;}else{var htClientSize=jindo.$Document().clientSize();htRect={nWidth:htClientSize.width,nHeight:htClientSize.height};}
if(htParam.nX!==null){htParam.nX=Math.max(htParam.nX,nScrollLeft);htParam.nX=Math.min(htParam.nX,htRect.nWidth-aSize[0]+nScrollLeft);}
if(htParam.nY!==null){htParam.nY=Math.max(htParam.nY,nScrollTop);htParam.nY=Math.min(htParam.nY,htRect.nHeight-aSize[1]+nScrollTop);}}
if(htParam.nX!==null){elDrag.style.left=htParam.nX+'px';}
if(htParam.nY!==null){elDrag.style.top=htParam.nY+'px';}
this.fireEvent('drag',htParam);}else{htDragInfo.bIsDragging=false;}},_onMouseUp:function(we){this._stopDragging(false);var htDragInfo=this._htDragInfo;htDragInfo.bHandleDown=false;this.fireEvent("handleUp",{weEvent:we,elHandle:htDragInfo.elHandle,elDrag:htDragInfo.elDrag});},_onDragStart:function(we){if(this._findDraggableElement(we.element)){we.stop(jindo.$Event.CANCEL_DEFAULT);}},_onSelectStart:function(we){if(this.isDragging()||this._findDraggableElement(we.element)){we.stop(jindo.$Event.CANCEL_DEFAULT);}}}).extend(jindo.UIComponent);
jindo.DefaultTextValue=jindo.$Class({$init:function(el,htOption){this.option({sValue:"",bActivateOnload:true});this.option(htOption||{});this._elBaseTarget=jindo.$(el);this._wfOnFocusAndBlur=jindo.$Fn(this._onFocusAndBlur,this);if(this.option("bActivateOnload")){this.activate();}},getBaseElement:function(){return this._elBaseTarget;},setDefault:function(){this.getBaseElement().value=this.option("sValue");return this;},setDefaultValue:function(sValue){var sOldValue=this.option("sValue");this.option("sValue",sValue);if(this.getBaseElement().value==sOldValue){this.setDefault();}
return this;},getDefaultValue:function(){return this.option("sValue");},paint:function(){return this;},_onActivate:function(){var elInput=this.getBaseElement();if(elInput.value==""){this.setDefault();}
this._wfOnFocusAndBlur.attach(elInput,"focus").attach(elInput,"blur");},_onDeactivate:function(){var elInput=this.getBaseElement();this._wfOnFocusAndBlur.detach(elInput,"focus").detach(elInput,"blur");},_onFocusAndBlur:function(we){var el=this._elBaseTarget;var sValue=el.value;switch(we.type){case"focus":if(sValue==this.getDefaultValue()){el.value="";el.select();}
break;case"blur":if(jindo.$S(sValue).trim().$value()==""){this.setDefault();}
break;}}}).extend(jindo.UIComponent);jindo.NumericStepper=jindo.$Class({_bIsOnFocus:false,$init:function(el,htOption){this._el=jindo.$(el);this.option({sClassPrefix:'ns-',bActivateOnload:true,bUseMouseWheel:false,nStep:1,nDecimalPoint:0,nMin:-Infinity,nMax:Infinity,nDefaultValue:0,bInputReadOnly:true});this.option(htOption||{});this._assignHTMLElements();this._initEventHandlers();if(this.option("bActivateOnload")){this.activate();}},_assignHTMLElements:function(){var sPrefix=this.option("sClassPrefix");this._elInput=jindo.$$.getSingle("."+sPrefix+"input",this._el);this._elPlusButton=jindo.$$.getSingle("."+sPrefix+"plus",this._el);this._elMinusButton=jindo.$$.getSingle("."+sPrefix+"minus",this._el);},_initEventHandlers:function(){this._wfPlusClick=jindo.$Fn(this._onPlusClick,this);this._wfMinusClick=jindo.$Fn(this._onMinusClick,this);this._wfWheel=jindo.$Fn(this._onWheel,this);this._wfFocus=jindo.$Fn(this._onFocus,this);this._wfBlur=jindo.$Fn(this._onBlur,this);},reset:function(){this._elInput.value=this.option("nDefaultValue").toFixed(this.option("nDecimalPoint"));},getValue:function(){return parseFloat(this._elInput.value);},setValue:function(n){n=n.toFixed(this.option("nDecimalPoint"));var nMin=this.option("nMin"),nMax=this.option("nMax"),htParam={"nValue":n,"nMin":nMin,"nMax":nMax};if(n>nMax||n<nMin){this.fireEvent("overLimit",htParam);return;}
if(!this.fireEvent("beforeChange",htParam)){return;}
this._elInput.value=htParam.nValue;this.fireEvent("change",htParam);},getBaseElement:function(){return this._el;},getInputElement:function(){return this._elInput;},getPlusElement:function(){return this._elPlusButton;},getMinusElement:function(){return this._elMinusButton;},isFocused:function(){return this._bIsOnFocus;},_onActivate:function(){var elInput=this.getInputElement();this._wfPlusClick.attach(this.getPlusElement(),"click");this._wfMinusClick.attach(this.getMinusElement(),"click");this._wfFocus.attach(elInput,"focus");this._wfBlur.attach(elInput,"blur");if(this.option("bUseMouseWheel")){this._wfWheel.attach(elInput,"mousewheel");}
this._elInput.readOnly=this.option("bInputReadOnly");this.reset();},_onDeactivate:function(){var elInput=this.getInputElement();this._wfPlusClick.detach(this.getPlusElement(),"click");this._wfMinusClick.detach(this.getMinusElement(),"click");this._wfInputClick.detach(elInput,"click");this._wfFocus.detach(elInput,"focus");this._wfBlur.detach(elInput,"blur");this._wfWheel.detach(elInput,"mousewheel");},_onMinusClick:function(we){this.setValue(this.getValue()-this.option("nStep"));},_onPlusClick:function(we){this.setValue(this.getValue()+this.option("nStep"));},_onWheel:function(we){if(this.isFocused()){we.stop(jindo.$Event.CANCEL_DEFAULT);if(we.mouse().delta>0){this._onPlusClick();}else{this._onMinusClick();}}},_onFocus:function(we){this._bIsOnFocus=true;},_onBlur:function(we){this._bIsOnFocus=false;this.setValue(this.getValue());this._elInput.readOnly=this.option("bInputReadOnly");}}).extend(jindo.UIComponent);jindo.LazyLoading={_bIE:jindo.$Agent().navigator().ie,_waLoading:jindo.$A([]),_waLoaded:jindo.$A([]),_whtScript:jindo.$H({}),_whtCallback:jindo.$H({})};jindo.LazyLoading.load=function(sUrl,fCallback,sCharset){if(typeof fCallback!="function"){fCallback=function(){};}
this._queueCallback(sUrl,fCallback);if(this._checkIsLoading(sUrl)){return false;}
if(this._checkAlreadyLoaded(sUrl)){this._doCallback(sUrl);return true;}
this._waLoading.push(sUrl);var self=this;var elHead=document.getElementsByTagName("head")[0];var elScript=document.createElement("script");elScript.type="text/javascript";elScript.charset=sCharset||"utf-8";elScript.src=sUrl;this._whtScript.add(sUrl,elScript);if(this._bIE){elScript.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){self._waLoaded.push(sUrl);self._waLoading=self._waLoading.refuse(sUrl);self._doCallback(sUrl);this.onreadystatechange=null;}};}else{elScript.onload=function(){self._waLoaded.push(sUrl);self._waLoading=self._waLoading.refuse(sUrl);self._doCallback(sUrl);};}
elHead.appendChild(elScript);return true;};jindo.LazyLoading._queueCallback=function(sUrl,fCallback){var aCallback=this._whtCallback.$(sUrl);if(aCallback){aCallback.push(fCallback);}else{this._whtCallback.$(sUrl,[fCallback]);}};jindo.LazyLoading._doCallback=function(sUrl){var aCallback=this._whtCallback.$(sUrl).concat();for(var i=0;i<aCallback.length;i++){this._whtCallback.$(sUrl).splice(i,1);aCallback[i]();}};jindo.LazyLoading.abort=function(sUrl){if(this._checkIsLoading(sUrl)){var elScript=this.getScriptElement(sUrl);this._waLoading=this._waLoading.refuse(sUrl);if(this._bIE){elScript.onreadystatechange=null;}else{elScript.onload=null;}
jindo.$Element(elScript).leave();this._whtScript.remove(sUrl);this._whtCallback.remove(sUrl);return true;}else{return false;}};jindo.LazyLoading._checkAlreadyLoaded=function(sUrl){return this._waLoaded.has(sUrl);};jindo.LazyLoading._checkIsLoading=function(sUrl){return this._waLoading.has(sUrl);};jindo.LazyLoading.getLoaded=function(){return this._waLoaded.$value();};jindo.LazyLoading.getLoading=function(){return this._waLoading.$value();};jindo.LazyLoading.getScriptElement=function(sUrl){return this._whtScript.$(sUrl)||null;};